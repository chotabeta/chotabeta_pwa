"use strict";(self["webpackChunkpwa_wibsite"]=self["webpackChunkpwa_wibsite"]||[]).push([[110],{3110:(e,t,o)=>{o.r(t),o.d(t,{default:()=>O});var a=o(3673),n=o(2323);const s=(0,a._)("br",null,null,-1),r=(0,a._)("br",null,null,-1),i={class:"cb-font-16 text-weight-bolder q-my-md"},l=(0,a.Uk)("Service Location Alert"),c=(0,a._)("br",null,null,-1),d=(0,a._)("br",null,null,-1),u=(0,a._)("br",null,null,-1);function p(e,t,o,p,g,h){const _=(0,a.up)("q-icon"),m=(0,a.up)("q-avatar"),w=(0,a.up)("q-btn"),b=(0,a.up)("q-card-section"),k=(0,a.up)("q-card"),f=(0,a.up)("q-dialog"),y=(0,a.up)("q-page-container"),v=(0,a.up)("q-layout");return(0,a.wg)(),(0,a.j4)(v,{view:"lHh lpr lFf"},{default:(0,a.w5)((()=>[(0,a.Wm)(y,null,{default:(0,a.w5)((()=>[(0,a.Wm)(f,{modelValue:p.location_check,"onUpdate:modelValue":t[1]||(t[1]=e=>p.location_check=e),persistent:""},{default:(0,a.w5)((()=>[(0,a.Wm)(k,{class:"full-width cb-round-borders-20"},{default:(0,a.w5)((()=>[(0,a.Wm)(b,{class:"text-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{class:"bg-red"},{default:(0,a.w5)((()=>[(0,a.Wm)(_,{name:"sentiment_dissatisfied",size:"xl",class:"text-white"})])),_:1}),s,r,(0,a._)("span",i,[(0,a.Wm)(_,{size:"sm",name:"location_on"}),l]),c,d,(0,a._)("span",null,(0,n.zw)(p.pick_not_in_territory),1),u,(0,a.Wm)(w,{label:"change the location",class:"text-red text-bold",onClick:t[0]||(t[0]=t=>e.$router.push("/home/dashboard_Location")),flat:""})])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})}var g=o(52),h=o.n(g),_=o(1959);let m=window.matchMedia("only screen and (max-width: 760px)").matches;m||(window.location="https://chotabeta.com/pwa");const w={setup(){return{leftDrawerOpen:(0,_.iH)(!1),latlongs:(0,_.iH)(null),name:(0,_.iH)(null),Address:(0,_.iH)(""),profile_pic:(0,_.iH)(null),location_check:(0,_.iH)(!1),pick_not_in_territory:(0,_.iH)(null)}},mounted(){this.getToken(),this.getLocation()},methods:{getToken(){var e=this;e.access_token=e.$store.state.token,null==e.access_token&&e.$router.push("/")},getLocation(){navigator.geolocation?navigator.geolocation.getCurrentPosition(this.showPosition,this.showError):ps.$q.notify({message:"Geolocation is not supported by this browser.",type:"Warning",progress:!0})},showPosition(e){var t=this;t.$store.dispatch("latlongs_data",{position:e.coords}).then((o=>{t.getReverseGeocodingData(e.coords.latitude,e.coords.longitude)})).catch((e=>{console.log(e)}))},showError(e){var t=this;switch(e.code){case e.PERMISSION_DENIED:t.$q.notify({message:"User denied the request for Geolocation.",type:"Warning",progress:!0});break;case e.POSITION_UNAVAILABLE:t.$q.notify({message:"Location information is unavailable.",type:"Warning",progress:!0});break;case e.TIMEOUT:t.$q.notify({message:"The request to get user location timed out.",type:"Warning",progress:!0});break;case e.UNKNOWN_ERROR:t.$q.notify({message:"An unknown error occurred.",type:"Warning",progress:!0});break}},territory_checkup(){var e=this;let t={headers:{Authorization:`Bearer ${e.access_token}`}};h().get("https://chotabeta.app/dev/testenv//api/check-territory2?base_location="+e.$store.state.latlongs+"&base_pincode=0&cache_hash=&l_number=&lat_lng="+e.$store.state.latlongs+"&pincode="+e.$store.state.pincode+"&playstore_version_name=&xid="+e.$store.state.xid,t).then((function(t){1==t.data.change_location_button_status?(e.pick_not_in_territory=t.data.pick_not_in_territory,e.location_check=!0):(localStorage.setItem("checking",0),e.$router.push("/Home/Dashboard"))})).catch((function(e){console.log(e)}))},getReverseGeocodingData(e,t){console.log(e,t,"latlongs dataaaaaaaaaaaaaaa");var o=new google.maps.LatLng(e,t),a=new google.maps.Geocoder;a.geocode({latLng:o},((e,t)=>{if(t!==google.maps.GeocoderStatus.OK&&alert(t),t==google.maps.GeocoderStatus.OK){var o=e[0];this.$store.dispatch("adddress_data",{address:o}).then((e=>{this.territory_checkup()})).catch((e=>{console.log(e)}))}}))}}};var b=o(4260),k=o(3066),f=o(2652),y=o(6778),v=o(151),q=o(5589),$=o(5096),W=o(4554),L=o(8240),x=o(7518),H=o.n(x);const I=(0,b.Z)(w,[["render",p]]),O=I;H()(w,"components",{QLayout:k.Z,QPageContainer:f.Z,QDialog:y.Z,QCard:v.Z,QCardSection:q.Z,QAvatar:$.Z,QIcon:W.Z,QBtn:L.Z})}}]);