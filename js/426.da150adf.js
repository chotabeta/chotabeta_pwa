"use strict";(self["webpackChunkpwa_wibsite"]=self["webpackChunkpwa_wibsite"]||[]).push([[426],{8426:(e,t,o)=>{o.r(t),o.d(t,{default:()=>E});var a=o(3673),s=o(2323);const r=(0,a._)("span",{class:"cb-font-16 text-weight-bolder q-px-sm"},"Search For Your Location",-1),l={class:"cb-shadow-1 q-px-sm cb-round-borders-10"},c=(0,a._)("div",{class:"row justify-center q-py-sm text-bold"},[(0,a._)("span",{class:"cb-text-grey-4"},"OR")],-1),n={class:"row cb-text-blue-8 text-bold"},d=(0,a._)("span",{class:"cb-text-blue-4 cb-font-16 q-px-sm"},"Choose Location from Map",-1),i=(0,a._)("div",{class:"row justify-center q-py-sm text-bold"},[(0,a._)("span",{class:"cb-text-grey-4"},"OR")],-1),p={class:"row cb-text-blue-8 text-bold"},u=(0,a._)("span",{class:"cb-text-blue-4 cb-font-16 q-px-sm"},"ChotaBeta Communities",-1),_=(0,a._)("div",{class:"text-center cb-text-grey-4 cb-round-borders-10 cb-shadow-1 q-my-md q-py-xs text-bold"},[(0,a._)("span",null,"Choose Your Community")],-1),g={class:"row"},m=(0,a._)("div",{class:"col-12"},[(0,a._)("span",{class:"cb-text-blue-8 cb-font text-bold"},"Recent Searches")],-1),h={class:"col-12 row q-pl-md"},b={class:"col-12 flex q-py-xs"},w=(0,a._)("div",{class:"q-px-md"},[(0,a._)("span",{class:"cb-text-blue-8"},"Other"),(0,a._)("br"),(0,a._)("span",{class:"cb-text-grey-4",style:{"font-size":"12px"}},"Not Assigned")],-1),x=(0,a._)("div",{class:"col-12 text-right cb-text-grey-4 q-py-sm"},"View More",-1),y={class:"row"},f=(0,a._)("div",{class:"col-12"},[(0,a._)("span",{class:"cb-text-blue-8 cb-font text-bold"},"Saved Locations")],-1),k={class:"col-12",style:{"max-height":"200px",overflow:"scroll"}},v=(0,a._)("br",null,null,-1),q=(0,a._)("br",null,null,-1),W=(0,a._)("br",null,null,-1);function $(e,t,o,$,S,Z){const Q=(0,a.up)("q-btn"),C=(0,a.up)("q-toolbar"),H=(0,a.up)("q-header"),A=(0,a.up)("q-icon"),L=(0,a.up)("q-input"),I=(0,a.up)("q-img"),z=(0,a.up)("q-separator"),D=(0,a.up)("q-item-section"),O=(0,a.up)("q-item-label"),P=(0,a.up)("q-item"),G=(0,a.up)("q-list"),V=(0,a.up)("q-avatar"),j=(0,a.up)("q-card-section"),K=(0,a.up)("q-card"),R=(0,a.up)("q-dialog"),U=(0,a.up)("q-page"),B=(0,a.up)("q-page-container"),N=(0,a.up)("q-layout"),J=(0,a.Q2)("ripple");return(0,a.wg)(),(0,a.j4)(N,{view:"lHh lpr lFf"},{default:(0,a.w5)((()=>[(0,a.Wm)(H,null,{default:(0,a.w5)((()=>[(0,a.Wm)(C,{class:"cb-bg-white-2 cb-text-blue-8"},{default:(0,a.w5)((()=>[(0,a.Wm)(Q,{flat:"",dense:"",round:"",icon:"arrow_back",onClick:t[0]||(t[0]=e=>Z.screen_back_redirection())}),r])),_:1})])),_:1}),(0,a.Wm)(B,null,{default:(0,a.w5)((()=>[(0,a.Wm)(U,{class:"q-px-md q-py-xs"},{default:(0,a.w5)((()=>[(0,a._)("div",l,[(0,a.Wm)(L,{borderless:"",placeholder:"Address Search e.g. Prashant Towers",onClick:t[1]||(t[1]=e=>Z.initAutocomplete()),modelValue:$.location_search,"onUpdate:modelValue":t[2]||(t[2]=e=>$.location_search=e),for:"toLocation1"},{prepend:(0,a.w5)((()=>[(0,a.Wm)(A,{name:"search",class:"cb-text-orange-8"})])),_:1},8,["modelValue"])]),c,(0,a._)("div",n,[(0,a.Wm)(I,{src:"https://chotabeta.app/dev/testenv/public/imgs/google-maps-48.png",width:"30px"}),d]),i,(0,a._)("div",p,[(0,a.Wm)(I,{src:"https://chotabeta.app/dev/testenv/public/imgs/house-48.png",width:"30px"}),u]),_,(0,a._)("div",g,[m,(0,a._)("div",h,[((0,a.wg)(),(0,a.iD)(a.HY,null,(0,a.Ko)(3,(e=>(0,a._)("div",b,[(0,a.Wm)(I,{src:"https://chotabeta.app/dev/testenv/public/imgs/house-48.png",width:"25px"}),w,(0,a.Wm)(z)]))),64))]),x]),(0,a._)("div",y,[f,(0,a._)("div",k,[(0,a.Wm)(G,{separator:""},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)($.saved_locations,(e=>(0,a.wy)(((0,a.wg)(),(0,a.j4)(P,{clickable:"",key:e,class:"q-px-xs",onClick:t=>Z.saved_location_add(e)},{default:(0,a.w5)((()=>[(0,a.Wm)(D,{avatar:"",class:"q-px-xs"},{default:(0,a.w5)((()=>["Home"==e.location_type?((0,a.wg)(),(0,a.j4)(A,{key:0,name:"home",size:"xs",class:"cb-bg-orange-8 q-pa-xs text-white cb-font",style:{"border-radius":"100%"}})):(0,a.kq)("",!0),"Home"!=e.location_type?((0,a.wg)(),(0,a.j4)(A,{key:1,name:"location_on",size:"xs",class:"cb-bg-orange-8 q-pa-xs text-white cb-font",style:{"border-radius":"100%"}})):(0,a.kq)("",!0)])),_:2},1024),(0,a.Wm)(D,null,{default:(0,a.w5)((()=>[(0,a.Wm)(O,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(e.location_type),1)])),_:2},1024),(0,a.Wm)(O,{caption:"",lines:"2"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(e.name),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])),[[J]]))),128))])),_:1})])]),(0,a.Wm)(R,{modelValue:$.territory_checkup_dialog,"onUpdate:modelValue":t[4]||(t[4]=e=>$.territory_checkup_dialog=e),persistent:""},{default:(0,a.w5)((()=>[(0,a.Wm)(K,{class:"cb-round-borders-20"},{default:(0,a.w5)((()=>[(0,a.Wm)(j,{class:"text-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(V,{color:"red","text-color":"white",size:"60px",icon:"sentiment_dissatisfied","font-size":"60px"}),v,(0,a.Wm)(A,{name:"location_on",size:"sm",class:"cb-text-grey-5 q-py-sm"}),(0,a.Uk)(" "+(0,s.zw)($.territory_data.custom_text),1),q,(0,a.Uk)(" "+(0,s.zw)($.territory_data.pick_and_drop_too_far_away),1),W,(0,a.Wm)(Q,{label:"change the location",class:"text-red text-bold",flat:"",onClick:t[3]||(t[3]=e=>($.territory_checkup_dialog=!1,$.location_search=null))})])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1})}o(2100),o(1768);var S=o(1959);const Z={setup(){return{access_token:(0,S.iH)(null),saved_locations:(0,S.iH)([]),carousels:(0,S.iH)(0),step:(0,S.iH)(1,2,3),data:(0,S.iH)(null),location_search:(0,S.iH)(null),searched_latlong:(0,S.iH)(null),selected_location:(0,S.iH)(null),territory_checkup_dialog:(0,S.iH)(!1),territory_data:(0,S.iH)([])}},mounted(){this.getToken(),this.pickanddrop_locationsearch()},methods:{getToken(){var e=this;e.access_token=e.$store.state.token,null==e.access_token&&e.$router.push("")},pickanddrop_locationsearch(){var e=this;let t={headers:{Authorization:`Bearer ${e.access_token}`}};e.$api.get("/api/favourite-locations-get-two",t).then((function(t){e.saved_locations=t.data.favourite_locations})).catch((function(e){console.log(e)}))},initAutocomplete(){var e=this,t=document.getElementById("toLocation1");const o={fields:["formatted_address","geometry.location"]};var a=new google.maps.places.Autocomplete(t,o);google.maps.event.addListener(a,"place_changed",(function(){var t=a.getPlace(),o=t.geometry.location.lat(),s=t.geometry.location.lng(),r=o+","+s;e.location_search=t.formatted_address,e.searched_latlong=r,e.territory_checkup()}))},territory_checkup(){var e=this,t=e.searched_latlong.split(","),o=new google.maps.LatLng(t[0],t[1]),a=new google.maps.Geocoder;a.geocode({latLng:o},((t,o)=>{if(o!==google.maps.GeocoderStatus.OK&&alert(o),o==google.maps.GeocoderStatus.OK){var a=t[0],s=a.address_components.length,r=a.address_components[s-1].long_name;let o={headers:{Authorization:`Bearer ${e.access_token}`}};e.$api.get("/api/check-territory2?lat_lng="+e.searched_latlong+"&pincode="+r+"&xid="+e.$store.state.xid,o).then((function(t){console.log(t),0==t.data.full_screen_error_status?e.$router.push("/add_address_page?searchaddress="+e.location_search+"&searched_latlong="+e.searched_latlong+"&pincode="+r+"&address="+e.$route.query.address):(e.territory_data=t.data,e.territory_checkup_dialog=!0)})).catch((function(e){console.log(e)}))}}))},saved_location_add(e){var t=this;t.selected_location=e,t.getReverseGeocodingData(e.location)},getReverseGeocodingData(e){var t=this,o=e.split(","),a=new google.maps.LatLng(o[0],o[1]),s=new google.maps.Geocoder;s.geocode({latLng:a},((e,o)=>{if(o!==google.maps.GeocoderStatus.OK&&alert(o),o==google.maps.GeocoderStatus.OK){var a=e[0],s=a.address_components.length;t.selected_location.postal_code=a.address_components[s-1].long_name,"1"==t.$route.query.address?(localStorage.setItem("pickup_address",JSON.stringify(t.selected_location)),t.$router.push("/PickAndDrop_s1?address=1")):"2"==t.$route.query.address?(localStorage.setItem("delivery_address",JSON.stringify(t.selected_location)),null==localStorage.getItem("pickup_address")||""==localStorage.getItem("pickup_address")?t.$router.push("/PickAndDrop_s1?address=2"):t.$router.push("/PickAndDrop_s1?address=12")):"c1"==t.$route.query.address?(localStorage.setItem("pickup_address",JSON.stringify(t.selected_location)),t.$router.push("/PickAndDrop_Checkout")):"c2"==t.$route.query.address&&(localStorage.setItem("delivery_address",JSON.stringify(t.selected_location)),t.$router.push("/PickAndDrop_Checkout"))}}))},screen_back_redirection(){var e=this;"1"==e.$route.query.address?e.$router.push("PickAndDrop_s1?address=1"):"2"==e.$route.query.address&&e.$router.push("PickAndDrop_s1?address=2")}}};var Q=o(4260),C=o(3066),H=o(3812),A=o(9570),L=o(8240),I=o(2652),z=o(4379),D=o(4842),O=o(4554),P=o(4027),G=o(5869),V=o(7011),j=o(3414),K=o(2035),R=o(2350),U=o(6778),B=o(151),N=o(5589),J=o(5096),T=o(6489),Y=o(7518),F=o.n(Y);const M=(0,Q.Z)(Z,[["render",$]]),E=M;F()(Z,"components",{QLayout:C.Z,QHeader:H.Z,QToolbar:A.Z,QBtn:L.Z,QPageContainer:I.Z,QPage:z.Z,QInput:D.Z,QIcon:O.Z,QImg:P.Z,QSeparator:G.Z,QList:V.Z,QItem:j.Z,QItemSection:K.Z,QItemLabel:R.Z,QDialog:U.Z,QCard:B.Z,QCardSection:N.Z,QAvatar:J.Z}),F()(Z,"directives",{Ripple:T.Z})}}]);