"use strict";(self["webpackChunkpwa_wibsite"]=self["webpackChunkpwa_wibsite"]||[]).push([[742],{6742:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Y});var s=a(3673),l=a(2323);const i={class:"flex cb-bg-white-2"},o=(0,s._)("span",{class:"cb-text-orange-8 text-subtitle2"},"Profile",-1),n=["src"],c={key:1,src:"https://chotabeta.com/icons/Group%202.png"},d={class:"flex q-px-sm"},r=(0,s.Uk)("Username"),m=(0,s._)("hr",null,null,-1),u={class:"flex q-px-sm"},p=(0,s.Uk)("Email"),g={key:0},h={key:1},f=(0,s._)("hr",null,null,-1),_={class:"flex q-px-sm"},b=(0,s.Uk)("Phone"),w=(0,s._)("hr",null,null,-1),x={class:"flex q-px-sm"},k=(0,s.Uk)("Address"),q=(0,s.Uk)(" SAVED ADDRESSES "),W={style:{width:"10%"}},v={class:"q-px-sm",style:{width:"90%"}},y={class:"text-subtitle2 cb-text-blue-8 text-weight-bolder"},z=(0,s.Uk)(" Home "),U=(0,s._)("div",{style:{"font-size":"11px"}}," Province or State as appropriate; mail code as appropriate; and country. Sample 1. Sample 2. Sample 3 ",-1),$=(0,s.Uk)(" Update Profile ");function V(e,t,a,V,D,S){const Z=(0,s.up)("q-space"),C=(0,s.up)("q-btn"),H=(0,s.up)("q-avatar"),Q=(0,s.up)("q-card-section"),A=(0,s.up)("q-icon"),E=(0,s.up)("q-card"),P=(0,s.up)("q-card-actions"),B=(0,s.up)("q-input"),j=(0,s.up)("q-select"),I=(0,s.up)("q-form"),T=(0,s.up)("q-dialog"),F=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(F,null,{default:(0,s.w5)((()=>[(0,s._)("div",i,[(0,s.Wm)(Z),(0,s.Wm)(Z),o,(0,s.Wm)(Z),(0,s.Wm)(C,{label:"logout",class:"cb-text-orange-8",flat:"",size:"sm","icon-right":"logout",onClick:S.logout},null,8,["onClick"])]),(0,s.Wm)(E,{class:"q-ma-md shadow-3"},{default:(0,s.w5)((()=>[(0,s.Wm)(Q,{class:"flex flex-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(H,{class:"shadow-3",size:"100px"},{default:(0,s.w5)((()=>[V.profile_pic?((0,s.wg)(),(0,s.iD)("img",{key:0,src:V.profile_pic},null,8,n)):((0,s.wg)(),(0,s.iD)("img",c)),(0,s.Wm)(C,{icon:"photo_camera",size:"sm",round:"",class:"absolute-bottom-right cb-bg-orange-8 text-white",style:{"margin-right":"-3px","margin-bottom":"-3px"}})])),_:1})])),_:1}),(0,s.Wm)(Q,{class:"cb-text-grey-4"},{default:(0,s.w5)((()=>[(0,s._)("div",d,[r,(0,s.Wm)(Z),(0,s.Uk)((0,l.zw)(V.name),1)]),m,(0,s._)("div",u,[p,(0,s.Wm)(Z),V.email?((0,s.wg)(),(0,s.iD)("span",h,(0,l.zw)(V.email),1)):((0,s.wg)(),(0,s.iD)("span",g,[(0,s.Wm)(C,{onClick:S.update_email,label:"Update Email",class:"cb-text-orange-8",flat:"",dense:"",size:"sm"},null,8,["onClick"])]))]),f,(0,s._)("div",_,[b,(0,s.Wm)(Z),(0,s.Uk)((0,l.zw)(V.mobile),1)]),w,(0,s._)("div",x,[k,(0,s.Wm)(Z),(0,s.Uk)((0,l.zw)(V.address),1)]),(0,s._)("div",null,[(0,s.Wm)(C,{label:"Edit Profile",flat:"",size:"md",class:"q-pa-none cb-text-orange-8",onClick:t[0]||(t[0]=e=>(S.get_servicing_cities(),V.edit_profile=!0))},{default:(0,s.w5)((()=>[(0,s.Wm)(A,{name:"edit",style:{"font-size":"14px"},class:"q-px-sm"})])),_:1})])])),_:1})])),_:1}),(0,s.Wm)(E,{class:"q-mx-md shadow-3"},{default:(0,s.w5)((()=>[(0,s.Wm)(Q,{class:"cb-bg-white-2 cb-text-blue-8 text-weight-bolder"},{default:(0,s.w5)((()=>[q])),_:1}),(0,s.Wm)(Q,{class:"q-pa-sm"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(V.n,(e=>((0,s.wg)(),(0,s.iD)("div",{class:"flex q-py-sm",style:{"border-bottom":"1px solid #D9D9D9"},key:e},[(0,s._)("div",W,[(0,s.Wm)(C,{icon:"house",round:"",class:"cb-bg-orange-8 text-white",size:"sm"})]),(0,s._)("div",v,[(0,s._)("div",y,[z,(0,s.Wm)(C,{"icon-right":"delete",label:"Delete",class:"cb-text-orange-8 float-right",dense:"",size:"sm",flat:""})]),U])])))),128))])),_:1}),(0,s.Wm)(P,null,{default:(0,s.w5)((()=>[3==V.n?((0,s.wg)(),(0,s.j4)(C,{key:0,label:"View More",flat:"",dense:"",size:"sm",class:"cb-text-orange-8",onClick:t[1]||(t[1]=e=>S.address_count(V.n))})):((0,s.wg)(),(0,s.j4)(C,{key:1,label:"View less",flat:"",dense:"",size:"sm",class:"cb-text-orange-8",onClick:t[2]||(t[2]=e=>S.address_count(V.n))}))])),_:1})])),_:1}),(0,s.Wm)(T,{modelValue:V.edit_profile,"onUpdate:modelValue":t[6]||(t[6]=e=>V.edit_profile=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(E,{class:"full-width"},{default:(0,s.w5)((()=>[(0,s.Wm)(Q,{class:"cb-text-blue-8 cb-bg-white-2"},{default:(0,s.w5)((()=>[$])),_:1}),(0,s.Wm)(Q,{class:"q-pa-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(I,{onSubmit:S.update_email,class:"text-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(B,{dense:"",outlined:"",class:"q-mb-sm",placeholder:"name",modelValue:V.name,"onUpdate:modelValue":t[3]||(t[3]=e=>V.name=e)},null,8,["modelValue"]),(0,s.Wm)(B,{dense:"",outlined:"",class:"q-mb-sm",placeholder:"email",modelValue:V.email,"onUpdate:modelValue":t[4]||(t[4]=e=>V.email=e),type:"email"},null,8,["modelValue"]),(0,s.Wm)(j,{dense:"",outlined:"",class:"q-mb-sm",placeholder:"",modelValue:V.address,"onUpdate:modelValue":t[5]||(t[5]=e=>V.address=e),options:V.cities},null,8,["modelValue","options"]),(0,s.Wm)(C,{type:"submit",label:"Update",class:"cb-bg-orange-8 text-white q-px-lg"})])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}a(1768);var D=a(1959);const S={setup(){return{data:(0,D.iH)(null),access_token:(0,D.iH)(null),profile_pic:(0,D.iH)(null),name:(0,D.iH)(null),email:(0,D.iH)(null),mobile:(0,D.iH)(null),address:(0,D.iH)(null),n:(0,D.iH)(3),edit_profile:(0,D.iH)(!1),cities:(0,D.iH)([])}},mounted(){this.getAccessToken(),this.userdetails()},methods:{getAccessToken(){var e=this;e.access_token=e.$store.state.token,null!=e.access_token&&e.access_token||e.$router.push("")},userdetails(){var e=this;let t={headers:{Authorization:`Bearer ${e.access_token}`}};e.$api.get("/api/user",t).then((function(t){e.profile_pic=t.data.profile_pic,e.name=t.data.name,e.email=t.data.email,e.mobile=t.data.mobile,e.address=t.data.address})).catch((function(e){console.log(e)}))},address_count(e){var t=this;t.n=3==e?10:3},get_servicing_cities(){var e=this;let t={headers:{Authorization:`Bearer ${e.access_token}`}};e.$api.get("/api/get-serving-locations",t).then((function(t){200==t.data.status_code?e.cities=t.data.locations:e.$q.notify({message:t.data.message,type:"negative",progress:!0})})).catch((function(e){console.log(e)}))},update_email(){var e=this;let t={headers:{Authorization:`Bearer ${e.access_token}`}};e.$api.post("/api/edit-profile",{name:e.name,city:e.address,email:e.email},t).then((function(t){200==t.data.status_code?e.$q.notify({message:t.data.message,type:"positive",progress:!0}):e.$q.notify({message:t.data.message,type:"negative",progress:!0})})).catch((function(e){console.log(e)}))},logout(){var e=this;let t={headers:{Authorization:`Bearer ${e.$store.state.token}`}};e.$api.get("/api/logout",t).then((function(t){console.log(t),200==t.data.status_code&&e.$store.dispatch("logout").then((t=>{e.$q.notify({message:t,type:"positive",progress:!0}),e.$router.push("/")})).catch((e=>{console.log(e)}))})).catch((function(e){console.log(e)})),e.$router.push("")}}};var Z=a(4260),C=a(4379),H=a(2025),Q=a(8240),A=a(151),E=a(5589),P=a(5096),B=a(4554),j=a(9367),I=a(6778),T=a(8689),F=a(4842),G=a(5439),K=a(7518),M=a.n(K);const R=(0,Z.Z)(S,[["render",V]]),Y=R;M()(S,"components",{QPage:C.Z,QSpace:H.Z,QBtn:Q.Z,QCard:A.Z,QCardSection:E.Z,QAvatar:P.Z,QIcon:B.Z,QCardActions:j.Z,QDialog:I.Z,QForm:T.Z,QInput:F.Z,QSelect:G.Z})}}]);