"use strict";(self["webpackChunkpwa_wibsite"]=self["webpackChunkpwa_wibsite"]||[]).push([[7060],{7060:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ge});var s=a(3673),l=a(2323);const n=(0,s._)("div",{id:"loader2",class:"pre-loader",style:{display:"none"}},null,-1),o=(0,s._)("div",{class:"row items-center justify-center cb-bg-white-2"},[(0,s._)("span",{class:"cb-text-orange-8 text-weight-bolder cb-font-16"},"My Orders")],-1),r={class:"row items-center q-px-md q-py-sm"},c=["src"],i={class:"col"},d={class:"cb-text-blue-8 text-weight-bolder"},u=(0,s._)("br",null,null,-1),m={class:"cb-text-grey-4"},p={class:"text-right col text-weight-bolder"},_=(0,s._)("br",null,null,-1),b={class:"full-width q-py-xs"},g={colspan:"2"},y={class:"flex"},h={class:"row items-center q-py-xs"},w=(0,s.Uk)("Pay Now"),x={key:1,class:"text-weight-bolder cb-font-14 cb-text-green-8"},f=["onClick"],k={key:1,class:"text-center q-mt-md"},q=(0,s._)("h5",{class:"cb-text-grey-4 text-bold"},"NO ORDERS",-1),v=(0,s._)("span",{class:"cb-text-grey-4 text-bold cb-font-16"},"Order your daily needs, fresh vegetables,fruits,groceries, and all your home essentials.One-stop solution for all your daily needs",-1),W=(0,s._)("br",null,null,-1),z={class:"row items-center q-px-md q-py-sm"},$=["src"],O={class:"col"},C={class:"cb-text-blue-8 text-weight-bolder"},A=(0,s._)("br",null,null,-1),H={class:"cb-text-grey-4"},Z={class:"text-right col text-weight-bolder"},D=(0,s._)("br",null,null,-1),Q={class:"full-width q-py-xs"},P={colspan:"2"},U={class:"flex"},V={class:"flex q-px-lg q-py-sm"},B=(0,s.Uk)("Pay Now"),T={key:1,class:"text-weight-bolder cb-font-14 cb-text-green-8"},R=["onClick"],S={key:1,class:"text-center q-mt-md"},I=(0,s._)("h5",{class:"cb-text-grey-4 text-bold"},"NO ORDERS",-1),j=(0,s._)("span",{class:"cb-text-grey-4 text-bold cb-font-16"},"Order your daily needs, fresh vegetables,fruits,groceries, and all your home essentials.One-stop solution for all your daily needs",-1),E=(0,s._)("br",null,null,-1),N=(0,s._)("br",null,null,-1),Y=(0,s._)("span",{class:"text-weight-bolder text-h6"},"Your Payment Has Been Declined!",-1),K=(0,s._)("br",null,null,-1);function L(e,t,a,L,M,F){const G=(0,s.up)("q-tab"),J=(0,s.up)("q-tabs"),X=(0,s.up)("q-avatar"),ee=(0,s.up)("q-icon"),te=(0,s.up)("q-separator"),ae=(0,s.up)("q-space"),se=(0,s.up)("q-btn"),le=(0,s.up)("q-card-section"),ne=(0,s.up)("q-card"),oe=(0,s.up)("q-img"),re=(0,s.up)("q-tab-panel"),ce=(0,s.up)("q-tab-panels"),ie=(0,s.up)("q-page"),de=(0,s.up)("q-dialog");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(ie,{class:"animate__animated animate__slideInRight"},{default:(0,s.w5)((()=>[n,o,(0,s.Wm)(J,{breakpoint:0,align:"center",dense:"",modelValue:L.tab,"onUpdate:modelValue":t[0]||(t[0]=e=>L.tab=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(G,{class:"cb-text-orange-8",label:"Active",name:"Active"}),(0,s.Wm)(G,{class:"cb-text-orange-8",label:"Past",name:"Past"})])),_:1},8,["modelValue"]),(0,s.Wm)(ce,{modelValue:L.tab,"onUpdate:modelValue":t[3]||(t[3]=e=>L.tab=e),animated:""},{default:(0,s.w5)((()=>[(0,s.Wm)(re,{name:"Active"},{default:(0,s.w5)((()=>[0!=L.Active_orders.length?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(L.Active_orders,(t=>((0,s.wg)(),(0,s.j4)(ne,{class:"cb-shadow-1 cb-round-borders-10 q-pa-sm q-mb-md",key:t},{default:(0,s.w5)((()=>[(0,s.Wm)(le,{class:"cb-font-12 cb-text-grey-4 q-px-sm q-py-none"},{default:(0,s.w5)((()=>[(0,s._)("div",r,[(0,s.Wm)(X,{size:"50px",style:{border:"1px solid grey"},class:"q-mr-sm"},{default:(0,s.w5)((()=>[(0,s.Wm)(X,{size:"30px",square:""},{default:(0,s.w5)((()=>[(0,s._)("img",{src:L.image_url+t.categ_image,class:"fit"},null,8,c)])),_:2},1024)])),_:2},1024),(0,s._)("div",i,[(0,s._)("span",d,(0,l.zw)(t.category_name),1),u,(0,s._)("span",m,(0,l.zw)(t.service_name),1)]),(0,s._)("div",p,[(0,s._)("span",null,"Order #"+(0,l.zw)(t.uid),1),_,(0,s._)("span",null,[(0,s.Uk)((0,l.zw)(t.order_status_string)+" ",1),(0,s.Wm)(ee,{name:"check_circle",size:"xs",color:"orange"})])])]),(0,s.Wm)(te),(0,s._)("table",b,[(0,s._)("tr",g,[(0,s._)("td",null,"Ordered On:  "+(0,l.zw)(t.delivered_at),1)]),(0,s._)("tr",null,[(0,s._)("td",y,[(0,s.Uk)("Payment :   "+(0,l.zw)(t.payment_mode)+" ",1),(0,s.Wm)(ae),(0,s.Uk)("Amount:  Rs."+(0,l.zw)(t.amount),1)])])]),(0,s.Wm)(te),(0,s._)("div",h,[(0,s.Wm)(se,{label:"Track Order",flat:"",class:"text-weight-bolder cb-font-14 q-px-none cb-text-blue-8",onClick:e=>F.trackorderdata(t.uid)},null,8,["onClick"]),(0,s.Wm)(ae),0!=t.amount&&"paid"!=t.payment_status?((0,s.wg)(),(0,s.j4)(se,{key:0,class:"text-weight-bolder cb-font-14 cb-text-orange-8",dense:"",flat:"",onClick:e=>F.order_payment_function(t.uid)},{default:(0,s.w5)((()=>[w])),_:2},1032,["onClick"])):(0,s.kq)("",!0),"paid"==t.payment_status&&0!=t.amount?((0,s.wg)(),(0,s.iD)("span",x,(0,l.zw)(t.payment_status),1)):(0,s.kq)("",!0)]),(0,s.Wm)(te),(0,s._)("div",{class:"flex text-weight-bolder flex-center q-py-sm cb-font-16 cb-text-grey-4",onClick:a=>e.$router.push("/Home/OrderDetails?order_id="+t.uid+"&service=a")},"View Details",8,f)])),_:2},1024)])),_:2},1024)))),128)):((0,s.wg)(),(0,s.iD)("div",k,[(0,s.Wm)(oe,{src:"https://chotabeta.app/dev/testenv/public/imgs/cart-2.png",width:"30%"}),q,v,W,(0,s.Wm)(se,{label:"Shop now",class:"cb-bg-orange-8 text-white q-px-xl q-my-lg",onClick:t[1]||(t[1]=t=>e.$router.push("/home/dashboard"))})]))])),_:1}),(0,s.Wm)(re,{name:"Past"},{default:(0,s.w5)((()=>[0!=L.past_orders.length?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(L.past_orders,(t=>((0,s.wg)(),(0,s.j4)(ne,{class:"cb-shadow-1 cb-round-borders-10 q-pa-sm q-mb-md",key:t},{default:(0,s.w5)((()=>[(0,s.Wm)(le,{class:"cb-font-12 cb-text-grey-4 q-px-sm q-py-none"},{default:(0,s.w5)((()=>[(0,s._)("div",z,[(0,s.Wm)(X,{size:"50px",style:{border:"1px solid grey"},class:"q-mr-sm"},{default:(0,s.w5)((()=>[(0,s.Wm)(X,{size:"30px",square:""},{default:(0,s.w5)((()=>[(0,s._)("img",{src:L.image_url+t.categ_image,class:"fit"},null,8,$)])),_:2},1024)])),_:2},1024),(0,s._)("div",O,[(0,s._)("span",C,(0,l.zw)(t.category_name),1),A,(0,s._)("span",H,(0,l.zw)(t.service_name),1)]),(0,s._)("div",Z,[(0,s._)("span",null,"Order #"+(0,l.zw)(t.uid),1),D,(0,s._)("span",null,[(0,s.Uk)((0,l.zw)(t.order_status_string)+" ",1),(0,s.Wm)(ee,{name:"check_circle",size:"xs",color:"orange"})])])]),(0,s.Wm)(te),(0,s._)("table",Q,[(0,s._)("tr",P,[(0,s._)("td",null,"Ordered On:  "+(0,l.zw)(t.delivered_at),1)]),(0,s._)("tr",null,[(0,s._)("td",U,[(0,s.Uk)("Payment :   "+(0,l.zw)(t.payment_mode)+" ",1),(0,s.Wm)(ae),(0,s.Uk)("Amount:  Rs."+(0,l.zw)(t.amount),1)])])]),(0,s.Wm)(te),(0,s._)("div",V,[(0,s.Wm)(ae),0!=t.amount&&"paid"!=t.payment_status?((0,s.wg)(),(0,s.j4)(se,{key:0,class:"text-weight-bolder cb-font-14 cb-text-orange-8",dense:"",flat:"",onClick:e=>F.order_payment_function(t.uid)},{default:(0,s.w5)((()=>[B])),_:2},1032,["onClick"])):(0,s.kq)("",!0),"paid"==t.payment_status&&0!=t.amount?((0,s.wg)(),(0,s.iD)("span",T,(0,l.zw)(t.payment_status),1)):(0,s.kq)("",!0)]),(0,s.Wm)(te),(0,s._)("div",{class:"flex text-weight-bolder flex-center q-py-sm cb-font-16 cb-text-grey-4",onClick:a=>e.$router.push("/Home/OrderDetails?order_id="+t.uid+"&service=a")},"View Details",8,R)])),_:2},1024)])),_:2},1024)))),128)):((0,s.wg)(),(0,s.iD)("div",S,[(0,s.Wm)(oe,{src:"https://chotabeta.app/dev/testenv/public/imgs/cart-2.png",width:"30%"}),I,j,E,(0,s.Wm)(se,{label:"Shop now",class:"cb-bg-orange-8 text-white q-px-xl q-my-lg",onClick:t[2]||(t[2]=t=>e.$router.push("/home/dashboard"))})]))])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,s.Wm)(de,{modelValue:L.payment_decline_method,"onUpdate:modelValue":t[5]||(t[5]=e=>L.payment_decline_method=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(ne,{class:"q-px-md q-py-md cb-round-borders-20 text-grey-9"},{default:(0,s.w5)((()=>[(0,s.Wm)(le,{class:"text-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(X,{size:"80px",class:"bg-orange-3"},{default:(0,s.w5)((()=>[(0,s.Wm)(X,{size:"65px",class:"bg-white cb-text-orange-8","font-size":"60px",icon:"close"})])),_:1}),N,Y,K,(0,s.Wm)(se,{label:"Ok",class:"q-px-xl cb-font-16 cb-bg-orange-8 text-white q-mb-sm q-mt-lg",onClick:t[4]||(t[4]=e=>F.refresh_page_without_response())})])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}a(1768);var M=a(1959);const F={setup(){return{tracking_details:[],data:(0,M.iH)(null),tab:(0,M.iH)("Active"),access_token:(0,M.iH)(null),Active_orders:(0,M.iH)([]),image_url:(0,M.iH)(null),trackdailog:(0,M.iH)(!1),position:(0,M.iH)("bottom"),xid:(0,M.iH)(null),past_orders:(0,M.iH)([]),payment_decline_method:(0,M.iH)(!1)}},mounted(){this.getAccessToken(),this.gettodaydata(),"fail"==this.$route.query.response&&(this.payment_decline_method=!0),this.$route.query.id&&this.update_payment_status(this.$route.query.id)},methods:{getAccessToken(){var e=this;e.$store.state.token?e.access_token=e.$store.state.token:e.access_token=e.$store.state.token_cb,e.$store.state.xid?e.xid=e.$store.state.xid:e.xid=e.$store.state.xid_cb,null!=e.access_token&&e.access_token||e.$router.push("/")},gettodaydata(){var e=this,t=document.getElementById("loader2");t.style.display="block";let a={headers:{Authorization:`Bearer ${e.access_token}`}};e.$api.get("/api/v2/my-orders2",a).then((function(a){t.style.display="none",e.Active_orders=a.data.open_orders,e.image_url=a.data.image_url,e.past_orders=a.data.delivered_orders})).catch((function(e){console.log(e)}))},trackorderdata(e){var t=this;t.$router.push("/LocationTrack?uid="+e)},open(e){var t=this;t.trackdailog=!0},order_payment_function(e){var t=this,a=document.getElementById("loader2");a.style.display="block";let s={headers:{Authorization:`Bearer ${t.access_token}`}};t.$api.get("/api/v4/myorders-payment?uid="+e,s).then((function(e){if(a.style.display="none",200==e.data.status_code){var s="https://pay.easebuzz.in/pay/"+e.data.payment_access_token;window.location=s}else t.$q.notify({message:e.data.message,type:"negative",progress:!0});console.log(e.data,"v4/myorders-payment?uid=")})).catch((function(e){console.log(e)}))},refresh_page_without_response(){var e=this;e.payment_decline_method=!1,e.$router.push(e.$route.path)},update_payment_status(e){var t=this,a=document.getElementById("loader2");a.style.display="block";let s={headers:{Authorization:`Bearer ${t.access_token}`}};t.$api.post("/api/update-payment-status",{id:e},s).then((function(e){a.style.display="none"})).catch((function(e){console.log(e)})),t.$router.push(t.$route.path),t.gettodaydata()}}};var G=a(4260),J=a(4379),X=a(7547),ee=a(3269),te=a(5906),ae=a(6602),se=a(151),le=a(5589),ne=a(5096),oe=a(4554),re=a(5869),ce=a(2025),ie=a(8240),de=a(4027),ue=a(6778),me=a(677),pe=a(7518),_e=a.n(pe);const be=(0,G.Z)(F,[["render",L]]),ge=be;_e()(F,"components",{QPage:J.Z,QTabs:X.Z,QTab:ee.Z,QTabPanels:te.Z,QTabPanel:ae.Z,QCard:se.Z,QCardSection:le.Z,QAvatar:ne.Z,QIcon:oe.Z,QSeparator:re.Z,QSpace:ce.Z,QBtn:ie.Z,QImg:de.Z,QDialog:ue.Z}),_e()(F,"directives",{ClosePopup:me.Z})}}]);