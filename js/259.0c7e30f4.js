"use strict";(self["webpackChunkpwa_wibsite"]=self["webpackChunkpwa_wibsite"]||[]).push([[259],{259:(e,t,o)=>{o.r(t),o.d(t,{default:()=>X});var a=o(3673),s=o(2323);const r=(0,a._)("span",{class:"cb-font-16 text-weight-bolder q-px-sm"},"Search For Your Location",-1),l=(0,a._)("div",{id:"loader2",class:"pre-loader",style:{display:"none"}},null,-1),c={class:"cb-shadow-1 q-px-sm cb-round-borders-10"},n=(0,a._)("div",{class:"row justify-center q-py-sm text-bold"},[(0,a._)("span",{class:"cb-text-grey-4"},"OR")],-1),d={class:"row cb-text-blue-8 text-bold"},i=(0,a._)("span",{class:"cb-text-blue-4 cb-font-16 q-px-sm"},"Choose Location from Map",-1),u=(0,a._)("div",{class:"row justify-center q-py-sm text-bold"},[(0,a._)("span",{class:"cb-text-grey-4"},"OR")],-1),p={class:"row cb-text-blue-8 text-bold"},_=(0,a._)("span",{class:"cb-text-blue-4 cb-font-16 q-px-sm"},"ChotaBeta Communities",-1),g=(0,a._)("div",{class:"text-center cb-text-grey-4 cb-round-borders-10 cb-shadow-1 q-my-md q-py-xs text-bold"},[(0,a._)("span",null,"Choose Your Community")],-1),m={class:"row"},h=(0,a._)("div",{class:"col-12"},[(0,a._)("span",{class:"cb-text-blue-8 cb-font text-bold"},"Recent Searches")],-1),y={class:"col-12 row q-pl-md"},b={class:"col-12 flex q-py-xs"},f=(0,a._)("div",{class:"q-px-md"},[(0,a._)("span",{class:"cb-text-blue-8"},"Other"),(0,a._)("br"),(0,a._)("span",{class:"cb-text-grey-4",style:{"font-size":"12px"}},"Not Assigned")],-1),k=(0,a._)("div",{class:"col-12 text-right cb-text-grey-4 q-py-sm"},"View More",-1),v={class:"row"},x=(0,a._)("div",{class:"col-12"},[(0,a._)("span",{class:"cb-text-blue-8 cb-font text-bold"},"Saved Locations")],-1),w={class:"col-12",style:{"max-height":"200px",overflow:"scroll"}},q=(0,a._)("br",null,null,-1),S=(0,a._)("br",null,null,-1),$=(0,a._)("br",null,null,-1);function I(e,t,o,I,W,O){const Z=(0,a.up)("q-btn"),C=(0,a.up)("q-toolbar"),Q=(0,a.up)("q-header"),H=(0,a.up)("q-icon"),L=(0,a.up)("q-input"),N=(0,a.up)("q-img"),A=(0,a.up)("q-separator"),J=(0,a.up)("q-item-section"),z=(0,a.up)("q-item-label"),D=(0,a.up)("q-item"),P=(0,a.up)("q-list"),B=(0,a.up)("q-avatar"),R=(0,a.up)("q-card-section"),G=(0,a.up)("q-card"),V=(0,a.up)("q-dialog"),j=(0,a.up)("q-page"),K=(0,a.up)("q-page-container"),U=(0,a.up)("q-layout"),E=(0,a.Q2)("ripple");return(0,a.wg)(),(0,a.j4)(U,{view:"lHh lpr lFf"},{default:(0,a.w5)((()=>[(0,a.Wm)(Q,null,{default:(0,a.w5)((()=>[(0,a.Wm)(C,{class:"cb-bg-white-2 cb-text-blue-8"},{default:(0,a.w5)((()=>[(0,a.Wm)(Z,{flat:"",dense:"",round:"",icon:"arrow_back",onClick:t[0]||(t[0]=e=>O.Screen_Back_Redirection())}),r])),_:1})])),_:1}),(0,a.Wm)(K,{class:"animate__animated animate__slideInRight"},{default:(0,a.w5)((()=>[(0,a.Wm)(j,{class:"q-px-md q-py-xs"},{default:(0,a.w5)((()=>[l,(0,a._)("div",c,[(0,a.Wm)(L,{borderless:"",placeholder:"Address Search e.g. Prashant Towers",onClick:t[1]||(t[1]=e=>O.initAutocomplete()),modelValue:I.location_search,"onUpdate:modelValue":t[2]||(t[2]=e=>I.location_search=e),for:"toLocation1"},{prepend:(0,a.w5)((()=>[(0,a.Wm)(H,{name:"search",class:"cb-text-orange-8"})])),_:1},8,["modelValue"])]),n,(0,a._)("div",d,[(0,a.Wm)(N,{src:"https://chotabeta.app/dev/testenv/public/imgs/google-maps-48.png",width:"30px"}),i]),u,(0,a._)("div",p,[(0,a.Wm)(N,{src:"https://chotabeta.app/dev/testenv/public/imgs/house-48.png",width:"30px"}),_]),g,(0,a._)("div",m,[h,(0,a._)("div",y,[((0,a.wg)(),(0,a.iD)(a.HY,null,(0,a.Ko)(3,(e=>(0,a._)("div",b,[(0,a.Wm)(N,{src:"https://chotabeta.app/dev/testenv/public/imgs/house-48.png",width:"25px"}),f,(0,a.Wm)(A)]))),64))]),k]),(0,a._)("div",v,[x,(0,a._)("div",w,[(0,a.Wm)(P,{separator:""},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(I.saved_locations,(e=>(0,a.wy)(((0,a.wg)(),(0,a.j4)(D,{clickable:"",key:e,class:"q-px-xs",onClick:t=>O.saved_location_add(e)},{default:(0,a.w5)((()=>[(0,a.Wm)(J,{avatar:"",class:"q-px-xs"},{default:(0,a.w5)((()=>["Home"==e.location_type?((0,a.wg)(),(0,a.j4)(H,{key:0,name:"home",size:"xs",class:"cb-bg-orange-8 q-pa-xs text-white cb-font",style:{"border-radius":"100%"}})):(0,a.kq)("",!0),"Home"!=e.location_type?((0,a.wg)(),(0,a.j4)(H,{key:1,name:"location_on",size:"xs",class:"cb-bg-orange-8 q-pa-xs text-white cb-font",style:{"border-radius":"100%"}})):(0,a.kq)("",!0)])),_:2},1024),(0,a.Wm)(J,null,{default:(0,a.w5)((()=>[(0,a.Wm)(z,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(e.location_type),1)])),_:2},1024),(0,a.Wm)(z,{caption:"",lines:"2"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(e.name),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])),[[E]]))),128))])),_:1})])]),(0,a.Wm)(V,{modelValue:I.territory_checkup_dialog,"onUpdate:modelValue":t[4]||(t[4]=e=>I.territory_checkup_dialog=e),persistent:""},{default:(0,a.w5)((()=>[(0,a.Wm)(G,{class:"cb-round-borders-20"},{default:(0,a.w5)((()=>[(0,a.Wm)(R,{class:"text-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(B,{color:"red","text-color":"white",size:"60px",icon:"sentiment_dissatisfied","font-size":"60px"}),q,(0,a.Wm)(H,{name:"location_on",size:"sm",class:"cb-text-grey-5 q-py-sm"}),(0,a.Uk)(" "+(0,s.zw)(I.territory_data.custom_text),1),S,(0,a.Uk)(" "+(0,s.zw)(I.territory_data.pick_and_drop_too_far_away),1),$,(0,a.Wm)(Z,{label:"change the location",class:"text-red text-bold",flat:"",onClick:t[3]||(t[3]=e=>(I.territory_checkup_dialog=!1,I.location_search=null))})])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1})}o(2100),o(1768);var W=o(1959);const O={setup(){return{access_token:(0,W.iH)(null),saved_locations:(0,W.iH)([]),carousels:(0,W.iH)(0),step:(0,W.iH)(1,2,3),data:(0,W.iH)(null),location_search:(0,W.iH)(null),searched_latlong:(0,W.iH)(null),selected_location:(0,W.iH)(null),territory_checkup_dialog:(0,W.iH)(!1),territory_data:(0,W.iH)([]),xid:(0,W.iH)(null)}},mounted(){this.getToken(),this.mypath(),this.pickanddrop_locationsearch()},methods:{getToken(){var e=this;e.$store.state.token?e.access_token=e.$store.state.token:e.access_token=e.$store.state.token_cb,e.$store.state.xid?e.xid=e.$store.state.xid:e.xid=e.$store.state.xid_cb,null!=e.access_token&&e.access_token||e.$router.push("/")},pickanddrop_locationsearch(){var e=this,t=document.getElementById("loader2");t.style.display="block";let o={headers:{Authorization:`Bearer ${e.access_token}`}};e.$api.get("/api/favourite-locations-get-two",o).then((function(o){t.style.display="none",e.saved_locations=o.data.favourite_locations})).catch((function(e){console.log(e)}))},initAutocomplete(){var e=this,t=document.getElementById("toLocation1");const o={fields:["formatted_address","geometry.location"]};var a=new google.maps.places.Autocomplete(t,o);google.maps.event.addListener(a,"place_changed",(function(){var t=a.getPlace(),o=t.geometry.location.lat(),s=t.geometry.location.lng(),r=o+","+s;e.location_search=t.formatted_address,e.searched_latlong=r,e.territory_checkup()}))},territory_checkup(){var e=this,t=e.searched_latlong.split(","),o=new google.maps.LatLng(t[0],t[1]),a=new google.maps.Geocoder;a.geocode({latLng:o},((t,o)=>{if(o!==google.maps.GeocoderStatus.OK&&alert(o),o==google.maps.GeocoderStatus.OK){var a=t[0],s=a.address_components.length,r=a.address_components[s-1].long_name,l=document.getElementById("loader2");l.style.display="block";let o={headers:{Authorization:`Bearer ${e.access_token}`}};e.$api.get("/api/check-territory2?lat_lng="+e.searched_latlong+"&pincode="+r+"&xid="+e.xid,o).then((function(t){l.style.display="none",console.log(t),0==t.data.full_screen_error_status?e.$router.push("/add_address_page?searchaddress="+e.location_search+"&searched_latlong="+e.searched_latlong+"&pincode="+r+"&address="+e.$route.query.address+"&client_id="+e.food_client_id+"&plan="+e.$route.query.plan+"&subscription="+e.$route.query.subscription+"&fev="+e.$route.query.fev):(e.territory_data=t.data,e.territory_checkup_dialog=!0)})).catch((function(e){console.log(e)}))}}))},saved_location_add(e){var t=this;t.selected_location=e,t.getReverseGeocodingData(e.location)},getReverseGeocodingData(e){var t=this,o=e.split(","),a=new google.maps.LatLng(o[0],o[1]),s=new google.maps.Geocoder;s.geocode({latLng:a},((e,o)=>{if(o!==google.maps.GeocoderStatus.OK&&alert(o),o==google.maps.GeocoderStatus.OK){var a=e[0],s=a.address_components.length;t.selected_location.postal_code=a.address_components[s-1].long_name;s=a.address_components.length;t.update_user_details(a.address_components[s-1].long_name),"1"==t.$route.query.address?(localStorage.setItem("pickup_address",JSON.stringify(t.selected_location)),t.$router.push("/PickAndDrop_s1?address=1")):"2"==t.$route.query.address?(localStorage.setItem("delivery_address",JSON.stringify(t.selected_location)),null==localStorage.getItem("pickup_address")||""==localStorage.getItem("pickup_address")?t.$router.push("/PickAndDrop_s1?address=2"):t.$router.push("/PickAndDrop_s1?address=12")):"c1"==t.$route.query.address?(localStorage.setItem("pickup_address",JSON.stringify(t.selected_location)),t.$router.push("/PickAndDrop_Checkout")):"c2"==t.$route.query.address?(localStorage.setItem("delivery_address",JSON.stringify(t.selected_location)),t.$router.push("/PickAndDrop_Checkout")):"r1"==t.$route.query.address?(localStorage.setItem("rentment_address",JSON.stringify(t.selected_location)),t.$router.push("/rent_me3")):"rp"==t.$route.query.address?(localStorage.setItem("rentment_address",JSON.stringify(t.selected_location)),t.$router.push("/rent_me1?address=rp")):"p1"==t.$route.query.address&&void 0==t.$route.query.fev?(localStorage.setItem("pick_from_store_address",JSON.stringify(t.selected_location)),t.$router.push("/PickFromStore_Checkout?adding=1")):"p1"==t.$route.query.address&&"p1"==t.$route.query.fev?(localStorage.setItem("pick_from_store_fev_store",JSON.stringify(t.selected_location)),t.$router.push("/PickFromStore_Checkout")):"d1"==t.$route.query.address?(localStorage.setItem("pickup_address",JSON.stringify(t.selected_location)),t.$router.push("/DriveMe_Summary")):"d2"==t.$route.query.address?(localStorage.setItem("delivery_address",JSON.stringify(t.selected_location)),t.$router.push("/DriveMe_Summary")):"f1"==t.$route.query.address&&(localStorage.setItem("food_delivery_address",JSON.stringify(t.selected_location)),t.$router.push("/food-checkout?adding=1&plan="+t.$route.query.plan+"&subscription="+t.$route.query.subscription))}}))},update_user_details(e){var t=this,o=document.getElementById("loader2");o.style.display="block";let a=new FormData;a.append("pincode",e);let s={headers:{Authorization:`Bearer ${t.access_token}`}};t.$api.post("/api/update-user-details",a,s).then((function(e){console.log("response")})).catch((function(e){console.log(e)})),o.style.display="none"},mypath(){var e=this,t=[],o=0;if(localStorage.getItem("mypath")&&(t=JSON.parse(localStorage.getItem("mypath"))),t.forEach(((t,a)=>{e.$route.fullPath==t&&0==o&&(o=a)})),0==o)t.push(e.$route.fullPath);else for(var a=1;a<=t.length;++a)a<=o||t.splice(a,1);localStorage.setItem("mypath",JSON.stringify(t))},Screen_Back_Redirection(){var e=this,t=JSON.parse(localStorage.getItem("mypath")),o=t.length;e.$router.push(t[o-2])}}};var Z=o(4260),C=o(3066),Q=o(3812),H=o(9570),L=o(8240),N=o(2652),A=o(4379),J=o(4842),z=o(4554),D=o(4027),P=o(5869),B=o(7011),R=o(3414),G=o(2035),V=o(2350),j=o(6778),K=o(151),U=o(5589),E=o(5096),F=o(6489),M=o(7518),T=o.n(M);const Y=(0,Z.Z)(O,[["render",I]]),X=Y;T()(O,"components",{QLayout:C.Z,QHeader:Q.Z,QToolbar:H.Z,QBtn:L.Z,QPageContainer:N.Z,QPage:A.Z,QInput:J.Z,QIcon:z.Z,QImg:D.Z,QSeparator:P.Z,QList:B.Z,QItem:R.Z,QItemSection:G.Z,QItemLabel:V.Z,QDialog:j.Z,QCard:K.Z,QCardSection:U.Z,QAvatar:E.Z}),T()(O,"directives",{Ripple:F.Z})}}]);