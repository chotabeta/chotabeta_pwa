"use strict";(self["webpackChunkpwa_wibsite"]=self["webpackChunkpwa_wibsite"]||[]).push([[280],{280:(e,t,l)=>{l.r(t),l.d(t,{default:()=>ee});var a=l(3673),s=l(2323);const o=(0,a._)("div",{id:"loader2",class:"pre-loader",style:{display:"none"}},null,-1),i={class:"row q-pt-md q-px-sm text-grey-8"},n={key:0,class:"col-8"},r={class:"text-weight-bolder"},d=(0,a._)("br",null,null,-1),c={class:"cb-font-12"},u=(0,a._)("br",null,null,-1),m={class:"text-weight-bolder cb-font-16"},p=(0,a._)("span",{class:"q-px-xs"},"|",-1),_=(0,a._)("br",null,null,-1),g={class:"col-4 text-right"},h=["src"],b={class:"q-my-md"},w={key:0,class:"cb-font-16"},f={key:1,class:"cb-font-16 text-weight-bolder"},k=(0,a._)("p",{class:"text-blue-8 text-weight-bolder cb-font-16"},"Select From & To Dates",-1),v={class:"row"},y={class:"col text-center"},x={class:"col text-center"},q={class:"row items-center justify-end"},W=(0,a._)("p",{class:"text-weight-bolder text-blue-8"},"Alert",-1),S=(0,a.Uk)(" Please Select Available Slot ");function D(e,t,l,D,Z,Q){const H=(0,a.up)("q-btn"),T=(0,a.up)("q-toolbar"),V=(0,a.up)("q-header"),$=(0,a.up)("q-icon"),M=(0,a.up)("q-avatar"),P=(0,a.up)("q-select"),C=(0,a.up)("q-space"),O=(0,a.up)("q-date"),A=(0,a.up)("q-card-section"),B=(0,a.up)("q-card"),I=(0,a.up)("q-time"),U=(0,a.up)("q-dialog"),F=(0,a.up)("q-separator"),Y=(0,a.up)("q-card-actions"),z=(0,a.up)("q-page"),E=(0,a.up)("q-page-container"),j=(0,a.up)("q-layout"),J=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.j4)(j,{view:"lHh lpr lFf"},{default:(0,a.w5)((()=>[(0,a.Wm)(V,{class:"bg-orange-8"},{default:(0,a.w5)((()=>[(0,a.Wm)(T,null,{default:(0,a.w5)((()=>[(0,a.Wm)(H,{flat:"",icon:"arrow_back_ios",onClick:t[0]||(t[0]=e=>Q.Screen_Back_Redirection())})])),_:1})])),_:1}),(0,a.Wm)(E,{class:"bg-orange-8 animate__animated animate__slideInRight"},{default:(0,a.w5)((()=>[o,(0,a.Wm)(z,{style:{"border-radius":"30px 30px 0px 0px","box-shadow":"0px -0px 3px 0px grey"},class:"q-pt-sm q-px-md bg-orange-1"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(D.item_details,((e,t)=>((0,a.wg)(),(0,a.iD)("div",i,[0==t?((0,a.wg)(),(0,a.iD)("div",n,[(0,a._)("span",r,(0,s.zw)(e.name),1),d,(0,a._)("span",c,(0,s.zw)(e.info),1),u,(0,a._)("span",m,[(0,a.Wm)($,{name:"currency_rupee"}),(0,a.Uk)((0,s.zw)(e.selling_price)+" ",1),p,(0,a.Uk)(" serve - "+(0,s.zw)(e.serving),1)]),_])):(0,a.kq)("",!0),(0,a._)("div",g,[(0,a.Wm)(M,{size:"90px",square:"",class:"cb-round-borders-10"},{default:(0,a.w5)((()=>[(0,a._)("img",{src:e.image,class:"cb-round-borders-10"},null,8,h)])),_:2},1024)])])))),256)),(0,a._)("div",b,[(0,a.Wm)(P,{options:D.meal_plan,"option-label":"name",label:"Meal Plan",modelValue:D.plan,"onUpdate:modelValue":t[1]||(t[1]=e=>D.plan=e),borderless:"",dense:"",class:"bg-orange-3 cb-round-borders-10 q-px-lg q-my-sm text-weight-bolder",color:"grey-6"},null,8,["options","modelValue"]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(D.item_details,((e,l)=>((0,a.wg)(),(0,a.iD)("div",null,[0==l?((0,a.wg)(),(0,a.j4)(P,{key:0,options:e.serving_times,"option-label":"label",label:"Available Slot",modelValue:D.slot,"onUpdate:modelValue":t[2]||(t[2]=e=>D.slot=e),borderless:"",dense:"",class:"bg-orange-3 cb-round-borders-10 q-px-lg q-my-sm text-weight-bolder"},null,8,["options","modelValue"])):(0,a.kq)("",!0)])))),256)),(0,a._)("div",{class:"bg-orange-3 row items-center full-width cb-round-borders-10 q-px-lg q-py-xs q-my-sm text-grey-8",onClick:t[3]||(t[3]=e=>Q.set_available_time())},[null==D.slot_time?((0,a.wg)(),(0,a.iD)("span",w,"Select Meal Time")):((0,a.wg)(),(0,a.iD)("span",f,(0,s.zw)(D.slot_time),1)),(0,a.Wm)(C),(0,a.Wm)(H,{flat:"",round:"",icon:"refresh",class:"bg-white",dense:""})])]),k,(0,a.Wm)(B,{class:"cb-round-borders-20"},{default:(0,a.w5)((()=>[(0,a.Wm)(A,null,{default:(0,a.w5)((()=>[(0,a.Wm)(O,{name:"wedding",options:D.optionsFn,events:D.events,modelValue:D.date,"onUpdate:modelValue":t[4]||(t[4]=e=>D.date=e),class:"full-width shadow-0",color:"orange-5"},null,8,["options","events","modelValue"]),(0,a._)("div",v,[(0,a._)("div",y,[(0,a.Wm)(H,{label:"remove",outline:"",color:"red","icon-right":"delete",class:"cb-round-borders-10",onClick:t[5]||(t[5]=e=>Q.backto_restuarent())})]),(0,a._)("div",x,[(0,a.Wm)(H,{label:"Confirm",color:"blue","icon-right":"arrow_right",class:"cb-round-borders-10",onClick:t[6]||(t[6]=e=>Q.confirm_to_checkout())})])])])),_:1})])),_:1}),(0,a.Wm)(U,{modelValue:D.Available_slot_set_time,"onUpdate:modelValue":t[9]||(t[9]=e=>D.Available_slot_set_time=e)},{default:(0,a.w5)((()=>[(0,a.Wm)(B,null,{default:(0,a.w5)((()=>[(0,a.Wm)(A,{class:"q-pa-none"},{default:(0,a.w5)((()=>[(0,a.Wm)(I,{modelValue:D.slot_time,"onUpdate:modelValue":t[7]||(t[7]=e=>D.slot_time=e),class:"shadow-0",onClick:t[8]||(t[8]=e=>Q.change_time()),"hour-options":D.hourOptionsTime1,"minute-options":D.minuteOptionsTime1},{default:(0,a.w5)((()=>[(0,a._)("div",q,[(0,a.wy)((0,a.Wm)(H,{label:"Close",color:"primary",flat:""},null,512),[[J]])])])),_:1},8,["modelValue","hour-options","minute-options"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.Wm)(U,{modelValue:D.error_dialog,"onUpdate:modelValue":t[10]||(t[10]=e=>D.error_dialog=e)},{default:(0,a.w5)((()=>[(0,a.Wm)(B,null,{default:(0,a.w5)((()=>[(0,a.Wm)(A,{class:"text-center"},{default:(0,a.w5)((()=>[W,S])),_:1}),(0,a.Wm)(F),(0,a.Wm)(Y,{align:"center"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(H,{label:"ok",dense:"",flat:"",color:"blue"},null,512),[[J]])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1})}l(2100),l(1768);var Z=l(1959),Q=l(5616);const H={setup(){return{access_token:(0,Z.iH)(null),xid:(0,Z.iH)(null),item_details:(0,Z.iH)([]),meal_plan:(0,Z.iH)([]),plan:(0,Z.iH)(null),slot:(0,Z.iH)(null),slot_time:(0,Z.iH)(null),availabletime:(0,Z.iH)(null),date:(0,Z.iH)(null),events:(0,Z.iH)([]),Available_slot_set_time:(0,Z.iH)(!1),error_dialog:(0,Z.iH)(!1),optionsFn(e){return e>=Q.ZP.formatDate(Date.now(),"YYYY/MM/DD")},hourOptionsTime1:[],minuteOptionsTime1:[],secondOptionsTime1:[]}},mounted(){var e=new Date;this.events=[e.getFullYear()+"/"+(e.getMonth()+1)+"/"+e.getDate()],this.getToken(),this.mypath(),this.getsubscription()},methods:{setdate(e){var t=new Date;return t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate()},loaddata(){var e=this;e.item_details=[{id:1,name:"Breakfast Meal Box",info:"Enjoy 2 - 3 different types  of breakfast dishes everyday",weight_description:"1 Box",pure_veg:1,sku:"HK01B023",mrp:100,selling_price:100,client_id:1,serving:"1",cuisine_name:"South Indian",image:"https://stackroger.com/public/uploads/food/items/1/2x/HK01B023.png",category_id:1,sub_category_id:0,serving_times:[{end:"12:00",name:"Lunch",start:"10:00"},{end:"22:00",name:"Dinner",start:"19:00"}]}],e.meal_plan=[{id:1,plan:"one_day",weekend:"yes",name:"One Day"},{id:2,plan:"week ",weekend:"yes",name:"Week With Weekend"},{id:3,plan:"week",weekend:"no",name:"Week Without Weekend"},{id:4,plan:"month ",weekend:"yes",name:"Month With Weekends"},{id:5,plan:"month",weekend:"no",name:"Month Without Weekends"}],e.settime_24_to_12()},getToken(){var e=this;e.$store.state.token?e.access_token=e.$store.state.token:e.access_token=e.$store.state.token_cb,e.$store.state.xid?e.xid=e.$store.state.xid:e.xid=e.$store.state.xid_cb,null!=e.access_token&&e.access_token||e.$router.push("/")},getsubscription(){var e=this;let t=new FormData;t.append("sku",e.$route.query.sku);var l=document.getElementById("loader2");l.style.display="block";let a={headers:{Authorization:`Bearer ${e.access_token}`}};e.$api.post("/api/get-subscribed-item",t,a).then((function(t){l.style.display="none",console.log(t,"response"),200==t.data.status_code?(e.item_details=t.data.item_details,e.meal_plan=t.data.meal_plan,e.settime_24_to_12()):e.$q.notify({message:t.data.message,type:"negative"})})).catch((function(e){console.log(e)}))},settime_24_to_12(){var e=this;e.item_details.forEach((e=>{e.serving_times.forEach((e=>{var t=e.start.slice(0,2);e.start.slice(3,5);e.start_time=t>=12?12==t?t+":00 PM":t-12+":00 PM":t+":00 AM";var l=e.end.slice(0,2);e.end.slice(3,5);e.end_time=l>=12?12==l?l+":00 PM":l-12+":00 PM":l+":00 AM",e.label=e.name+"("+e.start_time+"-"+e.end_time+")"}))}))},backto_restuarent(){var e=this,t=e.item_details[0].client_id;e.$router.push("food-restarent?rest_id="+t)},confirm_to_checkout(){var e=this;if(!e.plan)return e.$q.notify({message:"Please Select The Meal Plan",type:"warning",icon:"error_outline"}),!1;if(!e.slot)return e.$q.notify({message:"Please Select The Meal Timing",type:"warning",icon:"error_outline"}),!1;var t={plan:e.plan.plan,weekend:e.plan.weekend,pick_date:e.date,schedule_time:e.slot_time,item:{id:e.item_details[0].id,qty:1,sku:e.item_details[0].sku},client_id:e.item_details[0].client_id};sessionStorage.setItem("subscription_data",JSON.stringify(t)),e.$router.push("food-checkout?subscription=1&plan=")},set_available_time(){var e=this;if(e.hourOptionsTime1=[],e.minuteOptionsTime1=[],e.slot){console.log(e.slot);for(var t=e.slot.start.slice(0,2),l=e.slot.end.slice(0,2),a=(e.slot.start.slice(3,5),e.slot.end.slice(3,5),t);a<l;a++)a<l&&(a++,a--),e.hourOptionsTime1.push(a);for(a=0;a<59;a++)e.minuteOptionsTime1.push(a);e.Available_slot_set_time=!0}else e.error_dialog=!0},change_time(){var e=this;console.log(e.slot_time)},mypath(){var e=this,t=[],l=0;if(sessionStorage.getItem("mypath")&&(t=JSON.parse(sessionStorage.getItem("mypath"))),t.forEach(((t,a)=>{e.$route.fullPath==t&&0==l&&(l=a)})),0==l)t.push(e.$route.fullPath);else for(var a=1;a<=t.length;++a)a<=l||t.splice(a,1);sessionStorage.setItem("mypath",JSON.stringify(t))},Screen_Back_Redirection(){var e=this,t=JSON.parse(sessionStorage.getItem("mypath")),l=t.length;e.$router.push(t[l-2])}}};var T=l(4260),V=l(3066),$=l(3812),M=l(9570),P=l(8240),C=l(2652),O=l(4379),A=l(4554),B=l(5096),I=l(4224),U=l(2025),F=l(151),Y=l(5589),z=l(5626),E=l(6778),j=l(5990),J=l(5869),K=l(9367),N=l(6115),R=l(677),L=l(7518),G=l.n(L);const X=(0,T.Z)(H,[["render",D]]),ee=X;G()(H,"components",{QLayout:V.Z,QHeader:$.Z,QToolbar:M.Z,QBtn:P.Z,QPageContainer:C.Z,QPage:O.Z,QIcon:A.Z,QAvatar:B.Z,QSelect:I.Z,QSpace:U.Z,QCard:F.Z,QCardSection:Y.Z,QDate:z.Z,QDialog:E.Z,QTime:j.Z,QSeparator:J.Z,QCardActions:K.Z,QField:N.Z}),G()(H,"directives",{ClosePopup:R.Z})}}]);