"use strict";(self["webpackChunkpwa_wibsite"]=self["webpackChunkpwa_wibsite"]||[]).push([[422],{6422:(e,o,t)=>{t.r(o),t.d(o,{default:()=>P});t(246);var a=t(3673),c=t(2323);const s=(0,a.Uk)("Available Coupons "),r={class:"row"},n={class:"col-12 row cb-shadow-1 q-my-sm q-pa-sm cb-round-borders-10"},l={class:"col-2"},i=["src"],u={class:"col-10 q-pl-md"},p={class:"text-weight-bolder cb-font flex cb-text-blue-8"},d={class:"q-py-xs cb-font-12 text-grey-8"},_={class:"text-center text-grey-6"},b=(0,a._)("br",null,null,-1),g=(0,a._)("p",{class:"text-h6 text-bold"},"No Coupon Available",-1),h=(0,a._)("p",{class:"cb-font-16"},"We are here to serve. Get your packages,groceries and many more to your door step at single click.",-1);function w(e,o,t,w,m,v){const k=(0,a.up)("q-toolbar"),f=(0,a.up)("q-header"),x=(0,a.up)("q-avatar"),y=(0,a.up)("q-space"),q=(0,a.up)("q-btn"),$=(0,a.up)("q-page"),C=(0,a.up)("q-icon"),Z=(0,a.up)("q-page-container"),Q=(0,a.up)("q-layout");return(0,a.wg)(),(0,a.j4)(Q,{view:"lHh lpr lFf"},{default:(0,a.w5)((()=>[(0,a.Wm)(f,null,{default:(0,a.w5)((()=>[(0,a.Wm)(k,{class:"cb-bg-white-2 cb-text-blue-8 row justify-center cb-text-blue-8 text-weight-bolder cb-font-16"},{default:(0,a.w5)((()=>[s])),_:1})])),_:1}),(0,a.Wm)(Z,null,{default:(0,a.w5)((()=>[0==w.coupons_available?((0,a.wg)(),(0,a.j4)($,{key:0,class:"q-px-sm"},{default:(0,a.w5)((()=>[(0,a._)("div",r,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(w.coupons,(e=>((0,a.wg)(),(0,a.iD)("div",n,[(0,a._)("div",l,[(0,a.Wm)(x,{class:"shadow-2",size:"60px"},{default:(0,a.w5)((()=>[(0,a._)("img",{src:e.coupon_image},null,8,i)])),_:2},1024)]),(0,a._)("div",u,[(0,a._)("span",p,[(0,a.Uk)((0,c.zw)(e.name)+" ",1),(0,a.Wm)(y),(0,a.Wm)(q,{style:{border:"2px dashed #F58321",width:"120px","font-size":"11px"},class:"cb-font-16 q-pa-none text-bold cb-text-orange-8",flat:"",size:"xs",rounded:"",onClick:o=>v.screen_redirection(e)},{default:(0,a.w5)((()=>[(0,a.Uk)((0,c.zw)(e.code),1)])),_:2},1032,["onClick"])]),(0,a._)("span",d,(0,c.zw)(e.description),1)])])))),256))])])),_:1})):((0,a.wg)(),(0,a.j4)($,{key:1,class:"q-px-sm flex flex-center q-pa-xl"},{default:(0,a.w5)((()=>[(0,a._)("div",_,[(0,a.Wm)(C,{name:"emoji_symbols",size:"100px"}),b,g,h,(0,a.Wm)(q,{class:"full-width cb-round-borders-10 cb-font-16 cb-bg-orange-8 text-white",label:"countinue shopping",onClick:o[0]||(o[0]=e=>v.screen_redirection_no_coupon())})])])),_:1}))])),_:1})])),_:1})}t(1768);var m=t(1959);let v=window.matchMedia("only screen and (max-width: 760px)").matches;v||(window.location="https://chotabeta.com/pwa");const k={setup(){return{coupons:(0,m.iH)([]),redeem_points:(0,m.iH)(null),category:(0,m.iH)(null),coupons_available:(0,m.iH)(0)}},mounted(){this.getToken(),this.$route.query.service_id&&this.getcoupons()},methods:{getToken(){var e=this;e.access_token=e.$store.state.token,null==e.access_token&&e.$router.push("")},getcoupons(){var e=this;let o={headers:{Authorization:`Bearer ${e.access_token}`}};e.$api.get("/api/available-coupons?service_id="+e.$route.query.service_id,o).then((function(o){console.log(o.data),204==o.data.status_code?e.coupons_available=1:(e.coupons=o.data.coupons,e.redeem_points=o.data.redeem_points)})).catch((function(e){console.log(e)}))},screen_redirection(e){var o=this;o.category=JSON.parse(localStorage.getItem("category")),"1"==o.$route.query.service_id&&(localStorage.setItem("coupon1",e.code),o.$router.push("PickAndDrop_Checkout")),o.$route.query.service_id==o.category.service_id&&(localStorage.setItem("coupon_pick",e.code),o.$router.push("PickFromStore_Checkout"))},screen_redirection_no_coupon(e){var o=this;o.category=JSON.parse(localStorage.getItem("category")),"1"==o.$route.query.service_id&&o.$router.push("PickAndDrop_Checkout"),o.$route.query.service_id==o.category.service_id&&o.$router.push("PickFromStore_Checkout")}}};var f=t(4260),x=t(3066),y=t(3812),q=t(9570),$=t(2652),C=t(4379),Z=t(5096),Q=t(2025),S=t(8240),W=t(4554),z=t(7518),H=t.n(z);const A=(0,f.Z)(k,[["render",w]]),P=A;H()(k,"components",{QLayout:x.Z,QHeader:y.Z,QToolbar:q.Z,QPageContainer:$.Z,QPage:C.Z,QAvatar:Z.Z,QSpace:Q.Z,QBtn:S.Z,QIcon:W.Z})}}]);