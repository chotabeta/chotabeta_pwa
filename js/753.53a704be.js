"use strict";(self["webpackChunkpwa_wibsite"]=self["webpackChunkpwa_wibsite"]||[]).push([[753],{6753:(e,a,t)=>{t.r(a),t.d(a,{default:()=>B});var s=t(3673),l=t(2323);const o=(0,s._)("span",{class:"cb-font-16 text-weight-bolder q-px-sm"},"Search For Your Location",-1),n=(0,s._)("div",{id:"loader2",class:"pre-loader",style:{display:"none"}},null,-1),d=(0,s._)("div",{class:"q-pa-xs"},[(0,s._)("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d60910.91201828438!2d78.3955557446126!3d17.41505064173751!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3bcb99daeaebd2c7%3A0xae93b78392bafbc2!2sHyderabad%2C%20Telangana!5e0!3m2!1sen!2sin!4v1644564642528!5m2!1sen!2sin",class:"full-width",style:{height:"300px"},allowfullscreen:"",loading:"lazy"})],-1),r={class:"row q-px-md bg-white"},i={class:"col-12 shadow-2 cb-round-borders-10 q-mb-xs"},c={class:"col-12 shadow-2 cb-round-borders-10 q-mb-xs"},u={class:"col-12 shadow-2 cb-round-borders-10 q-my-xs"},m={class:"col-12 shadow-2 cb-round-borders-10 q-my-xs"},p={class:"col-12 text-grey-8 q-py-sm"},_=(0,s.Uk)("Save As "),h={key:1,class:"shadow-5 cb-round-borders-10"},g={class:"col-12 text-center q-pb-lg q-pt-sm"};function b(e,a,t,b,y,w){const f=(0,s.up)("q-btn"),x=(0,s.up)("q-toolbar"),q=(0,s.up)("q-header"),v=(0,s.up)("q-icon"),k=(0,s.up)("q-item-section"),W=(0,s.up)("q-input"),$=(0,s.up)("q-item"),V=(0,s.up)("q-item-label"),H=(0,s.up)("q-option-group"),O=(0,s.up)("q-page"),Z=(0,s.up)("q-page-container"),Q=(0,s.up)("q-layout");return(0,s.wg)(),(0,s.j4)(Q,{view:"lHh lpr lFf"},{default:(0,s.w5)((()=>[(0,s.Wm)(q,null,{default:(0,s.w5)((()=>[(0,s.Wm)(x,{class:"cb-bg-white-2 cb-text-blue-8"},{default:(0,s.w5)((()=>[(0,s.Wm)(f,{flat:"",dense:"",round:"",icon:"arrow_back"}),o])),_:1})])),_:1}),(0,s.Wm)(Z,null,{default:(0,s.w5)((()=>[(0,s.Wm)(O,{class:"bg-white"},{default:(0,s.w5)((()=>[n,d,(0,s._)("div",r,[(0,s._)("div",i,[(0,s.Wm)($,{class:"q-px-sm q-py-none",style:{"min-height":"30px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(k,{style:{"max-width":"30px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(v,{class:"text-grey-5",name:"home",size:"sm"})])),_:1}),(0,s.Wm)(k,null,{default:(0,s.w5)((()=>[(0,s.Wm)(W,{borderless:"",placeholder:"Flat,Floor,Building Name",modelValue:b.building_floor,"onUpdate:modelValue":a[0]||(a[0]=e=>b.building_floor=e),class:"bg-white cb-round-borders-10",dense:""},null,8,["modelValue"])])),_:1})])),_:1})]),(0,s._)("div",c,[(0,s.Wm)($,{class:"q-px-sm",style:{"min-height":"30px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(k,{style:{"max-width":"30px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(v,{class:"text-grey-5",name:"location_on",size:"sm"})])),_:1}),(0,s.Wm)(k,null,{default:(0,s.w5)((()=>[(0,s.Wm)(V,{caption:"",lines:"2",class:"text-black"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(e.$route.query.searchaddress),1)])),_:1})])),_:1})])),_:1})]),(0,s._)("div",u,[(0,s.Wm)($,{class:"q-px-sm q-py-none",style:{"min-height":"30px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(k,{style:{"max-width":"30px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(v,{class:"text-grey-5",name:"location_on",size:"sm"})])),_:1}),(0,s.Wm)(k,null,{default:(0,s.w5)((()=>[(0,s.Wm)(W,{borderless:"",placeholder:"Landmark (Optional)",modelValue:b.landmark,"onUpdate:modelValue":a[1]||(a[1]=e=>b.landmark=e),class:"bg-white cb-round-borders-10",dense:""},null,8,["modelValue"])])),_:1})])),_:1})]),(0,s._)("div",m,[(0,s.Wm)($,{class:"q-px-sm q-py-none",style:{"min-height":"30px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(k,{style:{"max-width":"30px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(v,{class:"text-grey-5",name:"phone",size:"sm"})])),_:1}),(0,s.Wm)(k,null,{default:(0,s.w5)((()=>[(0,s.Wm)(W,{borderless:"",placeholder:"Contact Details",modelValue:b.phone,"onUpdate:modelValue":a[2]||(a[2]=e=>b.phone=e),class:"bg-white cb-round-borders-10",type:"number",dense:""},{append:(0,s.w5)((()=>[(0,s.Wm)(v,{name:"perm_contact_calendar",class:"cb-text-blue-8"})])),_:1},8,["modelValue"])])),_:1})])),_:1})]),(0,s._)("div",p,[_,"Others"!=b.type?((0,s.wg)(),(0,s.j4)(H,{key:0,options:b.options,modelValue:b.type,"onUpdate:modelValue":a[3]||(a[3]=e=>b.type=e),color:"orange",inline:""},null,8,["options","modelValue"])):(0,s.kq)("",!0),"Others"==b.type?((0,s.wg)(),(0,s.iD)("div",h,[(0,s.Wm)($,{class:"q-px-sm q-py-none",style:{"min-height":"30px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(k,{style:{"max-width":"30px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(v,{class:"text-grey-5",name:"location_on",size:"sm"})])),_:1}),(0,s.Wm)(k,null,{default:(0,s.w5)((()=>[(0,s.Wm)(W,{borderless:"",placeholder:"eg. New Office.",class:"bg-white cb-round-borders-10",modelValue:b.custom_type,"onUpdate:modelValue":a[5]||(a[5]=e=>b.custom_type=e),dense:""},{append:(0,s.w5)((()=>[(0,s.Wm)(v,{name:"cancel",onClick:a[4]||(a[4]=e=>b.type=null),class:"cb-text-orange-8"})])),_:1},8,["modelValue"])])),_:1})])),_:1})])):(0,s.kq)("",!0)]),(0,s._)("div",g,[(0,s.Wm)(f,{label:"Next",class:"cb-bg-orange-8 text-white q-px-xl",onClick:a[6]||(a[6]=e=>w.add_address()),dense:""})])])])),_:1})])),_:1})])),_:1})}t(1768);var y=t(1959);const w={setup(){return{device_height:(0,y.iH)(null),type:(0,y.iH)(null),options:[{label:"Home",value:"Home"},{label:"Office",value:"Office"},{label:"Others",value:"Others"}],custom_type:(0,y.iH)(null),building_floor:(0,y.iH)(null),landmark:(0,y.iH)(null),phone:(0,y.iH)(null),address_data:(0,y.iH)(null),access_token:(0,y.iH)(null),xid:(0,y.iH)(null)}},mounted(){this.getToken(),this.getuserdetails(),this.$route.query.searchaddress&&this.$route.query.searched_latlong},methods:{getToken(){var e=this;e.$store.state.token?e.access_token=e.$store.state.token:e.access_token=e.$store.state.token_cb,e.$store.state.xid?e.xid=e.$store.state.xid:e.xid=e.$store.state.xid_cb,null==e.access_token&&e.$router.push("/")},getuserdetails(){var e=this;localStorage.getItem("userdetails")&&(e.userdetails=JSON.parse(localStorage.getItem("userdetails")),e.phone=e.userdetails.deatils.mobile)},add_address(){var e=this;return null==e.type?(e.$q.notify({message:"Invalid Select As",type:"negative"}),!1):("Others"==e.type&&(e.type=e.custom_type),null==e.building_floor?(e.$q.notify({message:"Invalid Flat,Floor,Building Name",type:"negative"}),!1):(e.address_data=e.building_floor+","+e.landmark+","+e.$route.query.searchaddress,e.storing_the_address(),void e.getReverseGeocodingData()))},getReverseGeocodingData(){var e=this,a=e.$route.query.searched_latlong.split(","),t=new google.maps.LatLng(a[0],a[1]),s=new google.maps.Geocoder;s.geocode({latLng:t},((a,t)=>{if(t!==google.maps.GeocoderStatus.OK&&alert(t),t==google.maps.GeocoderStatus.OK){var s=a[0],l=s.address_components.length,o=s.address_components[l-1].long_name;this.$store.dispatch("searched_adderss_data",{pincode:o,address_data:e.address_data,latlongs:e.$route.query.searched_latlong}).then((a=>{if(200==a){var t=s.address_components.length;e.update_user_details(s.address_components[t-1].long_name),setTimeout(e.$router.push("/home/dashboard"),1e3)}})).catch((e=>{console.log(e)}))}}))},storing_the_address(){var e=this;let a=new FormData;a.append("location_lat_lng",e.$route.query.searched_latlong),a.append("flat_no",e.building_floor),a.append("location_name",e.address_data),a.append("location_nick_name","None"),a.append("location_type",e.type);var t=document.getElementById("loader2");t.style.display="block";let s={headers:{Authorization:`Bearer ${e.access_token}`}};e.$api.post("/api/favourite-locations",a,s).then((function(a){t.style.display="none",e.saved_locations=a.data.favourite_locations})).catch((function(e){console.log(e)}))},update_user_details(e){var a=this,t=document.getElementById("loader2");t.style.display="block";let s=new FormData;s.append("pincode",e);let l={headers:{Authorization:`Bearer ${a.access_token}`}};a.$api.post("/api/update-user-details",s,l).then((function(e){t.style.display="none"})).catch((function(e){console.log(e)}))}}};var f=t(4260),x=t(3066),q=t(3812),v=t(9570),k=t(8240),W=t(2652),$=t(4379),V=t(3414),H=t(2035),O=t(4554),Z=t(4842),Q=t(2350),I=t(5682),z=t(7518),S=t.n(z);const F=(0,f.Z)(w,[["render",b]]),B=F;S()(w,"components",{QLayout:x.Z,QHeader:q.Z,QToolbar:v.Z,QBtn:k.Z,QPageContainer:W.Z,QPage:$.Z,QItem:V.Z,QItemSection:H.Z,QIcon:O.Z,QInput:Z.Z,QItemLabel:Q.Z,QOptionGroup:I.Z})}}]);