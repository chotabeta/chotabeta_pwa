"use strict";(self["webpackChunkpwa_wibsite"]=self["webpackChunkpwa_wibsite"]||[]).push([[308],{1308:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ee});var l=a(3673),s=a(2323);const o=(0,l._)("div",{id:"loader2",class:"pre-loader",style:{display:"none"}},null,-1),i={class:"flex cb-bg-white-2 cb-font-16"},n=(0,l._)("span",{class:"cb-text-orange-8"},"Profile",-1),c=["src"],d={key:1,src:"https://chotabeta.com/icons/Group%202.png"},r={class:"flex q-px-sm"},u=(0,l.Uk)("Username"),m=(0,l._)("hr",null,null,-1),p={class:"flex q-px-sm"},g=(0,l.Uk)("Email"),_={key:0},f={key:1},h=(0,l._)("hr",null,null,-1),b={class:"flex q-px-sm"},w=(0,l.Uk)("Phone"),x=(0,l._)("hr",null,null,-1),y={class:"flex q-px-sm"},k=(0,l.Uk)("Address"),v={class:"row"},q=(0,l._)("div",{class:"col-12"},[(0,l._)("span",{class:"cb-text-blue-8 cb-font text-bold"},"Saved Locations")],-1),W={class:"col-12",style:{"max-height":"200px",overflow:"scroll"}},$=(0,l.Uk)(" Update Profile "),z={class:"text-center full-width q-px-xl"},U=(0,l._)("img",{src:"https://chotabeta.com/images/images/white-logo.svg",style:{width:"70%"}},null,-1),Z=(0,l._)("br",null,null,-1),H=(0,l._)("p",{class:"text-weight-bolder"},"Something text about ChotaBeta",-1);function Q(e,t,a,Q,C,B){const V=(0,l.up)("q-space"),I=(0,l.up)("q-btn"),A=(0,l.up)("q-avatar"),S=(0,l.up)("q-card-section"),D=(0,l.up)("q-icon"),E=(0,l.up)("q-card"),P=(0,l.up)("q-item-section"),j=(0,l.up)("q-item-label"),L=(0,l.up)("q-item"),T=(0,l.up)("q-list"),Y=(0,l.up)("q-input"),F=(0,l.up)("q-select"),G=(0,l.up)("q-form"),K=(0,l.up)("q-dialog"),R=(0,l.up)("q-page"),J=(0,l.Q2)("ripple");return(0,l.wg)(),(0,l.iD)(l.HY,null,[2!=Q.xid?((0,l.wg)(),(0,l.j4)(R,{key:0},{default:(0,l.w5)((()=>[o,(0,l._)("div",i,[(0,l.Wm)(V),(0,l.Wm)(V),n,(0,l.Wm)(V),(0,l.Wm)(I,{label:"logout",class:"cb-text-orange-8",flat:"",size:"sm","icon-right":"logout",onClick:B.logout},null,8,["onClick"])]),(0,l.Wm)(E,{class:"q-ma-md shadow-3"},{default:(0,l.w5)((()=>[(0,l.Wm)(S,{class:"flex flex-center"},{default:(0,l.w5)((()=>[(0,l.Wm)(A,{class:"shadow-3",size:"100px"},{default:(0,l.w5)((()=>[Q.profile_pic?((0,l.wg)(),(0,l.iD)("img",{key:0,src:Q.profile_pic},null,8,c)):((0,l.wg)(),(0,l.iD)("img",d)),(0,l.Wm)(I,{icon:"photo_camera",size:"sm",round:"",class:"absolute-bottom-right cb-bg-orange-8 text-white",style:{"margin-right":"-3px","margin-bottom":"-3px"}})])),_:1})])),_:1}),(0,l.Wm)(S,{class:"cb-text-grey-4"},{default:(0,l.w5)((()=>[(0,l._)("div",r,[u,(0,l.Wm)(V),(0,l.Uk)((0,s.zw)(Q.name),1)]),m,(0,l._)("div",p,[g,(0,l.Wm)(V),Q.email?((0,l.wg)(),(0,l.iD)("span",f,(0,s.zw)(Q.email),1)):((0,l.wg)(),(0,l.iD)("span",_,[(0,l.Wm)(I,{onClick:B.update_email,label:"Update Email",class:"cb-text-orange-8",flat:"",dense:"",size:"sm"},null,8,["onClick"])]))]),h,(0,l._)("div",b,[w,(0,l.Wm)(V),(0,l.Uk)((0,s.zw)(Q.mobile),1)]),x,(0,l._)("div",y,[k,(0,l.Wm)(V),(0,l.Uk)((0,s.zw)(Q.address),1)]),(0,l._)("div",null,[(0,l.Wm)(I,{label:"Edit Profile",flat:"",size:"md",class:"q-pa-none cb-text-orange-8",onClick:t[0]||(t[0]=e=>(B.get_servicing_cities(),Q.edit_profile=!0))},{default:(0,l.w5)((()=>[(0,l.Wm)(D,{name:"edit",style:{"font-size":"14px"},class:"q-px-sm"})])),_:1})])])),_:1})])),_:1}),(0,l.Wm)(E,{class:"q-ma-md shadow-3"},{default:(0,l.w5)((()=>[(0,l.Wm)(S,null,{default:(0,l.w5)((()=>[(0,l._)("div",v,[q,(0,l._)("div",W,[(0,l.Wm)(T,{separator:""},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(Q.saved_locations,(t=>(0,l.wy)(((0,l.wg)(),(0,l.j4)(L,{clickable:"",key:t,class:"q-px-xs",onClick:a=>e.saved_location_add(t)},{default:(0,l.w5)((()=>[(0,l.Wm)(P,{avatar:"",class:"q-px-xs"},{default:(0,l.w5)((()=>["Home"==t.location_type?((0,l.wg)(),(0,l.j4)(D,{key:0,name:"home",size:"xs",class:"cb-bg-orange-8 q-pa-xs text-white cb-font",style:{"border-radius":"100%"}})):(0,l.kq)("",!0),"Home"!=t.location_type?((0,l.wg)(),(0,l.j4)(D,{key:1,name:"location_on",size:"xs",class:"cb-bg-orange-8 q-pa-xs text-white cb-font",style:{"border-radius":"100%"}})):(0,l.kq)("",!0)])),_:2},1024),(0,l.Wm)(P,null,{default:(0,l.w5)((()=>[(0,l.Wm)(j,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(t.location_type),1)])),_:2},1024),(0,l.Wm)(j,{caption:"",lines:"2"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(t.name),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])),[[J]]))),128))])),_:1})])])])),_:1})])),_:1}),(0,l.Wm)(K,{modelValue:Q.edit_profile,"onUpdate:modelValue":t[4]||(t[4]=e=>Q.edit_profile=e)},{default:(0,l.w5)((()=>[(0,l.Wm)(E,{class:"full-width"},{default:(0,l.w5)((()=>[(0,l.Wm)(S,{class:"cb-text-blue-8 cb-bg-white-2"},{default:(0,l.w5)((()=>[$])),_:1}),(0,l.Wm)(S,{class:"q-pa-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(G,{onSubmit:B.update_email,class:"text-center"},{default:(0,l.w5)((()=>[(0,l.Wm)(Y,{dense:"",outlined:"",class:"q-mb-sm",placeholder:"name",modelValue:Q.name,"onUpdate:modelValue":t[1]||(t[1]=e=>Q.name=e)},null,8,["modelValue"]),(0,l.Wm)(Y,{dense:"",outlined:"",class:"q-mb-sm",placeholder:"email",modelValue:Q.email,"onUpdate:modelValue":t[2]||(t[2]=e=>Q.email=e),type:"email"},null,8,["modelValue"]),(0,l.Wm)(F,{dense:"",outlined:"",class:"q-mb-sm",placeholder:"",modelValue:Q.address,"onUpdate:modelValue":t[3]||(t[3]=e=>Q.address=e),options:Q.cities},null,8,["modelValue","options"]),(0,l.Wm)(I,{type:"submit",label:"Update",class:"cb-bg-orange-8 text-white q-px-lg"})])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})):(0,l.kq)("",!0),2==Q.xid?((0,l.wg)(),(0,l.j4)(R,{key:1,class:"flex flex-center bg_style text-white"},{default:(0,l.w5)((()=>[(0,l._)("div",z,[U,Z,H,(0,l.Wm)(I,{label:"Sign In",class:"cb-bg-green-8 cb-font-16 cb-round-borders-20 text-white q-px-xl",onClick:t[5]||(t[5]=t=>e.$router.push("/sign-in?service=DP"))})])])),_:1})):(0,l.kq)("",!0)],64)}a(1768);var C=a(1959);const B={setup(){return{data:(0,C.iH)(null),access_token:(0,C.iH)(null),profile_pic:(0,C.iH)(null),name:(0,C.iH)(null),email:(0,C.iH)(null),mobile:(0,C.iH)(null),address:(0,C.iH)(null),n:(0,C.iH)(3),edit_profile:(0,C.iH)(!1),cities:(0,C.iH)([]),xid:(0,C.iH)(null),saved_locations:(0,C.iH)(null)}},mounted(){this.getAccessToken(),this.$store.state.token&&this.userdetails()},methods:{getAccessToken(){var e=this;e.$store.state.token?e.access_token=e.$store.state.token:e.access_token=e.$store.state.token_cb,e.$store.state.xid?e.xid=e.$store.state.xid:e.xid=e.$store.state.xid_cb,null!=e.access_token&&e.access_token||e.$router.push("/")},userdetails(){var e=this,t=document.getElementById("loader2");t.style.display="block";let a={headers:{Authorization:`Bearer ${e.access_token}`}};e.$api.get("/api/user",a).then((function(a){t.style.display="none",e.profile_pic=a.data.profile_pic,e.name=a.data.name,e.email=a.data.email,e.mobile=a.data.mobile,e.address=a.data.address,e.saved_locations_function()})).catch((function(e){console.log(e)}))},address_count(e){var t=this;t.n=3==e?10:3},get_servicing_cities(){var e=this,t=document.getElementById("loader2");t.style.display="block";let a={headers:{Authorization:`Bearer ${e.access_token}`}};e.$api.get("/api/get-serving-locations",a).then((function(a){t.style.display="none",200==a.data.status_code?e.cities=a.data.locations:e.$q.notify({message:a.data.message,type:"negative",progress:!0})})).catch((function(e){console.log(e)}))},update_email(){var e=this,t=document.getElementById("loader2");t.style.display="block";let a={headers:{Authorization:`Bearer ${e.access_token}`}};e.$api.post("/api/edit-profile",{name:e.name,city:e.address,email:e.email},a).then((function(a){t.style.display="none",200==a.data.status_code?e.$q.notify({message:a.data.message,type:"positive",progress:!0}):e.$q.notify({message:a.data.message,type:"negative",progress:!0})})).catch((function(e){console.log(e)}))},logout(){var e=this,t=document.getElementById("loader2");t.style.display="block";let a={headers:{Authorization:`Bearer ${e.$store.state.token}`}};e.$api.get("/api/logout",a).then((function(a){t.style.display="none",200==a.data.status_code&&e.$store.dispatch("logout").then((t=>{e.$q.notify({message:t,type:"positive",progress:!0}),e.$router.push("/")})).catch((e=>{console.log(e)}))})).catch((function(e){console.log(e)})),e.$router.push("")},saved_locations_function(){var e=this,t=document.getElementById("loader2");t.style.display="block";let a={headers:{Authorization:`Bearer ${e.$store.state.token}`}};e.$api.get("/api/favourite-locations-get-two",a).then((function(a){t.style.display="none",e.saved_locations=a.data.favourite_locations})).catch((function(e){console.log(e)}))}}};var V=a(4260),I=a(4379),A=a(2025),S=a(8240),D=a(151),E=a(5589),P=a(5096),j=a(4554),L=a(7011),T=a(3414),Y=a(2035),F=a(2350),G=a(6778),K=a(8689),R=a(4842),J=a(9560),M=a(6489),N=a(7518),O=a.n(N);const X=(0,V.Z)(B,[["render",Q]]),ee=X;O()(B,"components",{QPage:I.Z,QSpace:A.Z,QBtn:S.Z,QCard:D.Z,QCardSection:E.Z,QAvatar:P.Z,QIcon:j.Z,QList:L.Z,QItem:T.Z,QItemSection:Y.Z,QItemLabel:F.Z,QDialog:G.Z,QForm:K.Z,QInput:R.Z,QSelect:J.Z}),O()(B,"directives",{Ripple:M.Z})}}]);