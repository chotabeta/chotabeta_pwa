"use strict";(self["webpackChunkpwa_wibsite"]=self["webpackChunkpwa_wibsite"]||[]).push([[187],{6187:(e,t,l)=>{l.r(t),l.d(t,{default:()=>ee});var a=l(3673),s=l(2323);const o=(0,a._)("div",{id:"loader2",class:"pre-loader",style:{display:"none"}},null,-1),n={class:"row q-pt-md q-px-sm text-grey-8"},i={key:0,class:"col-8"},r={class:"text-weight-bolder"},d=(0,a._)("br",null,null,-1),c={class:"cb-font-12"},u=(0,a._)("br",null,null,-1),m={class:"text-weight-bolder cb-font-16"},p=(0,a._)("span",{class:"q-px-xs"},"|",-1),_=(0,a._)("br",null,null,-1),g={class:"col-4 text-right"},b=["src"],w={class:"q-my-md"},h={key:0,class:"cb-font-16 text-weight-bolder"},f={key:1,class:"cb-font-16 text-weight-bolder"},k=(0,a._)("p",{class:"text-blue-8 text-weight-bolder cb-font-16"},"Select From & To Dates",-1),v={class:"row"},y={class:"col text-center"},x={class:"col text-center"},q={class:"row items-center justify-end"},W=(0,a._)("p",{class:"text-weight-bolder text-blue-8"},"Alert",-1),Z=(0,a.Uk)(" Please Select Meal Type ");function D(e,t,l,D,Q,H){const V=(0,a.up)("q-btn"),M=(0,a.up)("q-toolbar"),$=(0,a.up)("q-header"),C=(0,a.up)("q-icon"),S=(0,a.up)("q-avatar"),A=(0,a.up)("q-select"),P=(0,a.up)("q-space"),T=(0,a.up)("q-date"),B=(0,a.up)("q-card-section"),F=(0,a.up)("q-card"),U=(0,a.up)("q-time"),Y=(0,a.up)("q-dialog"),z=(0,a.up)("q-separator"),j=(0,a.up)("q-card-actions"),E=(0,a.up)("q-page"),I=(0,a.up)("q-page-container"),K=(0,a.up)("q-layout"),O=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.j4)(K,{view:"lHh lpr lFf"},{default:(0,a.w5)((()=>[(0,a.Wm)($,{class:"bg-orange-8"},{default:(0,a.w5)((()=>[(0,a.Wm)(M,null,{default:(0,a.w5)((()=>[(0,a.Wm)(V,{flat:"",icon:"arrow_back_ios"})])),_:1})])),_:1}),(0,a.Wm)(I,{class:"bg-orange-8"},{default:(0,a.w5)((()=>[o,(0,a.Wm)(E,{style:{"border-radius":"30px 30px 0px 0px","box-shadow":"0px -0px 3px 0px grey"},class:"q-pt-sm q-px-md bg-orange-1"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(D.item_details,((e,t)=>((0,a.wg)(),(0,a.iD)("div",n,[0==t?((0,a.wg)(),(0,a.iD)("div",i,[(0,a._)("span",r,(0,s.zw)(e.name),1),d,(0,a._)("span",c,(0,s.zw)(e.info),1),u,(0,a._)("span",m,[(0,a.Wm)(C,{name:"currency_rupee"}),(0,a.Uk)((0,s.zw)(e.selling_price)+" ",1),p,(0,a.Uk)(" serve - "+(0,s.zw)(e.serving),1)]),_])):(0,a.kq)("",!0),(0,a._)("div",g,[(0,a.Wm)(S,{size:"90px",square:"",class:"cb-round-borders-10"},{default:(0,a.w5)((()=>[(0,a._)("img",{src:e.image,class:"cb-round-borders-10"},null,8,b)])),_:2},1024)])])))),256)),(0,a._)("div",w,[(0,a.Wm)(A,{options:D.meal_plan,"option-label":"name",label:"Meal Plan",modelValue:D.plan,"onUpdate:modelValue":t[0]||(t[0]=e=>D.plan=e),borderless:"",dense:"",class:"bg-orange-3 cb-round-borders-10 q-px-lg q-my-sm text-weight-bolder",color:"grey-6"},null,8,["options","modelValue"]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(D.item_details,((e,l)=>((0,a.wg)(),(0,a.iD)("div",null,[0==l?((0,a.wg)(),(0,a.j4)(A,{key:0,options:e.serving_times,"option-label":"label",label:"Available Slot1",modelValue:D.slot,"onUpdate:modelValue":t[1]||(t[1]=e=>D.slot=e),borderless:"",dense:"",class:"bg-orange-3 cb-round-borders-10 q-px-lg q-my-sm text-weight-bolder"},null,8,["options","modelValue"])):(0,a.kq)("",!0)])))),256)),(0,a._)("div",{class:"bg-orange-3 row items-center full-width cb-round-borders-10 q-px-lg q-py-xs q-my-sm text-grey-8",onClick:t[2]||(t[2]=e=>H.set_available_time())},[null==D.slot_time?((0,a.wg)(),(0,a.iD)("span",h,"Select Meal Time")):((0,a.wg)(),(0,a.iD)("span",f,(0,s.zw)(D.slot_time),1)),(0,a.Wm)(P),(0,a.Wm)(V,{flat:"",round:"",icon:"refresh",class:"bg-white",dense:""})])]),k,(0,a.Wm)(F,{class:"cb-round-borders-20"},{default:(0,a.w5)((()=>[(0,a.Wm)(B,null,{default:(0,a.w5)((()=>[(0,a.Wm)(T,{name:"wedding",options:D.optionsFn,events:D.events,modelValue:D.date,"onUpdate:modelValue":t[3]||(t[3]=e=>D.date=e),class:"full-width shadow-0",color:"orange-5"},null,8,["options","events","modelValue"]),(0,a._)("div",v,[(0,a._)("div",y,[(0,a.Wm)(V,{label:"remove",outline:"",color:"red","icon-right":"delete",class:"cb-round-borders-10",onClick:t[4]||(t[4]=e=>H.backto_restuarent())})]),(0,a._)("div",x,[(0,a.Wm)(V,{label:"Confirm",color:"blue","icon-right":"arrow_right",class:"cb-round-borders-10",onClick:t[5]||(t[5]=e=>H.confirm_to_checkout())})])])])),_:1})])),_:1}),(0,a.Wm)(Y,{modelValue:D.Available_slot_set_time,"onUpdate:modelValue":t[8]||(t[8]=e=>D.Available_slot_set_time=e)},{default:(0,a.w5)((()=>[(0,a.Wm)(F,null,{default:(0,a.w5)((()=>[(0,a.Wm)(B,{class:"q-pa-none"},{default:(0,a.w5)((()=>[(0,a.Wm)(U,{modelValue:D.slot_time,"onUpdate:modelValue":t[6]||(t[6]=e=>D.slot_time=e),class:"shadow-0",onClick:t[7]||(t[7]=e=>H.change_time()),options:e.optionsFnTime2},{default:(0,a.w5)((()=>[(0,a._)("div",q,[(0,a.wy)((0,a.Wm)(V,{label:"Close",color:"primary",flat:""},null,512),[[O]])])])),_:1},8,["modelValue","options"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.Wm)(Y,{modelValue:D.error_dialog,"onUpdate:modelValue":t[9]||(t[9]=e=>D.error_dialog=e)},{default:(0,a.w5)((()=>[(0,a.Wm)(F,null,{default:(0,a.w5)((()=>[(0,a.Wm)(B,{class:"text-center"},{default:(0,a.w5)((()=>[W,Z])),_:1}),(0,a.Wm)(z),(0,a.Wm)(j,{align:"center"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(V,{label:"ok",dense:"",flat:"",color:"blue"},null,512),[[O]])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1})}l(2100),l(1768);var Q=l(1959),H=l(5616);const V={setup(){return{access_token:(0,Q.iH)(null),xid:(0,Q.iH)(null),item_details:(0,Q.iH)([]),meal_plan:(0,Q.iH)([]),plan:(0,Q.iH)(null),slot:(0,Q.iH)(null),slot_time:(0,Q.iH)(null),availabletime:(0,Q.iH)(null),date:(0,Q.iH)(null),events:(0,Q.iH)([]),Available_slot_set_time:(0,Q.iH)(!1),error_dialog:(0,Q.iH)(!1),optionsFn(e){return e>=H.ZP.formatDate(Date.now(),"YYYY/MM/DD")}}},mounted(){var e=new Date;this.events=[e.getFullYear()+"/"+(e.getMonth()+1)+"/"+e.getDate()],this.getToken(),this.getsubscription()},methods:{setdate(e){var t=new Date;return t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate()},loaddata(){var e=this;e.item_details=[{id:1,name:"Breakfast Meal Box",info:"Enjoy 2 - 3 different types  of breakfast dishes everyday",weight_description:"1 Box",pure_veg:1,sku:"HK01B023",mrp:100,selling_price:100,client_id:1,serving:"1",cuisine_name:"South Indian",image:"https://stackroger.com/public/uploads/food/items/1/2x/HK01B023.png",category_id:1,sub_category_id:0,serving_times:[{name:"Breakfast",start:"08:00",end:"11:00"}]}],e.meal_plan=[{id:1,plan:"one_day",weekend:"yes",name:"One Day"},{id:2,plan:"week ",weekend:"yes",name:"Week With Weekend"},{id:3,plan:"week",weekend:"no",name:"Week Without Weekend"},{id:4,plan:"month ",weekend:"yes",name:"Month With Weekends"},{id:5,plan:"month",weekend:"no",name:"Month Without Weekends"}],e.settime_24_to_12()},getToken(){var e=this;e.$store.state.token?e.access_token=e.$store.state.token:e.access_token=e.$store.state.token_cb,e.$store.state.xid?e.xid=e.$store.state.xid:e.xid=e.$store.state.xid_cb,null!=e.access_token&&e.access_token||e.$router.push("/")},getsubscription(){var e=this;let t=new FormData;t.append("sku",e.$route.query.sku);var l=document.getElementById("loader2");l.style.display="block";let a={headers:{Authorization:`Bearer ${e.access_token}`}};e.$api.post("/api/get-subscribed-item",t,a).then((function(t){l.style.display="none",console.log(t,"response"),200==t.data.status_code?(e.item_details=t.data.item_details,e.meal_plan=t.data.meal_plan,e.settime_24_to_12()):e.$q.notify({message:t.data.message,type:"negative"})})).catch((function(e){console.log(e)}))},settime_24_to_12(){var e=this;e.item_details.forEach((e=>{e.serving_times.forEach((e=>{var t=e.start.slice(0,2);e.start_time=t>=12?t-12+":00 PM":t+":00 AM";var l=e.end.slice(0,2);e.end_time=l>=12?l-12+":00 PM":l+":00 AM",e.label=e.name+"("+e.start_time+"-"+e.end_time+")"}))}))},backto_restuarent(){var e=this,t=e.item_details[0].client_id;e.$router.push("food-restarent?rest_id="+t)},confirm_to_checkout(){var e=this;if(!e.plan)return e.$q.notify({message:"Please Select The Meal Plan",type:"warning",icon:"error_outline"}),!1;if(!e.slot)return e.$q.notify({message:"Please Select The Meal Timing",type:"warning",icon:"error_outline"}),!1;var t={plan:e.plan.plan,weekend:e.plan.weekend,pick_date:e.date,schedule_time:e.slot_time,item:{id:e.item_details[0].id,qty:1}};localStorage.setItem("subscription_data",JSON.stringify(t)),e.$router.push("food-checkout?subscription=1&plan=")},set_available_time(){var e=this;e.slot?e.Available_slot_set_time=!0:e.error_dialog=!0},change_time(){var e=this;console.log(e.slot_time)}}};var M=l(4260),$=l(3066),C=l(3812),S=l(9570),A=l(8240),P=l(2652),T=l(4379),B=l(4554),F=l(5096),U=l(4224),Y=l(2025),z=l(151),j=l(5589),E=l(5626),I=l(6778),K=l(5990),O=l(5869),J=l(9367),L=l(6115),N=l(677),G=l(7518),R=l.n(G);const X=(0,M.Z)(V,[["render",D]]),ee=X;R()(V,"components",{QLayout:$.Z,QHeader:C.Z,QToolbar:S.Z,QBtn:A.Z,QPageContainer:P.Z,QPage:T.Z,QIcon:B.Z,QAvatar:F.Z,QSelect:U.Z,QSpace:Y.Z,QCard:z.Z,QCardSection:j.Z,QDate:E.Z,QDialog:I.Z,QTime:K.Z,QSeparator:O.Z,QCardActions:J.Z,QField:L.Z}),R()(V,"directives",{ClosePopup:N.Z})}}]);