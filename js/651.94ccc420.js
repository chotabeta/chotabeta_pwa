"use strict";(self["webpackChunkpwa_wibsite"]=self["webpackChunkpwa_wibsite"]||[]).push([[651],{2651:(e,t,a)=>{a.r(t),a.d(t,{default:()=>V});var o=a(3673),s=a(2323);const l=(0,o._)("span",{class:"cb-font-16 text-weight-bolder q-px-sm"},"Search For Your Location",-1),c=(0,o._)("div",{id:"loader2",class:"pre-loader",style:{display:"none"}},null,-1),n={class:"cb-shadow-1 q-px-sm cb-round-borders-10"},d=(0,o._)("div",{class:"row justify-center q-py-sm text-bold"},[(0,o._)("span",{class:"cb-text-grey-4"},"OR")],-1),r={class:"row cb-text-blue-8 text-bold"},i=(0,o._)("span",{class:"cb-text-blue-4 cb-font-16 q-px-sm"},"Choose Location from Map",-1),p=(0,o._)("div",{class:"row justify-center q-py-sm text-bold"},[(0,o._)("span",{class:"cb-text-grey-4"},"OR")],-1),u={class:"row cb-text-blue-8 text-bold"},m=(0,o._)("span",{class:"cb-text-blue-4 cb-font-16 q-px-sm"},"ChotaBeta Communities",-1),g=(0,o._)("div",{class:"text-center cb-text-grey-4 cb-round-borders-10 cb-shadow-1 q-my-md q-py-xs text-bold"},[(0,o._)("span",null,"Choose Your Community")],-1),_={class:"row"},h=(0,o._)("div",{class:"col-12"},[(0,o._)("span",{class:"cb-text-blue-8 cb-font text-bold"},"Recent Searches")],-1),b={class:"col-12 row q-pl-md"},v={class:"col-12 flex q-py-xs"},w=(0,o._)("div",{class:"q-px-md"},[(0,o._)("span",{class:"cb-text-blue-8"},"Other"),(0,o._)("br"),(0,o._)("span",{class:"cb-text-grey-4",style:{"font-size":"12px"}},"Not Assigned")],-1),y=(0,o._)("div",{class:"col-12 text-right cb-text-grey-4 q-py-sm"},"View More",-1),x={class:"row"},f=(0,o._)("div",{class:"col-12"},[(0,o._)("span",{class:"cb-text-blue-8 cb-font text-bold"},"Saved Locations")],-1),q={class:"col-12",style:{"max-height":"200px",overflow:"scroll"}};function k(e,t,a,k,W,Z){const Q=(0,o.up)("q-btn"),H=(0,o.up)("q-toolbar"),C=(0,o.up)("q-header"),L=(0,o.up)("q-icon"),I=(0,o.up)("q-input"),$=(0,o.up)("q-img"),S=(0,o.up)("q-separator"),B=(0,o.up)("q-item-section"),j=(0,o.up)("q-item-label"),z=(0,o.up)("q-item"),A=(0,o.up)("q-list"),G=(0,o.up)("q-page"),R=(0,o.up)("q-page-container"),D=(0,o.up)("q-layout"),O=(0,o.Q2)("ripple");return(0,o.wg)(),(0,o.j4)(D,{view:"lHh lpr lFf"},{default:(0,o.w5)((()=>[(0,o.Wm)(C,null,{default:(0,o.w5)((()=>[(0,o.Wm)(H,{class:"cb-bg-white-2 cb-text-blue-8"},{default:(0,o.w5)((()=>[(0,o.Wm)(Q,{flat:"",dense:"",round:"",icon:"arrow_back",onClick:t[0]||(t[0]=t=>e.$router.push("/home/dashboard"))}),l])),_:1})])),_:1}),(0,o.Wm)(R,null,{default:(0,o.w5)((()=>[(0,o.Wm)(G,{class:"q-px-md q-py-xs"},{default:(0,o.w5)((()=>[c,(0,o._)("div",n,[(0,o.Wm)(I,{borderless:"",placeholder:"Address Search e.g. Prashant Towers",onClick:t[1]||(t[1]=e=>Z.initAutocomplete()),modelValue:k.location_search,"onUpdate:modelValue":t[2]||(t[2]=e=>k.location_search=e),for:"toLocation1"},{prepend:(0,o.w5)((()=>[(0,o.Wm)(L,{name:"search",class:"cb-text-orange-8"})])),_:1},8,["modelValue"])]),d,(0,o._)("div",r,[(0,o.Wm)($,{src:"https://chotabeta.app/dev/testenv/public/imgs/google-maps-48.png",width:"30px"}),i]),p,(0,o._)("div",u,[(0,o.Wm)($,{src:"https://chotabeta.app/dev/testenv/public/imgs/house-48.png",width:"30px"}),m]),g,(0,o._)("div",_,[h,(0,o._)("div",b,[((0,o.wg)(),(0,o.iD)(o.HY,null,(0,o.Ko)(3,(e=>(0,o._)("div",v,[(0,o.Wm)($,{src:"https://chotabeta.app/dev/testenv/public/imgs/house-48.png",width:"25px"}),w,(0,o.Wm)(S)]))),64))]),y]),(0,o._)("div",x,[f,(0,o._)("div",q,[(0,o.Wm)(A,{separator:""},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(k.saved_locations,(e=>(0,o.wy)(((0,o.wg)(),(0,o.j4)(z,{clickable:"",key:e,class:"q-px-xs",onClick:t=>Z.saved_location_add(e)},{default:(0,o.w5)((()=>[(0,o.Wm)(B,{avatar:"",class:"q-px-xs"},{default:(0,o.w5)((()=>["Home"==e.location_type?((0,o.wg)(),(0,o.j4)(L,{key:0,name:"home",size:"xs",class:"cb-bg-orange-8 q-pa-xs text-white cb-font",style:{"border-radius":"100%"}})):(0,o.kq)("",!0),"Home"!=e.location_type?((0,o.wg)(),(0,o.j4)(L,{key:1,name:"location_on",size:"xs",class:"cb-bg-orange-8 q-pa-xs text-white cb-font",style:{"border-radius":"100%"}})):(0,o.kq)("",!0)])),_:2},1024),(0,o.Wm)(B,null,{default:(0,o.w5)((()=>[(0,o.Wm)(j,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.location_type),1)])),_:2},1024),(0,o.Wm)(j,{caption:"",lines:"2"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.name),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])),[[O]]))),128))])),_:1})])])])),_:1})])),_:1})])),_:1})}a(1768);var W=a(1959);const Z={setup(){return{access_token:(0,W.iH)(null),saved_locations:(0,W.iH)([]),carousels:(0,W.iH)(0),step:(0,W.iH)(1,2,3),data:(0,W.iH)(null),location_search:(0,W.iH)(null),searched_latlong:(0,W.iH)(null),selected_location:(0,W.iH)(null)}},mounted(){this.getToken(),this.pickanddrop_locationsearch()},methods:{getToken(){var e=this;e.access_token=e.$store.state.token,null==e.access_token&&e.$router.push("")},pickanddrop_locationsearch(){var e=this,t=document.getElementById("loader2");t.style.display="block";let a={headers:{Authorization:`Bearer ${e.access_token}`}};e.$api.get("/api/favourite-locations-get-two",a).then((function(a){console.log("response"),t.style.display="none",e.saved_locations=a.data.favourite_locations})).catch((function(e){console.log(e)}))},initAutocomplete(){var e=this,t=document.getElementById("toLocation1");const a={fields:["formatted_address","geometry.location"]};var o=new google.maps.places.Autocomplete(t,a);console.log(o,"autocomplete"),google.maps.event.addListener(o,"place_changed",(function(){var t=o.getPlace();console.log(t,"place",t.formatted_address);var a=t.geometry.location.lat(),s=t.geometry.location.lng(),l=a+","+s;console.log(l,"jygsdyu"),e.location_search=t.formatted_address,e.searched_latlong=l,e.$router.push("/adding_address_page?searchaddress="+e.location_search+"&searched_latlong="+e.searched_latlong)}))},saved_location_add(e){var t=this;console.log(e,"saved location"),t.selected_location=e,t.getReverseGeocodingData(e.location)},getReverseGeocodingData(e){var t=this;console.log(e,"latlongs dataaaaaaaaaaaaaaa");var a=e.split(","),o=new google.maps.LatLng(a[0],a[1]),s=new google.maps.Geocoder;s.geocode({latLng:o},((e,a)=>{if(a!==google.maps.GeocoderStatus.OK&&(console.log(google.maps.GeocoderStatus),alert(a)),a==google.maps.GeocoderStatus.OK){var o=e[0],s=document.getElementById("loader2");s.style.display="block",this.$store.dispatch("saved_asdderss_data",{address:o,saved_address:t.selected_location}).then((e=>{if(200==e){var a=o.address_components.length;t.update_user_details(o.address_components[a-1].long_name),setTimeout(t.$router.push("/home/dashboard"),500)}})).catch((e=>{console.log(e)})),s.style.display="none"}}))},update_user_details(e){var t=this,a=document.getElementById("loader2");a.style.display="block";let o=new FormData;o.append("pincode",e);let s={headers:{Authorization:`Bearer ${t.access_token}`}};t.$api.post("/api/update-user-details",o,s).then((function(e){})).catch((function(e){})),a.style.display="none"}}};var Q=a(4260),H=a(3066),C=a(3812),L=a(9570),I=a(8240),$=a(2652),S=a(4379),B=a(4842),j=a(4554),z=a(4027),A=a(5869),G=a(7011),R=a(3414),D=a(2035),O=a(2350),T=a(6489),E=a(7518),K=a.n(E);const P=(0,Q.Z)(Z,[["render",k]]),V=P;K()(Z,"components",{QLayout:H.Z,QHeader:C.Z,QToolbar:L.Z,QBtn:I.Z,QPageContainer:$.Z,QPage:S.Z,QInput:B.Z,QIcon:j.Z,QImg:z.Z,QSeparator:A.Z,QList:G.Z,QItem:R.Z,QItemSection:D.Z,QItemLabel:O.Z}),K()(Z,"directives",{Ripple:T.Z})}}]);