"use strict";(self["webpackChunkpwa_wibsite"]=self["webpackChunkpwa_wibsite"]||[]).push([[8981],{8981:(e,t,a)=>{a.r(t),a.d(t,{default:()=>N});var s=a(3673),o=a(2323);const l=(0,s._)("span",{class:"cb-font-16 text-weight-bolder q-px-sm"},"Search For Your Location",-1),c=(0,s._)("div",{id:"loader2",class:"pre-loader",style:{display:"none"}},null,-1),n={class:"cb-shadow-1 q-px-sm cb-round-borders-10"},i=(0,s._)("div",{class:"row justify-center q-py-sm text-bold"},[(0,s._)("span",{class:"cb-text-grey-4"},"OR")],-1),r={class:"row cb-text-blue-8 text-bold"},d=(0,s._)("span",{class:"cb-text-blue-4 cb-font-16 q-px-sm"},"Choose Location from Map",-1),p=(0,s._)("div",{class:"row justify-center q-py-sm text-bold"},[(0,s._)("span",{class:"cb-text-grey-4"},"OR")],-1),u={class:"row cb-text-blue-8 text-bold"},m=(0,s._)("span",{class:"cb-text-blue-4 cb-font-16 q-px-sm"},"ChotaBeta Communities",-1),_=(0,s._)("div",{class:"text-center cb-text-grey-4 cb-round-borders-10 cb-shadow-1 q-my-md q-py-xs text-bold"},[(0,s._)("span",null,"Choose Your Community")],-1),g={class:"row"},h=(0,s._)("div",{class:"col-12"},[(0,s._)("span",{class:"cb-text-blue-8 cb-font text-bold"},"Recent Searches")],-1),b={class:"col-12 row q-pl-md"},x={class:"col-12 flex q-py-xs"},y=(0,s._)("div",{class:"q-px-md"},[(0,s._)("span",{class:"cb-text-blue-8"},"Other"),(0,s._)("br"),(0,s._)("span",{class:"cb-text-grey-4",style:{"font-size":"12px"}},"Not Assigned")],-1),v=(0,s._)("div",{class:"col-12 text-right cb-text-grey-4 q-py-sm"},"View More",-1),w={class:"row"},f=(0,s._)("div",{class:"col-12"},[(0,s._)("span",{class:"cb-text-blue-8 cb-font text-bold"},"Saved Locations")],-1),k={class:"col-12",style:{"max-height":"200px",overflow:"scroll"}};function q(e,t,a,q,S,$){const W=(0,s.up)("q-btn"),Z=(0,s.up)("q-toolbar"),H=(0,s.up)("q-header"),I=(0,s.up)("q-icon"),Q=(0,s.up)("q-input"),C=(0,s.up)("q-img"),L=(0,s.up)("q-separator"),B=(0,s.up)("q-item-section"),R=(0,s.up)("q-item-label"),O=(0,s.up)("q-item"),z=(0,s.up)("q-list"),A=(0,s.up)("q-page"),j=(0,s.up)("q-page-container"),G=(0,s.up)("q-layout"),P=(0,s.Q2)("ripple");return(0,s.wg)(),(0,s.j4)(G,{view:"lHh lpr lFf"},{default:(0,s.w5)((()=>[(0,s.Wm)(H,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Z,{class:"cb-bg-white-2 cb-text-blue-8"},{default:(0,s.w5)((()=>[(0,s.Wm)(W,{flat:"",dense:"",round:"",icon:"arrow_back",onClick:t[0]||(t[0]=e=>$.Screen_Back_Redirection())}),l])),_:1})])),_:1}),(0,s.Wm)(j,{class:"animate__animated animate__slideInRight"},{default:(0,s.w5)((()=>[(0,s.Wm)(A,{class:"q-px-md q-py-xs"},{default:(0,s.w5)((()=>[c,(0,s._)("div",n,[(0,s.Wm)(Q,{borderless:"",placeholder:"Address Search e.g. Prashant Towers",onClick:t[1]||(t[1]=e=>$.initAutocomplete()),modelValue:q.location_search,"onUpdate:modelValue":t[2]||(t[2]=e=>q.location_search=e),for:"toLocation1"},{prepend:(0,s.w5)((()=>[(0,s.Wm)(I,{name:"search",class:"cb-text-orange-8"})])),_:1},8,["modelValue"])]),i,(0,s._)("div",r,[(0,s.Wm)(C,{src:"https://chotabeta.app/dev/testenv/public/imgs/google-maps-48.png",width:"30px"}),d]),p,(0,s._)("div",u,[(0,s.Wm)(C,{src:"https://chotabeta.app/dev/testenv/public/imgs/house-48.png",width:"30px"}),m]),_,(0,s._)("div",g,[h,(0,s._)("div",b,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(3,(e=>(0,s._)("div",x,[(0,s.Wm)(C,{src:"https://chotabeta.app/dev/testenv/public/imgs/house-48.png",width:"25px"}),y,(0,s.Wm)(L)]))),64))]),v]),(0,s._)("div",w,[f,(0,s._)("div",k,[(0,s.Wm)(z,{separator:""},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(q.saved_locations,(e=>(0,s.wy)(((0,s.wg)(),(0,s.j4)(O,{clickable:"",key:e,class:"q-px-xs",onClick:t=>$.saved_location_add(e)},{default:(0,s.w5)((()=>[(0,s.Wm)(B,{avatar:"",class:"q-px-xs"},{default:(0,s.w5)((()=>["Home"==e.location_type?((0,s.wg)(),(0,s.j4)(I,{key:0,name:"home",size:"xs",class:"cb-bg-orange-8 q-pa-xs text-white cb-font",style:{"border-radius":"100%"}})):(0,s.kq)("",!0),"Home"!=e.location_type?((0,s.wg)(),(0,s.j4)(I,{key:1,name:"location_on",size:"xs",class:"cb-bg-orange-8 q-pa-xs text-white cb-font",style:{"border-radius":"100%"}})):(0,s.kq)("",!0)])),_:2},1024),(0,s.Wm)(B,null,{default:(0,s.w5)((()=>[(0,s.Wm)(R,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(e.location_type),1)])),_:2},1024),(0,s.Wm)(R,{caption:"",lines:"2"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(e.name),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])),[[P]]))),128))])),_:1})])])])),_:1})])),_:1})])),_:1})}a(2100),a(1768);var S=a(1959);const $={setup(){return{access_token:(0,S.iH)(null),saved_locations:(0,S.iH)([]),carousels:(0,S.iH)(0),step:(0,S.iH)(1,2,3),data:(0,S.iH)(null),location_search:(0,S.iH)(null),searched_latlong:(0,S.iH)(null),selected_location:(0,S.iH)(null),xid:(0,S.iH)(null)}},mounted(){this.getToken(),this.mypath(),this.pickanddrop_locationsearch()},methods:{getToken(){var e=this;e.$store.state.token?e.access_token=e.$store.state.token:e.access_token=e.$store.state.token_cb,e.$store.state.xid?e.xid=e.$store.state.xid:e.xid=e.$store.state.xid_cb,null==e.access_token&&e.$router.push("/")},pickanddrop_locationsearch(){var e=this,t=document.getElementById("loader2");t.style.display="block";let a={headers:{Authorization:`Bearer ${e.access_token}`}};e.$api.get("/api/favourite-locations-get-two",a).then((function(a){t.style.display="none",e.saved_locations=a.data.favourite_locations})).catch((function(e){console.log(e)}))},initAutocomplete(){var e=this,t=document.getElementById("toLocation1");const a={fields:["formatted_address","geometry.location"]};var s=new google.maps.places.Autocomplete(t,a);google.maps.event.addListener(s,"place_changed",(function(){var t=s.getPlace(),a=t.geometry.location.lat(),o=t.geometry.location.lng(),l=a+","+o;e.location_search=t.formatted_address,e.searched_latlong=l,e.$router.push("/adding_address_page?searchaddress="+e.location_search+"&searched_latlong="+e.searched_latlong)}))},saved_location_add(e){var t=this;t.selected_location=e,t.getReverseGeocodingData(e.location)},getReverseGeocodingData(e){var t=this,a=e.split(","),s=new google.maps.LatLng(a[0],a[1]),o=new google.maps.Geocoder;o.geocode({latLng:s},((e,a)=>{if(a!==google.maps.GeocoderStatus.OK&&console.log(google.maps.GeocoderStatus),a==google.maps.GeocoderStatus.OK){var s=e[0],o=document.getElementById("loader2");o.style.display="block",t.$store.dispatch("saved_asdderss_data",{address:s,saved_address:t.selected_location}).then((e=>{if(200==e){var a=s.address_components.length;t.update_user_details(s.address_components[a-1].long_name),setTimeout(t.$router.push("/home/dashboard"),500)}})).catch((e=>{console.log(e)})),o.style.display="none"}}))},update_user_details(e){var t=this,a=document.getElementById("loader2");a.style.display="block";let s=new FormData;s.append("pincode",e);let o={headers:{Authorization:`Bearer ${t.access_token}`}};t.$api.post("/api/update-user-details",s,o).then((function(e){})).catch((function(e){})),a.style.display="none"},mypath(){var e=this,t=[],a=0;if(localStorage.getItem("mypath")&&(t=JSON.parse(localStorage.getItem("mypath"))),t.forEach(((t,s)=>{e.$route.fullPath==t&&0==a&&(a=s)})),0==a)t.push(e.$route.fullPath);else for(var s=1;s<=t.length;++s)s<=a||t.splice(s,1);localStorage.setItem("mypath",JSON.stringify(t))},Screen_Back_Redirection(){var e=this,t=JSON.parse(localStorage.getItem("mypath")),a=t.length;e.$router.push(t[a-2])}}};var W=a(4260),Z=a(3066),H=a(3812),I=a(9570),Q=a(8240),C=a(2652),L=a(4379),B=a(4842),R=a(4554),O=a(4027),z=a(5869),A=a(7011),j=a(3414),G=a(2035),P=a(2350),D=a(6489),E=a(7518),T=a.n(E);const K=(0,W.Z)($,[["render",q]]),N=K;T()($,"components",{QLayout:Z.Z,QHeader:H.Z,QToolbar:I.Z,QBtn:Q.Z,QPageContainer:C.Z,QPage:L.Z,QInput:B.Z,QIcon:R.Z,QImg:O.Z,QSeparator:z.Z,QList:A.Z,QItem:j.Z,QItemSection:G.Z,QItemLabel:P.Z}),T()($,"directives",{Ripple:D.Z})}}]);