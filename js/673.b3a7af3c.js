"use strict";(self["webpackChunkpwa_wibsite"]=self["webpackChunkpwa_wibsite"]||[]).push([[673],{4673:(t,e,a)=>{a.r(e),a.d(e,{default:()=>A});var s=a(3673),o=a(2323);const l=t=>((0,s.dD)("data-v-970a49f2"),t=t(),(0,s.Cn)(),t),i=(0,s.Uk)(" Mycart "),r=(0,s.Uk)("Swipe left on the item to delete from cart "),n={class:"cb-font-12"},_=l((()=>(0,s._)("div",{id:"loader2",class:"pre-loader",style:{display:"none"}},null,-1))),c={class:"text-center"},d={class:"text-orange-10 q-pt-md"},m={class:"text-grey-8"},u={class:"row"},p={class:"col-12 swipe-container"},y={class:"col-2 column justify-center items-center"},g=["src"],f={class:"col-7 q-pl-md cb-font-12"},b={class:"text-bold"},w=l((()=>(0,s._)("br",null,null,-1))),q={class:""},h={class:"col-3 text-center"},k={class:"text-h6 text-bold"},v=l((()=>(0,s._)("br",null,null,-1))),x={style:{border:"1px solid orange"},class:"cb-round-borders-10 text-orange q-py-xs"},C={class:"q-px-xs text-bold cb-font-16"},H={class:"row absolute-bottom q-ma-md"},I=(0,s.Uk)(" checkout ");function W(t,e,a,l,W,M){const F=(0,s.up)("q-btn"),z=(0,s.up)("q-space"),Z=(0,s.up)("q-toolbar"),Q=(0,s.up)("q-icon"),$=(0,s.up)("q-header"),N=(0,s.up)("q-img"),O=(0,s.up)("q-page"),S=(0,s.up)("q-avatar"),E=(0,s.up)("q-page-container"),B=(0,s.up)("q-layout");return(0,s.wg)(),(0,s.j4)(B,{view:"lHh lpr lFf"},{default:(0,s.w5)((()=>[(0,s.Wm)($,{class:"bg-orange-1 text-grey-8 text-bold"},{default:(0,s.w5)((()=>[(0,s.Wm)(Z,null,{default:(0,s.w5)((()=>[(0,s.Wm)(F,{icon:"arrow_back_ios",flat:""}),(0,s.Wm)(z),i,(0,s.Wm)(z),(0,s.Wm)(z)])),_:1}),(0,s.Wm)(Z,{class:"cb-font-10"},{default:(0,s.w5)((()=>[(0,s.Wm)(Q,{name:"swipe_left",size:"sm",class:"q-pr-sm"}),r,(0,s.Wm)(z),(0,s._)("span",n,(0,o.zw)(l.NoOfItemsInCart)+" items",1)])),_:1})])),_:1}),(0,s.Wm)(E,null,{default:(0,s.w5)((()=>[_,0==l.NoOfItemsInCart?((0,s.wg)(),(0,s.j4)(O,{key:0,class:"flex flex-center bg-orange-1 q-px-md"},{default:(0,s.w5)((()=>[(0,s._)("div",c,[(0,s.Wm)(N,{src:l.empty_cart_image,width:"50%",height:"50%"},null,8,["src"]),(0,s._)("p",d,(0,o.zw)(l.empty_cart_title),1),(0,s._)("p",m,(0,o.zw)(l.empty_cart_message),1)])])),_:1})):(0,s.kq)("",!0),0!=l.NoOfItemsInCart?((0,s.wg)(),(0,s.j4)(O,{key:1,class:"bg-orange-1 q-px-sm"},{default:(0,s.w5)((()=>[(0,s._)("div",u,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.items_data,(a=>((0,s.wg)(),(0,s.iD)("div",p,[(0,s._)("div",{class:"row bg-white q-pa-sm cb-round-borders-20 swipe-element",onTouchstart:e[0]||(e[0]=e=>M.swite_to_delete(t.i)),id:"swipe_container"},[(0,s._)("div",y,[(0,s.Wm)(S,{square:"",class:"cb-round-borders-10",size:"70px"},{default:(0,s.w5)((()=>[(0,s._)("img",{src:a.image,class:"fit"},null,8,g)])),_:2},1024)]),(0,s._)("div",f,[(0,s._)("span",b,(0,o.zw)(a.name),1),w,(0,s._)("span",q,(0,o.zw)(a.info),1)]),(0,s._)("div",h,[(0,s._)("span",k,[(0,s.Wm)(Q,{name:"currency_rupee"}),(0,s.Uk)((0,o.zw)(a.selling_price),1)]),v,(0,s._)("span",x,[(0,s.Wm)(F,{flat:"",icon:"remove",dense:"",onClick:t=>M.food_cart_item_remove(a)},null,8,["onClick"]),(0,s._)("span",C,(0,o.zw)(a.qty),1),(0,s.Wm)(F,{flat:"",icon:"add",dense:"",onClick:t=>M.food_add_to_cart_more(a)},null,8,["onClick"])])])],32),(0,s.Wm)(F,{label:"delete",id:"swipe_delete",class:"text-white action bg-green q-ml-sm cb-round-borders-20"})])))),256))]),(0,s._)("div",H,[(0,s.Wm)(F,{class:"bg-green-8 full-width cb-round-borders-10 text-white cb-font-16"},{default:(0,s.w5)((()=>[I,(0,s.Wm)(Q,{name:"currency_rupee",class:"q-pl-md",size:"16px"}),(0,s.Uk)((0,o.zw)(l.total_mrp),1)])),_:1})])])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1})}a(2100),a(1768);var M=a(1959);const F={setup(){return{access_token:(0,M.iH)(null),xid:(0,M.iH)(null),select_veg:(0,M.iH)(!1),NoOfItemsInCart:(0,M.iH)(0),MyFoodCart:(0,M.iH)([]),schedule_status:(0,M.iH)(null),delivery_times:(0,M.iH)(null),items_data:(0,M.iH)(null),total_mrp:(0,M.iH)(null),no_of_disabled_items:(0,M.iH)(null),disabled_items_title:(0,M.iH)(null),disabled_items_message:(0,M.iH)(null),empty_cart_title:(0,M.iH)(null),empty_cart_message:(0,M.iH)(null),empty_cart_image:(0,M.iH)(null),qty_restriction:(0,M.iH)(null),qty_restriction_message:(0,M.iH)(null)}},mounted(){this.getToken(),this.Mycartitems_function()},methods:{getToken(){var t=this;t.$store.state.token?t.access_token=t.$store.state.token:t.access_token=t.$store.state.token_cb,t.$store.state.xid?t.xid=t.$store.state.xid:t.xid=t.$store.state.xid_cb,null!=t.access_token&&t.access_token||t.$router.push("/")},Mycartitems_function(){var t=this;t.MyFoodCart=JSON.parse(localStorage.getItem("MyFoodCart")),t.NoOfItemsInCart=t.MyFoodCart.length;let e=new FormData;var a=[];t.MyFoodCart.forEach((t=>{var e={qty:t.no_of_qty,sku:t.sku,id:t.id};a.push(e)})),e.append("item_list",JSON.stringify(a)),e.append("subscription",0);let s={headers:{Authorization:`Bearer ${t.access_token}`}};var o=document.getElementById("loader2");o.style.display="block",t.$api.post("/api/update-food-cart",e,s).then((function(e){o.style.display="none",400==e.data.status_code?(t.empty_cart_title=e.data.empty_cart_title,t.empty_cart_message=e.data.empty_cart_message,t.empty_cart_image=e.data.empty_cart_image):(t.schedule_status=e.data.schedule_status,t.delivery_times=e.data.delivery_times,t.items_data=e.data.items_data,t.total_mrp=e.data.total_mrp,t.no_of_disabled_items=e.data.no_of_disabled_items,t.disabled_items_title=e.data.disabled_items_title,t.disabled_items_message=e.data.disabled_items_message,t.empty_cart_title=e.data.empty_cart_title,t.empty_cart_message=e.data.empty_cart_message,t.empty_cart_image=e.data.empty_cart_image,t.qty_restriction=e.data.qty_restriction,t.qty_restriction_message=e.data.qty_restriction_message)})).catch((function(t){console.log(t)}))},swite_to_delete(t){document.getElementById("swipe_container"),document.getElementById("swipe_delete")},food_add_to_cart_more(t){var e=this;e.MyFoodCart.forEach((a=>{a.sku==t.sku&&(a.no_of_qty<e.qty_restriction?(t.qty=t.qty+1,a.no_of_qty=a.no_of_qty+1):e.$q.notify({message:e.qty_restriction_message,color:"light-blue-10",icon:"close"}))})),localStorage.setItem("MyFoodCart",JSON.stringify(e.MyFoodCart)),e.Mycartitems_function()},food_cart_item_remove(t){var e=this;e.MyFoodCart.forEach(((a,s)=>{a.sku==t.sku&&(1==a.no_of_qty?e.MyFoodCart.splice(s,1):(t.qty=t.qty-1,a.no_of_qty=a.no_of_qty-1))})),localStorage.setItem("MyFoodCart",JSON.stringify(e.MyFoodCart)),e.Mycartitems_function()}}};var z=a(4260),Z=a(3066),Q=a(3812),$=a(9570),N=a(8240),O=a(2025),S=a(4554),E=a(2652),B=a(4379),U=a(4027),j=a(5096),D=a(7518),J=a.n(D);const T=(0,z.Z)(F,[["render",W],["__scopeId","data-v-970a49f2"]]),A=T;J()(F,"components",{QLayout:Z.Z,QHeader:Q.Z,QToolbar:$.Z,QBtn:N.Z,QSpace:O.Z,QIcon:S.Z,QPageContainer:E.Z,QPage:B.Z,QImg:U.Z,QAvatar:j.Z})}}]);