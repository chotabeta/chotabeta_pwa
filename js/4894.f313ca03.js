"use strict";(self["webpackChunkpwa_wibsite"]=self["webpackChunkpwa_wibsite"]||[]).push([[4894],{4894:(e,o,t)=>{t.r(o),t.d(o,{default:()=>qe});var a=t(3673),n=t(2323);const l=(0,a.Uk)(" Checkout "),d=(0,a._)("div",{id:"loader2",class:"pre-loader",style:{display:"none"}},null,-1),s={class:"row"},i=(0,a._)("div",{class:"col-12 text-body1 text-weight-bolder text-blue-10"},"Order summery",-1),r={class:"q-pa-none col-12 q-py-sm"},c={class:"full-width cb-font-16"},_=(0,a._)("td",null,"Subtotal",-1),u={class:"text-right"},p=(0,a._)("td",null,"Delivery Charge",-1),m={class:"text-right"},g=(0,a._)("td",null,"Tax & Fees",-1),y={class:"text-right"},h={key:0,class:"text-red"},f=(0,a._)("td",null,"Discount",-1),b={class:"text-right"},v={class:"text-weight-bolder"},k=(0,a._)("td",null,"Total",-1),w={class:"text-right"},x={key:0,class:"col-12 bg-orange-3 q-pa-xs cb-round-borders-10"},q=(0,a._)("span",{class:"text-subtitle1"},"Apply Coupon",-1),W={key:1,class:"col-12 bg-orange-3 q-pa-xs cb-round-borders-10"},$={class:"full-width bg-orange-1 flex cb-round-borders-10 q-pa-sm"},H={class:"text-subtitle1"},C=(0,a._)("div",{class:"col-12 text-body1 text-weight-bolder text-blue-10 q-py-sm"},"Delivery Address",-1),z={class:"col-12"},S={class:"row q-px-sm items-center"},D={class:"col-1"},O={class:"col-8 q-px-sm"},I={class:"col-3 text-right"},V=(0,a._)("br",null,null,-1),A=(0,a._)("span",null,"Location",-1),P={class:"col-12 q-pa-sm q-py-md"},Q={key:2,class:"col-12 text-body1 text-weight-bolder text-blue-10 q-py-sm"},U={key:3,class:"col-12 cb-font-16"},Z={key:0,class:"row items-center"},F={class:"q-px-sm"},N={key:4,class:"col-12 q-py-md"},B={key:5,class:"col-12 text-center"},E=(0,a._)("br",null,null,-1),M=(0,a._)("div",{class:"text-h5 q-py-sm"},[(0,a._)("b",null,"Oops!")],-1),T=(0,a._)("div",null,"Not applied",-1),J=(0,a._)("br",null,null,-1),R=(0,a._)("div",{class:"text-h5 q-py-sm"},[(0,a._)("b",null,"HoHoo!")],-1),Y=(0,a.Uk)("Coupon Code "),K={class:"text-weight-bolder"},L=(0,a.Uk)(" Applied"),j={class:"text-green text-bold cb-font-16"},G=(0,a._)("br",null,null,-1),X=(0,a._)("div",{class:"text-h5 q-py-sm"},[(0,a._)("b",null,"Oops!")],-1),ee=(0,a._)("div",null,"Coupon Removed!",-1),oe=(0,a._)("p",{class:"text-h6 text-weight-bolder"},"Your order is successfully placed",-1),te=(0,a._)("p",{class:"cb-font-16"},"You can track the delivery in the orders section",-1);function ae(e,o,t,ae,ne,le){const de=(0,a.up)("q-btn"),se=(0,a.up)("q-space"),ie=(0,a.up)("q-toolbar"),re=(0,a.up)("q-header"),ce=(0,a.up)("q-icon"),_e=(0,a.up)("q-input"),ue=(0,a.up)("q-radio"),pe=(0,a.up)("q-avatar"),me=(0,a.up)("q-card-section"),ge=(0,a.up)("q-card"),ye=(0,a.up)("q-dialog"),he=(0,a.up)("q-page"),fe=(0,a.up)("q-page-container"),be=(0,a.up)("q-layout");return(0,a.wg)(),(0,a.j4)(be,{view:"lHh lpr lFf"},{default:(0,a.w5)((()=>[(0,a.Wm)(re,{class:"bg-orange-1 q-pt-xs"},{default:(0,a.w5)((()=>[(0,a.Wm)(ie,{class:"text-grey-8 text-h6"},{default:(0,a.w5)((()=>[(0,a.Wm)(de,{icon:"arrow_back_ios",flat:""}),(0,a.Wm)(se),l,(0,a.Wm)(se),(0,a.Wm)(se)])),_:1})])),_:1}),(0,a.Wm)(fe,null,{default:(0,a.w5)((()=>[d,(0,a.Wm)(he,{class:"bg-orange-1 q-px-sm text-grey-8"},{default:(0,a.w5)((()=>[(0,a._)("div",s,[i,(0,a._)("div",r,[(0,a._)("table",c,[(0,a._)("tr",null,[_,(0,a._)("td",u,[(0,a.Wm)(ce,{name:"currency_rupee"}),(0,a.Uk)((0,n.zw)(ae.continue_data.total_selling_price),1)])]),(0,a._)("tr",null,[p,(0,a._)("td",m,[(0,a.Wm)(ce,{name:"currency_rupee"}),(0,a.Uk)((0,n.zw)(ae.continue_data.delivery_fee),1)])]),(0,a._)("tr",null,[g,(0,a._)("td",y,[(0,a.Wm)(ce,{name:"currency_rupee"}),(0,a.Uk)((0,n.zw)(ae.continue_data.gst),1)])]),null!=ae.coupon_code?((0,a.wg)(),(0,a.iD)("tr",h,[f,(0,a._)("td",b,[(0,a.Wm)(ce,{name:"currency_rupee"}),(0,a.Uk)((0,n.zw)(ae.discount),1)])])):(0,a.kq)("",!0),(0,a._)("tr",v,[k,(0,a._)("td",w,[(0,a.Wm)(ce,{name:"currency_rupee"}),(0,a.Uk)((0,n.zw)(ae.continue_data.total),1)])])])]),null==ae.coupon_code?((0,a.wg)(),(0,a.iD)("div",x,[(0,a._)("div",{class:"full-width bg-orange-1 flex cb-round-borders-10 q-pa-sm",onClick:o[0]||(o[0]=e=>le.getcoupons())},[q,(0,a.Wm)(se),(0,a.Wm)(de,{label:"view all",outline:"",color:"orange","icon-right":"chevron_right",class:"cb-round-borders-10 q-pl-sm",dense:""})])])):(0,a.kq)("",!0),null!=ae.coupon_code?((0,a.wg)(),(0,a.iD)("div",W,[(0,a._)("div",$,[(0,a._)("span",H,(0,n.zw)(ae.coupon_code)+" Applied",1),(0,a.Wm)(se),(0,a.Wm)(de,{label:"Remove",outline:"",color:"orange","icon-right":"chevron_right",class:"cb-round-borders-10 q-pl-sm",dense:"",onClick:o[1]||(o[1]=e=>le.couponremove_function())})])])):(0,a.kq)("",!0),C,(0,a._)("div",z,[(0,a._)("div",S,[(0,a._)("div",D,[(0,a.Wm)(ce,{name:"check_circle_outline",color:"orange",size:"md"})]),(0,a._)("div",O,(0,n.zw)(ae.delivery_address),1),(0,a._)("div",I,[(0,a.Wm)(de,{label:"change",outline:"",color:"orange",class:"q-mb-xs q-px-sm cb-round-borders-10",size:"11px","icon-right":"chevron_right",onClick:o[2]||(o[2]=e=>le.food_change_address())}),V,A])])]),(0,a._)("div",P,[(0,a.Wm)(_e,{borderless:"",class:"bg-white cb-font-16 shadow-3 q-px-md cb-round-borders-20",style:{overflow:"hidden"},placeholder:"Add instruction here",modelValue:ae.instruction,"onUpdate:modelValue":o[3]||(o[3]=e=>ae.instruction=e)},null,8,["modelValue"])]),2!=ae.xid?((0,a.wg)(),(0,a.iD)("div",Q,"Payment Method")):(0,a.kq)("",!0),2!=ae.xid?((0,a.wg)(),(0,a.iD)("div",U,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(ae.payment_modes,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e},[1==e.payment_status?((0,a.wg)(),(0,a.iD)("div",Z,[(0,a.Wm)(ue,{modelValue:ae.payment,"onUpdate:modelValue":o[4]||(o[4]=e=>ae.payment=e),val:e.payment_mode,color:"orange"},null,8,["modelValue","val"]),(0,a._)("span",F,(0,n.zw)(e.payment_mode),1)])):(0,a.kq)("",!0)])))),128))])):(0,a.kq)("",!0),2!=ae.xid&&0==ae.checkout_buton_status?((0,a.wg)(),(0,a.iD)("div",N,[(0,a.Wm)(de,{color:"green-4",label:"checkout",onClick:o[5]||(o[5]=e=>le.food_checkout()),class:"full-width cb-round-borders-10 cb-font-16"})])):(0,a.kq)("",!0),2==ae.xid?((0,a.wg)(),(0,a.iD)("div",B,[(0,a.Wm)(de,{label:"Sign In",class:"cb-bg-green-8 text-white q-px-xl",onClick:o[6]||(o[6]=e=>le.signinscreen())})])):(0,a.kq)("",!0)]),(0,a.Wm)(ye,{modelValue:ae.coupon_dailog_error,"onUpdate:modelValue":o[9]||(o[9]=e=>ae.coupon_dailog_error=e)},{default:(0,a.w5)((()=>[(0,a.Wm)(ge,{class:"cb-round-borders-10",onClick:o[8]||(o[8]=e=>ae.coupon_dailog_error=!1)},{default:(0,a.w5)((()=>[(0,a.Wm)(me,{class:"text-center q-pa-lg"},{default:(0,a.w5)((()=>[(0,a.Wm)(pe,{color:"red","text-color":"white",size:"60px",class:"q-pa-none",icon:"sentiment_dissatisfied","font-size":"60px"}),E,M,T,(0,a.Wm)(de,{label:"add another coupon",onClick:o[7]||(o[7]=e=>ae.coupon_dailog_error=!1),flat:"",class:"text-red-8 text-bold"})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.Wm)(ye,{modelValue:ae.coupon_dailog_applied,"onUpdate:modelValue":o[11]||(o[11]=e=>ae.coupon_dailog_applied=e)},{default:(0,a.w5)((()=>[(0,a.Wm)(ge,{class:"cb-round-borders-10",onClick:o[10]||(o[10]=e=>ae.coupon_dailog_applied=!1)},{default:(0,a.w5)((()=>[(0,a.Wm)(me,{class:"text-center q-pa-lg"},{default:(0,a.w5)((()=>[(0,a.Wm)(pe,{color:"green","text-color":"white",size:"60px",class:"q-pa-none",icon:"sentiment_satisfied","font-size":"60px"}),J,R,(0,a._)("div",null,[Y,(0,a._)("span",K,(0,n.zw)(ae.coupon_code),1),L]),(0,a._)("div",j,[(0,a.Wm)(ce,{name:"currency_rupee"}),(0,a.Uk)((0,n.zw)(ae.discount)+" Saved",1)])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.Wm)(ye,{modelValue:ae.coupon_dailog_remove,"onUpdate:modelValue":o[14]||(o[14]=e=>ae.coupon_dailog_remove=e)},{default:(0,a.w5)((()=>[(0,a.Wm)(ge,{class:"cb-round-borders-10",onClick:o[13]||(o[13]=e=>ae.coupon_dailog_remove=!1)},{default:(0,a.w5)((()=>[(0,a.Wm)(me,{class:"text-center q-pa-lg"},{default:(0,a.w5)((()=>[(0,a.Wm)(pe,{color:"green","text-color":"white",size:"60px",class:"q-pa-none",icon:"sentiment_satisfied","font-size":"60px"}),G,X,ee,(0,a.Wm)(de,{label:"add another coupon",onClick:o[12]||(o[12]=e=>ae.coupon_dailog_remove=!1),flat:"",class:"text-red-8 text-weight-bolder"})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.Wm)(ye,{modelValue:ae.continue_to_stoping_dialog,"onUpdate:modelValue":o[17]||(o[17]=e=>ae.continue_to_stoping_dialog=e),persistent:""},{default:(0,a.w5)((()=>[(0,a.Wm)(ge,{class:"cb-round-borders-20 q-pa-md",style:{"max-width":"300px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(me,{class:"text-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(pe,{size:"80px",class:"cb-bg-orange-2"},{default:(0,a.w5)((()=>[(0,a.Wm)(pe,{icon:"done","font-size":"60px",size:"70px",class:"cb-text-orange-8 bg-white"})])),_:1}),oe,te,(0,a.Wm)(de,{label:"continue shopping",class:"cb-bg-orange-8 text-white cb-round-borders-10",onClick:o[15]||(o[15]=o=>e.$router.push("/home/dashboard"))}),(0,a.Wm)(de,{label:"go to orders",flat:"",class:"q-my-md",onClick:o[16]||(o[16]=o=>e.$router.push("/Home/FoodOrders"))})])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1})}t(2100),t(1768);var ne=t(1959);const le={setup(){return{access_token:(0,ne.iH)(null),xid:(0,ne.iH)(null),payment_modes:(0,ne.iH)([]),payment:(0,ne.iH)(null),default_payment_mode:(0,ne.iH)(null),instruction:(0,ne.iH)(null),continue_data:(0,ne.iH)([]),MyFoodCart:(0,ne.iH)([]),delivery_territory_id:(0,ne.iH)(null),food_delivery_address:(0,ne.iH)(null),delivery_address:(0,ne.iH)(null),delivery_pincode:(0,ne.iH)(null),delivery_latlngs:(0,ne.iH)(null),food_client_id:(0,ne.iH)(null),coupon_code:(0,ne.iH)(null),discount:(0,ne.iH)(null),coupon_dailog_error:(0,ne.iH)(!1),coupon_dailog_applied:(0,ne.iH)(!1),coupon_dailog_remove:(0,ne.iH)(!1),continue_to_stoping_dialog:(0,ne.iH)(!1),plan:(0,ne.iH)(null),schedule_time:(0,ne.iH)(null),data:[],week_end:(0,ne.iH)(null),pick_date:(0,ne.iH)(null),checkout_buton_status:(0,ne.iH)(0)}},mounted(){this.getToken(),this.get_payment_images_function(),this.deliveryaddress()},methods:{getToken(){var e=this;e.$store.state.token?e.access_token=e.$store.state.token:e.access_token=e.$store.state.token_cb,e.$store.state.xid?e.xid=e.$store.state.xid:e.xid=e.$store.state.xid_cb,null!=e.access_token&&e.access_token||e.$router.push("/")},loaddata(){var e=this;e.food_client_id=1,e.coupon_code=null,e.endPoint="https://www.stackroger.com/public/images/",e.transaction_id="08042022Q43A113328",e.default_payment_mode=2,e.payment_modes=[{payment_mode:"Cash On Delivery",image:"1.png",payment_status:0},{payment_mode:"Pay Online On Delivery",image:"2.png",payment_status:1},{payment_mode:"Pay Now Online",image:"3.png",payment_status:1}],e.payment_modes.forEach(((o,t)=>{t+1==e.default_payment_mode&&(e.payment=o.payment_mode)})),e.continue_data={total_mrp:110,total_selling_price:110,delivery_fee:"30",gst:6,tota_delivery_fee:36,total_distance:12,total:146,plan:"schedule",week_end:"",no_of_days:1,coupon_discount:0,coupon_code:"",messege_1:"Order once placed cannot be cancelled",messege_2:"",from_location:"Attapur",to_lat_lng:"17.443500056368073,78.37720010429621",show_coupon:0,restaurant_name:"Homes Kitchen",restaurant_address:"Attapur",restaurant_image:"https://stackroger.com/public/uploads/food/restaurants/home_kitchen_logo.png",payment_success_msg1:"your order has been placed successfully",payment_success_msg2:"you can track the delivery in the orders..",payment_failed_msg1:"your order could not placed",dialog_title:"Too far",dialog_messgae:"Delivery location is too far from the restaurant, please change",payment_gateway_selection:1,payment_access_token:"801611054d5ca0098efe073ca6fadbe554251ef965750f2d6ca5e43dfe5123f9",payment_hash:"90a68e98391fcb952d8e40a70e56f4a5efbd0334e063a36e6997d00d4f069ea72f88e5945166a7d268371c996fd5bf9a96389225743bdcbed29278d614f9a575"}},get_payment_images_function(){var e=this;let o={headers:{Authorization:`Bearer ${e.access_token}`}};var t=document.getElementById("loader2");t.style.display="block",e.$api.get("/api/food-get-payment-images",o).then((function(o){console.log(o,"get_payment_images"),t.style.display="none",200==o.data.status_code?(e.endPoint=o.data.endPoint,e.transaction_id=o.data.transaction_id,e.default_payment_mode=o.data.default_payment_mode,e.payment_modes=o.data.payment_modes,e.payment_modes.forEach(((o,t)=>{t+1==e.default_payment_mode&&(e.paymnet=o.payment_mode)}))):e.$q.notify({message:o.data.message,type:"negative"})})).catch((function(e){console.log(e)}))},deliveryaddress(){var e=this;"1"==e.$route.query.adding?(e.food_delivery_address=JSON.parse(localStorage.getItem("food_delivery_address")),e.delivery_address=e.food_delivery_address.name,e.delivery_pincode=e.food_delivery_address.postal_code,e.delivery_latlngs=e.food_delivery_address.location):(e.delivery_address=e.$store.state.address,e.delivery_pincode=e.$store.state.pincode,e.delivery_latlngs=e.$store.state.latlongs),e.check_territory()},check_territory(){var e=this,o=document.getElementById("loader2");o.style.display="block";let t={headers:{Authorization:`Bearer ${e.access_token}`}};e.$api.get("/api/check-territory2?base_location="+e.delivery_latlngs+"&base_pincode=0&cache_hash=&l_number=&lat_lng="+e.delivery_latlngs+"&pincode="+e.delivery_pincode+"&playstore_version_name=&xid="+e.xid,t).then((function(t){o.style.display="none",console.log(t,"territory"),e.delivery_territory_id=t.data.zone_id,e.continue_food_one_function()})).catch((function(e){console.log(e)}))},getcoupons(){var e=this;e.$router.push("food-coupons?client_id="+e.food_client_id+"&plan="+e.$route.query.plan+"&subscription="+e.$route.query.subscription)},couponremove_function(){var e=this;e.discount=null,e.coupon_code=null,localStorage.removeItem("food_coupon"),e.coupon_dailog_remove=!0,e.continue_food_one_function()},continue_food_one_function(){var e=this;if(localStorage.getItem("food_coupon")&&(e.coupon_code=localStorage.getItem("food_coupon")),0==e.$route.query.subscription)e.plan=e.$route.query.plan,e.schedule_time=localStorage.getItem("schedule_time"),e.MyFoodCart=JSON.parse(localStorage.getItem("MyFoodCart")),e.data=[],e.MyFoodCart.forEach((o=>{e.food_client_id=o.client_id;var t={qty:o.no_of_qty,id:o.id};e.data.push(t)}));else if(1==e.$route.query.subscription){var o=JSON.parse(localStorage.getItem("subscription_data"));e.plan=o.plan,e.week_end=o.weekend,e.pick_date=o.pick_date,e.data.push(o.item),e.schedule_time=o.schedule_time,e.food_client_id=o.client_id}let t={headers:{Authorization:`Bearer ${e.access_token}`}};var a=document.getElementById("loader2");let n=new FormData;n.append("plan",e.plan),n.append("schedule_time",e.schedule_time),n.append("items",JSON.stringify(e.data)),n.append("code",e.coupon_code),n.append("to_lat_lng",e.delivery_latlngs),n.append("lat_lng",e.delivery_latlngs),n.append("pincode",e.delivery_pincode),n.append("user_instructions",e.instruction),n.append("xid",e.xid),n.append("week_end",e.week_end),n.append("client_id",e.food_client_id),n.append("territory_id",e.delivery_territory_id),n.append("pick_date",e.pick_date),a.style.display="block",e.$api.post("/api/continue-food-one",n,t).then((function(o){console.log(o,"continue-food-one"),a.style.display="none",200==o.data.status_code?(e.checkout_buton_status=0,e.continue_data=o.data,localStorage.getItem("food_coupon")&&(0==o.data.coupon_discount?(e.coupon_dailog_error=!0,localStorage.removeItem("food_coupon"),e.coupon_code=null):(e.discount=o.data.coupon_discount,e.coupon_dailog_applied=!0)),e.discount=o.data.coupon_discount):(e.$q.notify({message:o.data.message,type:"negative"}),e.checkout_buton_status=1)})).catch((function(e){console.log(e)}))},food_checkout(){var e=this;if("Cash On Delivery"==e.payment)var o="COD";else if("Pay Online on Delivery"==e.payment)o="POD";else if("Pay Now Online"==e.payment){o="PO";return e.$q.notify({message:"Pay Now Online is Not Available! Please Try Another Method"}),!1}let t=new FormData;t.append("payment_status","Pending"),t.append("transaction_id",e.delivery_territory_id),t.append("code",e.coupon_code),t.append("schedule_time",e.schedule_time),t.append("client_id",e.food_client_id),t.append("to_lat_lng",e.delivery_latlngs),t.append("user_instructions",e.instruction),t.append("plan",e.plan),t.append("week_end",e.week_end),t.append("territory_id",e.delivery_territory_id),t.append("pincode",e.delivery_pincode),t.append("items",JSON.stringify(e.data)),t.append("to_location",e.delivery_address),t.append("xid",e.xid),t.append("pick_date",e.pick_date),t.append("payment_mode",o);var a=document.getElementById("loader2");a.style.display="block";let n={headers:{Authorization:`Bearer ${e.access_token}`}};e.$api.post("/api/pay-food",t,n).then((function(o){a.style.display="none",console.log(o,"territory"),200==o.data.status_code&&(localStorage.removeItem("food_coupon"),localStorage.removeItem("schedule_time"),localStorage.removeItem("MyFoodCart"),localStorage.removeItem("subscription_data"),e.continue_to_stoping_dialog=!0)})).catch((function(e){console.log(e)}))},food_change_address(){var e=this;e.$router.push("Search_location?address=f1&plan="+e.$route.query.plan+"&subscription="+e.$route.query.subscription)},signinscreen(){var e=this;e.$router.push("sign-in?service=Food&plan="+e.$route.query.plan+"&subscription="+e.$route.query.subscription)}}};var de=t(4260),se=t(3066),ie=t(3812),re=t(9570),ce=t(8240),_e=t(2025),ue=t(2652),pe=t(4379),me=t(4554),ge=t(4842),ye=t(7991),he=t(6778),fe=t(151),be=t(5589),ve=t(5096),ke=t(7518),we=t.n(ke);const xe=(0,de.Z)(le,[["render",ae]]),qe=xe;we()(le,"components",{QLayout:se.Z,QHeader:ie.Z,QToolbar:re.Z,QBtn:ce.Z,QSpace:_e.Z,QPageContainer:ue.Z,QPage:pe.Z,QIcon:me.Z,QInput:ge.Z,QRadio:ye.Z,QDialog:he.Z,QCard:fe.Z,QCardSection:be.Z,QAvatar:ve.Z})}}]);