"use strict";(self["webpackChunkpwa_wibsite"]=self["webpackChunkpwa_wibsite"]||[]).push([[441],{9441:(e,t,s)=>{s.r(t),s.d(t,{default:()=>ne});var a=s(3673),l=s(2323);const i=e=>((0,a.dD)("data-v-1a4fa7f6"),e=e(),(0,a.Cn)(),e),o=(0,a.Uk)(" Mycart "),r=(0,a.Uk)("Swipe left on the item to delete from cart "),c={class:"cb-font-12"},n=i((()=>(0,a._)("div",{id:"loader2",class:"pre-loader",style:{display:"none"}},null,-1))),d={class:"text-center"},_={class:"text-orange-10 q-pt-md"},m={class:"text-grey-8"},u={class:"row"},p={class:"col-12 swipe-container"},g={class:"col-2 column justify-center items-center"},y=["src"],h={class:"col-7 q-pl-md cb-font-12"},b={class:"text-bold"},f=i((()=>(0,a._)("br",null,null,-1))),w={class:""},k={class:"col-3 text-center"},v={class:"text-h6 text-bold"},q=i((()=>(0,a._)("br",null,null,-1))),x={style:{border:"1px solid orange"},class:"cb-round-borders-10 text-orange q-py-xs"},C={class:"q-px-xs text-bold cb-font-16"},H={class:"row absolute-bottom q-ma-sm"},W=(0,a.Uk)("checkout"),M=i((()=>(0,a._)("span",null,"Delivery Slots",-1))),I={class:"text-weight-bolder"},S=i((()=>(0,a._)("p",null,"Select Delivery time",-1))),D={class:"flex flex-center"},z={class:"row items-center justify-end q-gutter-sm"},P={class:"row items-center justify-end q-gutter-sm"},O={class:"row items-center justify-end q-gutter-sm"},T={key:0,class:"text-center text-red q-pt-xs"},Z={key:1,class:"text-center text-grey-10 q-pt-xs"},F={class:"flex flex-center"};function Q(e,t,s,i,Q,N){const V=(0,a.up)("q-btn"),$=(0,a.up)("q-space"),L=(0,a.up)("q-toolbar"),j=(0,a.up)("q-icon"),K=(0,a.up)("q-header"),U=(0,a.up)("q-img"),B=(0,a.up)("q-page"),R=(0,a.up)("q-avatar"),A=(0,a.up)("q-separator"),E=(0,a.up)("q-time"),J=(0,a.up)("q-popup-proxy"),Y=(0,a.up)("q-card-section"),G=(0,a.up)("q-card"),X=(0,a.up)("q-dialog"),ee=(0,a.up)("q-page-container"),te=(0,a.up)("q-layout"),se=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.j4)(te,{view:"lHh lpr lFf"},{default:(0,a.w5)((()=>[(0,a.Wm)(K,{class:"bg-orange-1 text-grey-8 text-bold"},{default:(0,a.w5)((()=>[(0,a.Wm)(L,null,{default:(0,a.w5)((()=>[(0,a.Wm)(V,{icon:"arrow_back_ios",flat:""}),(0,a.Wm)($),o,(0,a.Wm)($),(0,a.Wm)($)])),_:1}),(0,a.Wm)(L,{class:"cb-font-10"},{default:(0,a.w5)((()=>[(0,a.Wm)(j,{name:"swipe_left",size:"sm",class:"q-pr-sm"}),r,(0,a.Wm)($),(0,a._)("span",c,(0,l.zw)(i.NoOfItemsInCart)+" items",1)])),_:1})])),_:1}),(0,a.Wm)(ee,null,{default:(0,a.w5)((()=>[n,0==i.NoOfItemsInCart?((0,a.wg)(),(0,a.j4)(B,{key:0,class:"flex flex-center bg-orange-1 q-px-md"},{default:(0,a.w5)((()=>[(0,a._)("div",d,[(0,a.Wm)(U,{src:i.empty_cart_image,width:"50%",height:"50%"},null,8,["src"]),(0,a._)("p",_,(0,l.zw)(i.empty_cart_title),1),(0,a._)("p",m,(0,l.zw)(i.empty_cart_message),1)])])),_:1})):(0,a.kq)("",!0),0!=i.NoOfItemsInCart?((0,a.wg)(),(0,a.j4)(B,{key:1,class:"bg-orange-1 q-px-sm"},{default:(0,a.w5)((()=>[(0,a._)("div",u,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.items_data,(s=>((0,a.wg)(),(0,a.iD)("div",p,[(0,a._)("div",{class:"row bg-white q-pa-sm cb-round-borders-20 swipe-element",onTouchstart:t[0]||(t[0]=t=>N.swite_to_delete(e.i)),id:"swipe_container"},[(0,a._)("div",g,[(0,a.Wm)(R,{square:"",class:"cb-round-borders-10",size:"70px"},{default:(0,a.w5)((()=>[(0,a._)("img",{src:s.image,class:"fit"},null,8,y)])),_:2},1024)]),(0,a._)("div",h,[(0,a._)("span",b,(0,l.zw)(s.name),1),f,(0,a._)("span",w,(0,l.zw)(s.info),1)]),(0,a._)("div",k,[(0,a._)("span",v,[(0,a.Wm)(j,{name:"currency_rupee"}),(0,a.Uk)((0,l.zw)(s.selling_price),1)]),q,(0,a._)("span",x,[(0,a.Wm)(V,{flat:"",icon:"remove",dense:"",onClick:e=>N.food_cart_item_remove(s)},null,8,["onClick"]),(0,a._)("span",C,(0,l.zw)(s.qty),1),(0,a.Wm)(V,{flat:"",icon:"add",dense:"",onClick:e=>N.food_add_to_cart_more(s)},null,8,["onClick"])])])],32),(0,a.Wm)(V,{label:"delete",id:"swipe_delete",class:"text-white action bg-green q-ml-sm cb-round-borders-20"})])))),256))]),(0,a._)("div",H,[1==i.check_schedule?((0,a.wg)(),(0,a.j4)(V,{key:0,class:"bg-green-8 full-width cb-round-borders-10 text-white cb-font-16",onClick:t[1]||(t[1]=t=>e.$router.push("food-checkout?plan="))},{default:(0,a.w5)((()=>[W,(0,a.Wm)(j,{name:"currency_rupee",class:"q-pl-md",size:"16px"}),(0,a.Uk)((0,l.zw)(i.total_mrp),1)])),_:1})):(0,a.kq)("",!0),0==i.check_schedule?((0,a.wg)(),(0,a.iD)("span",{key:1,class:"cb-round-borders-10 fit cb-font-16 bg-orange-5 text-white q-pa-sm text-center",onClick:t[2]||(t[2]=e=>(N.get_time_function(),i.delivery_slot_dialog=!0))},"Schedule Delivery Time")):(0,a.kq)("",!0)]),(0,a.Wm)(X,{modelValue:i.delivery_slot_dialog,"onUpdate:modelValue":t[11]||(t[11]=e=>i.delivery_slot_dialog=e),position:"bottom"},{default:(0,a.w5)((()=>[(0,a.Wm)(G,{class:"cb-font-16 text-grey-9 q-ma-sm cb-round-borders-20"},{default:(0,a.w5)((()=>[(0,a.Wm)(Y,null,{default:(0,a.w5)((()=>[M,(0,a.Wm)(A,{color:"orange-1",class:"q-pt-xs q-my-sm"}),(0,a._)("span",I,(0,l.zw)(i.delivery_times[0].name)+" ("+(0,l.zw)(i.delivery_times[0].start_slice)+" - "+(0,l.zw)(i.delivery_times[0].end_slice)+")",1),(0,a.Wm)(A,{color:"orange-1",class:"q-pt-xs q-my-sm"}),S,(0,a._)("div",D,[(0,a.Wm)(V,{color:"orange-8",class:"cb-font-16 q-pl-md q-mx-xs cb-round-borders-10","icon-right":"expand_more",label:i.time_hr},{default:(0,a.w5)((()=>[(0,a.Wm)(J,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,a.w5)((()=>[(0,a.Wm)(E,{modelValue:i.scheduleTime,"onUpdate:modelValue":t[4]||(t[4]=e=>i.scheduleTime=e),class:"cb-round-borders-10"},{default:(0,a.w5)((()=>[(0,a._)("div",z,[(0,a.wy)((0,a.Wm)(V,{label:"Cancel",color:"primary",flat:""},null,512),[[se]]),(0,a.wy)((0,a.Wm)(V,{label:"OK",color:"primary",onClick:t[3]||(t[3]=e=>N.set_schedule_time_function()),flat:""},null,512),[[se]])])])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["label"]),(0,a.Wm)(V,{color:"orange-8",class:"cb-font-16 q-pl-md q-mx-xs cb-round-borders-10","icon-right":"expand_more",label:i.time_min},{default:(0,a.w5)((()=>[(0,a.Wm)(J,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,a.w5)((()=>[(0,a.Wm)(E,{modelValue:i.scheduleTime,"onUpdate:modelValue":t[6]||(t[6]=e=>i.scheduleTime=e),class:"cb-round-borders-10"},{default:(0,a.w5)((()=>[(0,a._)("div",P,[(0,a.wy)((0,a.Wm)(V,{label:"Cancel",color:"primary",flat:""},null,512),[[se]]),(0,a.wy)((0,a.Wm)(V,{label:"OK",color:"primary",flat:"",onClick:t[5]||(t[5]=e=>N.set_schedule_time_function())},null,512),[[se]])])])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["label"]),(0,a.Wm)(V,{color:"orange-8",class:"cb-font-16 q-pl-md q-mx-xs cb-round-borders-10","icon-right":"expand_more",label:i.time_am_pm},{default:(0,a.w5)((()=>[(0,a.Wm)(J,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,a.w5)((()=>[(0,a.Wm)(E,{modelValue:i.scheduleTime,"onUpdate:modelValue":t[8]||(t[8]=e=>i.scheduleTime=e),class:"cb-round-borders-10"},{default:(0,a.w5)((()=>[(0,a._)("div",O,[(0,a.wy)((0,a.Wm)(V,{label:"Cancel",color:"primary",flat:""},null,512),[[se]]),(0,a.wy)((0,a.Wm)(V,{label:"OK",color:"primary",flat:"",onClick:t[7]||(t[7]=e=>N.set_schedule_time_function())},null,512),[[se]])])])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["label"])]),0==i.schedule_the_order?((0,a.wg)(),(0,a.iD)("p",T,"Delivery not available at "+(0,l.zw)(i.seleceted_time),1)):(0,a.kq)("",!0),1==i.schedule_the_order?((0,a.wg)(),(0,a.iD)("p",Z,"Order Schedule at "+(0,l.zw)(i.seleceted_time),1)):(0,a.kq)("",!0),(0,a._)("div",F,[(0,a.Wm)(V,{outline:"",color:"red",label:"cancel",onClick:t[9]||(t[9]=e=>i.delivery_slot_dialog=!1),class:"q-mx-sm cb-round-borders-10",style:{width:"40%"}}),0==i.schedule_the_order?((0,a.wg)(),(0,a.j4)(V,{key:0,color:"blue-3",label:"checkout",disable:"",class:"q-mx-sm cb-round-borders-10",style:{width:"40%"}})):(0,a.kq)("",!0),1==i.schedule_the_order?((0,a.wg)(),(0,a.j4)(V,{key:1,color:"blue-6",label:"checkout",onClick:t[10]||(t[10]=e=>N.checkout_function("schedule")),class:"q-mx-sm cb-round-borders-10",style:{width:"40%"}})):(0,a.kq)("",!0)])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})):(0,a.kq)("",!0)])),_:1})])),_:1})}s(2100),s(1768);var N=s(1959);const V={setup(){return{access_token:(0,N.iH)(null),xid:(0,N.iH)(null),select_veg:(0,N.iH)(!1),NoOfItemsInCart:(0,N.iH)(0),MyFoodCart:(0,N.iH)([]),schedule_status:(0,N.iH)(null),delivery_times:(0,N.iH)(null),items_data:(0,N.iH)(null),total_mrp:(0,N.iH)(null),no_of_disabled_items:(0,N.iH)(null),disabled_items_title:(0,N.iH)(null),disabled_items_message:(0,N.iH)(null),empty_cart_title:(0,N.iH)(null),empty_cart_message:(0,N.iH)(null),empty_cart_image:(0,N.iH)(null),qty_restriction:(0,N.iH)(null),qty_restriction_message:(0,N.iH)(null),delivery_slot_dialog:(0,N.iH)(!1),time_hr:(0,N.iH)(20),time_min:(0,N.iH)(30),time_am_pm:(0,N.iH)("AM"),seleceted_time:(0,N.iH)(null),scheduleTime:(0,N.iH)(null),start_time:(0,N.iH)(null),end_time:(0,N.iH)(null),check_schedule:(0,N.iH)(0),schedule_the_order:(0,N.iH)(0)}},mounted(){localStorage.removeItem("schedule_time"),this.getToken(),this.Mycartitems_function()},methods:{loaddata(){var e=this;e.schedule_status=1,e.delivery_times=[{name:"Dinner",start:"19:00",end:"22:00",preorder_start:"15",preorder_end:"17"}],e.items_data=[{id:52,name:"North Indian Deluxe meal",info:"Consists of Salad, 3 Mini Rotis, One dry curry, One wet curry, Dal/Pulses, Plain/Flavoured Rice, Papad, Pickle, Raita, One sweet",weight_description:"1 Box",sku:"HK02L03",mrp:140,selling_price:140,client_id:1,active:1,category_id:2,sub_category_id:0,cuisine_name:"North Indian",cuisine_image:"https://stackroger.com/public/uploads/food/categories/northindian.png",image:"https://stackroger.com/public/uploads/food/items/1/2x/HK02L03.png",item_status:0,popular_pick:1,schedule_status:1,best_seller_status:0,best_seller_title:null,best_seller_description:null,best_seller_image:null,redirection:2,serving:"1",pure_veg:1,serving_times:'[{"name":"Lunch","start":"12:00","end":"15:00"},{"name":"Dinner","start":"19:00","end":"22:00"}]',updated_at:"2021-12-16 11:41:21.277579",created_at:"2021-09-18 13:30:23.763180",qty:1,status:1},{id:4,name:"North indian executive meal",info:"Consists of Salad, 2 Mini Rotis, One dry curry, Dal/Pulses, Flavoured/Plain Rice, Pickle, Raita",weight_description:"1 Box",sku:"HK02L01",mrp:110,selling_price:110,client_id:1,active:1,category_id:2,sub_category_id:0,cuisine_name:"North Indian",cuisine_image:"https://stackroger.com/public/uploads/food/categories/northindian.png",image:"https://stackroger.com/public/uploads/food/items/1/2x/HK02L01.png",item_status:0,popular_pick:1,schedule_status:1,best_seller_status:0,best_seller_title:null,best_seller_description:null,best_seller_image:null,redirection:2,serving:"1",pure_veg:1,serving_times:'[{"name":"Lunch","start":"12:00","end":"15:00"},{"name":"Dinner","start":"19:00","end":"22:00"}]',updated_at:"2021-12-16 11:40:23.680613",created_at:"2021-09-18 13:30:23.763180",qty:1,status:1},{id:3,name:"South indian executive meal",info:"Consists of Salad, 2 Mini Phulkas, One dry curry, Dal, Rice, Pickle, Curd",weight_description:"1 Box",sku:"HK01L01",mrp:110,selling_price:110,client_id:1,active:1,category_id:2,sub_category_id:0,cuisine_name:"South Indian",cuisine_image:"https://stackroger.com/public/uploads/food/categories/southindian.png",image:"https://stackroger.com/public/uploads/food/items/1/2x/HK01L01.png",item_status:0,popular_pick:1,schedule_status:1,best_seller_status:0,best_seller_title:null,best_seller_description:null,best_seller_image:null,redirection:3,serving:"1",pure_veg:1,serving_times:'[{"name":"Lunch","start":"12:00","end":"15:00"},{"name":"Dinner","start":"19:00","end":"22:00"}]',updated_at:"2021-12-16 11:39:26.235572",created_at:"2021-09-18 13:30:23.763180",qty:1,status:1}],e.NoOfItemsInCart=e.items_data.length,e.total_mrp=360,e.no_of_disabled_items=0,e.disabled_items_title="Looks like some items in your cart are out of stock or currently not being served.",e.disabled_items_message="Please delete the unavalable items to move further. Thank You!",e.empty_cart_title="Hey wait... You forgot to add items to me",e.empty_cart_message="We found that you have not added any items in cart. Please go back to add items.",e.empty_cart_image="https://stackroger.com/public/uploads/food/icons/empty_cart.png",e.qty_restriction=5,e.qty_restriction_message="Upto 5 qty can only be added to cart."},getToken(){var e=this;e.$store.state.token?e.access_token=e.$store.state.token:e.access_token=e.$store.state.token_cb,e.$store.state.xid?e.xid=e.$store.state.xid:e.xid=e.$store.state.xid_cb,null!=e.access_token&&e.access_token||e.$router.push("/")},Mycartitems_function(){var e=this;if(!localStorage.getItem("MyFoodCart"))return!1;e.MyFoodCart=JSON.parse(localStorage.getItem("MyFoodCart")),e.NoOfItemsInCart=e.MyFoodCart.length;let t=new FormData;var s=[];e.MyFoodCart.forEach((e=>{var t={qty:e.no_of_qty,sku:e.sku,id:e.id};s.push(t)})),t.append("item_list",JSON.stringify(s)),t.append("subscription",0);let a={headers:{Authorization:`Bearer ${e.access_token}`}};var l=document.getElementById("loader2");l.style.display="block",e.$api.post("/api/update-food-cart",t,a).then((function(t){l.style.display="none",console.log(t,"response"),400==t.data.status_code?(e.empty_cart_title=t.data.empty_cart_title,e.empty_cart_message=t.data.empty_cart_message,e.empty_cart_image=t.data.empty_cart_image):(e.schedule_status=t.data.schedule_status,e.delivery_times=t.data.delivery_times,e.items_data=t.data.items_data,e.total_mrp=t.data.total_mrp,e.no_of_disabled_items=t.data.no_of_disabled_items,e.disabled_items_title=t.data.disabled_items_title,e.disabled_items_message=t.data.disabled_items_message,e.empty_cart_title=t.data.empty_cart_title,e.empty_cart_message=t.data.empty_cart_message,e.empty_cart_image=t.data.empty_cart_image,e.qty_restriction=t.data.qty_restriction,e.qty_restriction_message=t.data.qty_restriction_message,e.get_time_function())})).catch((function(e){console.log(e)}))},get_time_function(){var e=this;e.start_time=e.delivery_times[0].start.slice(0,2),e.start_time>12?e.delivery_times[0].start_slice=e.start_time-12+":00 PM":e.delivery_times[0].start_slice=e.start_time+":00 AM",e.end_time=e.delivery_times[0].end.slice(0,2),e.end_time>12?e.delivery_times[0].end_slice=e.end_time-12+":00 PM":e.delivery_times[0].end_slice=e.end_time+":00 AM";const t=new Date;var s=t.getHours();e.scheduleTime=e.addzero(t.getHours())+":"+e.addzero(t.getMinutes()),s>=12?(e.time_am_pm="PM",e.time_hr=s-12):e.time_hr=s,e.time_min=t.getMinutes(),e.seleceted_time=e.time_hr+":"+e.time_min+":"+e.time_am_pm,e.start_time<=t.getHours()&&t.getHours()<=e.end_time?t.getHours()==e.end_time?e.delivery_times[0].end.slice(3,5)>=t.getMinutes()?e.check_schedule=1:e.check_schedule=0:e.check_schedule=1:e.check_schedule=0},addzero(e){return e<10?"0"+e:e},set_schedule_time_function(){var e=this,t=e.scheduleTime.slice(0,2);t>=12?(e.time_am_pm="PM",e.time_hr=t-12):(e.time_am_pm="AM",e.time_hr=t),e.time_min=e.scheduleTime.slice(3,5),e.seleceted_time=e.time_hr+":"+e.time_min+":"+e.time_am_pm,e.start_time<=t&&t<=e.end_time?t==e.end_time?e.delivery_times[0].end.slice(3,5)>=e.time_min?(e.schedule_the_order=1,localStorage.setItem("schedule_time",e.scheduleTime)):e.schedule_the_order=0:(e.schedule_the_order=1,localStorage.setItem("schedule_time",e.scheduleTime)):e.schedule_the_order=0},swite_to_delete(e){document.getElementById("swipe_container"),document.getElementById("swipe_delete")},food_add_to_cart_more(e){var t=this;t.MyFoodCart.forEach((s=>{s.sku==e.sku&&(s.no_of_qty<t.qty_restriction?(e.qty=e.qty+1,s.no_of_qty=s.no_of_qty+1):t.$q.notify({message:t.qty_restriction_message,color:"light-blue-10",icon:"close"}))})),localStorage.setItem("MyFoodCart",JSON.stringify(t.MyFoodCart)),t.Mycartitems_function()},food_cart_item_remove(e){var t=this;t.MyFoodCart.forEach(((s,a)=>{s.sku==e.sku&&(1==s.no_of_qty?t.MyFoodCart.splice(a,1):(e.qty=e.qty-1,s.no_of_qty=s.no_of_qty-1))})),localStorage.setItem("MyFoodCart",JSON.stringify(t.MyFoodCart)),t.Mycartitems_function()},checkout_function(e){var t=this;t.$router.push("food-checkout?plan="+e,"&subscription=0")}}};var $=s(4260),L=s(3066),j=s(3812),K=s(9570),U=s(8240),B=s(2025),R=s(4554),A=s(2652),E=s(4379),J=s(4027),Y=s(5096),G=s(6778),X=s(151),ee=s(5589),te=s(5869),se=s(3944),ae=s(5990),le=s(6115),ie=s(677),oe=s(7518),re=s.n(oe);const ce=(0,$.Z)(V,[["render",Q],["__scopeId","data-v-1a4fa7f6"]]),ne=ce;re()(V,"components",{QLayout:L.Z,QHeader:j.Z,QToolbar:K.Z,QBtn:U.Z,QSpace:B.Z,QIcon:R.Z,QPageContainer:A.Z,QPage:E.Z,QImg:J.Z,QAvatar:Y.Z,QDialog:G.Z,QCard:X.Z,QCardSection:ee.Z,QSeparator:te.Z,QPopupProxy:se.Z,QTime:ae.Z,QField:le.Z}),re()(V,"directives",{ClosePopup:ie.Z})}}]);