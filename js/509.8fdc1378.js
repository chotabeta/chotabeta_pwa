"use strict";(self["webpackChunkpwa_wibsite"]=self["webpackChunkpwa_wibsite"]||[]).push([[509],{1509:(e,t,a)=>{a.r(t),a.d(t,{default:()=>L});var l=a(3673),s=a(2323);const o=(0,l._)("div",{id:"loader2",class:"pre-loader",style:{display:"none"}},null,-1),n={class:"row q-pt-md q-px-sm text-grey-8"},i={key:0,class:"col-8"},r={class:"text-weight-bolder"},d=(0,l._)("br",null,null,-1),c={class:"cb-font-12"},u=(0,l._)("br",null,null,-1),p={class:"text-weight-bolder cb-font-16"},m=(0,l._)("span",{class:"q-px-xs"},"|",-1),_=(0,l._)("br",null,null,-1),g={class:"col-4 text-right"},b=["src"],w={class:"q-my-md"},h={class:"bg-orange-3 row items-center full-width cb-round-borders-10 q-px-lg q-py-xs q-my-sm text-grey-8"},k={class:"cb-font-16 text-weight-bolder"},f={class:"row items-center justify-end"},y=(0,l._)("p",{class:"text-blue-8 text-weight-bolder cb-font-16"},"Select From & To Dates",-1),v={class:"row"},x={class:"col text-center"},q={class:"col text-center"};function W(e,t,a,W,Z,Q){const H=(0,l.up)("q-btn"),$=(0,l.up)("q-toolbar"),V=(0,l.up)("q-header"),P=(0,l.up)("q-icon"),C=(0,l.up)("q-avatar"),D=(0,l.up)("q-select"),M=(0,l.up)("q-space"),S=(0,l.up)("q-time"),B=(0,l.up)("q-popup-proxy"),T=(0,l.up)("q-date"),z=(0,l.up)("q-card-section"),U=(0,l.up)("q-card"),A=(0,l.up)("q-page"),I=(0,l.up)("q-page-container"),j=(0,l.up)("q-layout"),E=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.j4)(j,{view:"lHh lpr lFf"},{default:(0,l.w5)((()=>[(0,l.Wm)(V,{class:"bg-orange-8"},{default:(0,l.w5)((()=>[(0,l.Wm)($,null,{default:(0,l.w5)((()=>[(0,l.Wm)(H,{flat:"",icon:"arrow_back_ios"})])),_:1})])),_:1}),(0,l.Wm)(I,{class:"bg-orange-8"},{default:(0,l.w5)((()=>[o,(0,l.Wm)(A,{style:{"border-radius":"30px 30px 0px 0px","box-shadow":"0px -0px 3px 0px grey"},class:"q-pt-sm q-px-md bg-orange-1"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(W.item_details,((e,t)=>((0,l.wg)(),(0,l.iD)("div",n,[0==t?((0,l.wg)(),(0,l.iD)("div",i,[(0,l._)("span",r,(0,s.zw)(e.name),1),d,(0,l._)("span",c,(0,s.zw)(e.info),1),u,(0,l._)("span",p,[(0,l.Wm)(P,{name:"currency_rupee"}),(0,l.Uk)((0,s.zw)(e.selling_price)+" ",1),m,(0,l.Uk)(" serve - "+(0,s.zw)(e.serving),1)]),_])):(0,l.kq)("",!0),(0,l._)("div",g,[(0,l.Wm)(C,{size:"90px",square:"",class:"cb-round-borders-10"},{default:(0,l.w5)((()=>[(0,l._)("img",{src:e.image,class:"cb-round-borders-10"},null,8,b)])),_:2},1024)])])))),256)),(0,l._)("div",w,[(0,l.Wm)(D,{options:W.meal_plan,"option-label":"name",label:"Meal Plan",modelValue:W.plan,"onUpdate:modelValue":t[0]||(t[0]=e=>W.plan=e),borderless:"",dense:"",class:"bg-orange-3 cb-round-borders-10 q-px-lg q-my-sm text-weight-bolder",color:"grey-6"},null,8,["options","modelValue"]),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(W.item_details,((e,a)=>((0,l.wg)(),(0,l.iD)("div",null,[0==a?((0,l.wg)(),(0,l.j4)(D,{key:0,options:e.serving_times,"option-label":"label",label:"Available Slot",modelValue:W.slot,"onUpdate:modelValue":t[1]||(t[1]=e=>W.slot=e),borderless:"",dense:"",class:"bg-orange-3 cb-round-borders-10 q-px-lg q-my-sm text-weight-bolder",onInput:t[2]||(t[2]=e=>Q.settiming(W.slot))},null,8,["options","modelValue"])):(0,l.kq)("",!0)])))),256)),(0,l._)("div",h,[(0,l._)("span",k,(0,s.zw)(W.slot_time),1),(0,l.Wm)(M),(0,l.Wm)(H,{flat:"",round:"",icon:"refresh",class:"bg-white",dense:""}),(0,l.Wm)(B,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,l.w5)((()=>[(0,l.Wm)(S,{modelValue:W.slot_time,"onUpdate:modelValue":t[3]||(t[3]=e=>W.slot_time=e)},{default:(0,l.w5)((()=>[(0,l._)("div",f,[(0,l.wy)((0,l.Wm)(H,{label:"Close",color:"primary",flat:""},null,512),[[E]])])])),_:1},8,["modelValue"])])),_:1})])]),y,(0,l.Wm)(U,{class:"cb-round-borders-20"},{default:(0,l.w5)((()=>[(0,l.Wm)(z,null,{default:(0,l.w5)((()=>[(0,l.Wm)(T,{name:"wedding",events:W.events,modelValue:W.date,"onUpdate:modelValue":t[4]||(t[4]=e=>W.date=e),class:"full-width shadow-0",color:"orange-5"},null,8,["events","modelValue"]),(0,l._)("div",v,[(0,l._)("div",x,[(0,l.Wm)(H,{label:"remove",outline:"",color:"red","icon-right":"delete",class:"cb-round-borders-10",onClick:t[5]||(t[5]=e=>Q.backto_restuarent())})]),(0,l._)("div",q,[(0,l.Wm)(H,{label:"Confirm",color:"blue","icon-right":"arrow_right",class:"cb-round-borders-10",onClick:t[6]||(t[6]=e=>Q.confirm_to_checkout())})])])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}a(2100),a(1768);var Z=a(1959);const Q={setup(){return{access_token:(0,Z.iH)(null),xid:(0,Z.iH)(null),item_details:(0,Z.iH)([]),meal_plan:(0,Z.iH)([]),plan:(0,Z.iH)(null),slot:(0,Z.iH)(null),slot_time:(0,Z.iH)(null),availabletime:(0,Z.iH)(null),events:["2019/02/01","2019/02/05","2019/02/06","2019/02/09","2019/02/23"],date:(0,Z.iH)(null)}},mounted(){new Date;this.getToken(),this.getsubscription()},methods:{loaddata(){var e=this;e.item_details=[{id:1,name:"Breakfast Meal Box",info:"Enjoy 2 - 3 different types  of breakfast dishes everyday",weight_description:"1 Box",pure_veg:1,sku:"HK01B023",mrp:100,selling_price:100,client_id:1,serving:"1",cuisine_name:"South Indian",image:"https://stackroger.com/public/uploads/food/items/1/2x/HK01B023.png",category_id:1,sub_category_id:0,serving_times:[{name:"Breakfast",start:"08:00",end:"11:00"}]}],e.meal_plan=[{id:1,plan:"one_day",weekend:"yes",name:"One Day"},{id:2,plan:"week ",weekend:"yes",name:"Week With Weekend"},{id:3,plan:"week",weekend:"no",name:"Week Without Weekend"},{id:4,plan:"month ",weekend:"yes",name:"Month With Weekends"},{id:5,plan:"month",weekend:"no",name:"Month Without Weekends"}],e.settime_24_to_12()},getToken(){var e=this;e.$store.state.token?e.access_token=e.$store.state.token:e.access_token=e.$store.state.token_cb,e.$store.state.xid?e.xid=e.$store.state.xid:e.xid=e.$store.state.xid_cb,null!=e.access_token&&e.access_token||e.$router.push("/")},getsubscription(){var e=this;let t=new FormData;t.append("sku",e.$route.query.sku);var a=document.getElementById("loader2");a.style.display="block";let l={headers:{Authorization:`Bearer ${e.access_token}`}};e.$api.post("/api/get-subscribed-item",t,l).then((function(t){a.style.display="none",200==t.data.status_code?(e.item_details=t.data.item_details,e.meal_plan=t.data.meal_plan):e.$q.notify({message:t.data.message,type:"negative"})})).catch((function(e){console.log(e)}))},settiming(e){alert("hai"),console.log(e,"slot")},settime_24_to_12(){var e=this;e.item_details.forEach((t=>{t.serving_times.forEach((t=>{e.slot_time=t.start;var a=t.start.slice(0,2);t.start_time=a>=12?a-12+":00 PM":a+":00 AM";var l=t.end.slice(0,2);t.end_time=l>=12?l-12+":00 PM":l+":00 AM",t.label=t.name+"("+t.start_time+"-"+t.end_time+")"}))}))},backto_restuarent(){var e=this,t=e.item_details[0].client_id;e.$router.push("food-restarent?rest_id="+t)},confirm_to_checkout(){var e=this;if(!e.plan)return e.$q.notify({message:"Please Select The Meal Plan",type:"warning",icon:"error_outline"}),!1;if(!e.slot)return e.$q.notify({message:"Please Select The Meal Timing",type:"warning",icon:"error_outline"}),!1;var t={plan:e.plan.plan,weekend:e.plan.weekend,pick_date:e.date,schedule_time:e.slot_time,item:{id:e.item_details[0].id,qty:1}};localStorage.setItem("subscription_data",JSON.stringify(t)),e.$router.push("food-checkout?subscription=1&plan=")}}};var H=a(4260),$=a(3066),V=a(3812),P=a(9570),C=a(8240),D=a(2652),M=a(4379),S=a(4554),B=a(5096),T=a(4224),z=a(2025),U=a(3944),A=a(5990),I=a(151),j=a(5589),E=a(5626),F=a(6115),K=a(677),O=a(7518),Y=a.n(O);const J=(0,H.Z)(Q,[["render",W]]),L=J;Y()(Q,"components",{QLayout:$.Z,QHeader:V.Z,QToolbar:P.Z,QBtn:C.Z,QPageContainer:D.Z,QPage:M.Z,QIcon:S.Z,QAvatar:B.Z,QSelect:T.Z,QSpace:z.Z,QPopupProxy:U.Z,QTime:A.Z,QCard:I.Z,QCardSection:j.Z,QDate:E.Z,QField:F.Z}),Y()(Q,"directives",{ClosePopup:K.Z})}}]);