"use strict";(self["webpackChunkpwa_wibsite"]=self["webpackChunkpwa_wibsite"]||[]).push([[68],{2068:(e,a,t)=>{t.r(a),t.d(a,{default:()=>se});var o=t(3673),r=t(2323);const l=(0,o.Uk)("0"),s=(0,o._)("div",{class:"text-center cb-bg-white-2 text-weight-bolder cb-font-16 q-pb-xs cb-text-orange-8"},"Summary",-1),n={class:"row"},d={class:"col-12 q-py-sm text-weight-bolder"},p=(0,o._)("span",{class:"q-px-sm text-weight-bolder"},"Pick location",-1),i={class:"cb-font-10"},c={class:"col-11 cb-font-12",style:{"word-wrap":"break-word"}},_=(0,o._)("br",null,null,-1),u={class:"cb-text-blue-8 text-bold"},m=(0,o._)("br",null,null,-1),g=(0,o._)("div",{class:"row items-center justify-center"},[(0,o._)("span",{class:"text-bold"},"How Long Will You Use (hrs)?")],-1),y={class:"row items-center justify-center flex q-py-md"},h={class:"q-px-md text-bold"},k=(0,o._)("br",null,null,-1),f=(0,o._)("span",null,"Final bill may vary based on number of hours spent by-the ChotaBeta",-1),b={class:"flex q-pt-xs"},v=(0,o.Uk)(" Usage hours"),w={class:"flex q-pt-xs"},x=(0,o.Uk)("Service Charge"),S={class:"flex q-pt-xs"},W=(0,o.Uk)("Tax & Fees"),q={class:"flex q-pt-xs text-weight-bolder"},H=(0,o.Uk)("Total"),O={class:"flex q-py-md"},$={class:"cb-shadow-1 cb-round-borders-10 bg-white q-px-sm",style:{width:"75%"}},C=(0,o._)("img",{src:"https://chotabeta.app/dev/testenv/public/imgs/discount_1.png"},null,-1),U=(0,o._)("span",null,"Payment Method",-1),N={class:"row justify-center"},D={class:"text-h5 q-py-sm"},I=(0,o._)("div",null,"You can track the delivery in the Orders section",-1),Z=(0,o._)("br",null,null,-1);function z(e,a,t,z,J,V){const Q=(0,o.up)("q-btn"),P=(0,o.up)("q-space"),T=(0,o.up)("q-badge"),Y=(0,o.up)("q-toolbar"),F=(0,o.up)("q-header"),M=(0,o.up)("q-icon"),B=(0,o.up)("q-card-section"),A=(0,o.up)("q-card"),j=(0,o.up)("q-avatar"),E=(0,o.up)("q-input"),L=(0,o.up)("q-option-group"),G=(0,o.up)("q-date"),R=(0,o.up)("q-card-actions"),K=(0,o.up)("q-dialog"),X=(0,o.up)("q-page"),ee=(0,o.up)("q-page-container"),ae=(0,o.up)("q-layout");return(0,o.wg)(),(0,o.j4)(ae,{view:"lHh lpr lFf"},{default:(0,o.w5)((()=>[(0,o.Wm)(F,null,{default:(0,o.w5)((()=>[(0,o.Wm)(Y,{class:"cb-bg-white-2 cb-text-blue-8"},{default:(0,o.w5)((()=>[(0,o.Wm)(Q,{icon:"place",size:"md",class:"q-pa-none q-ml-md",borderless:"",flat:"",label:e.$store.state.showaddress},null,8,["label"]),(0,o.Wm)(P),(0,o.Wm)(Q,{dense:"",icon:"notifications",flat:"",onClick:a[0]||(a[0]=a=>e.$router.push("Notification"))},{default:(0,o.w5)((()=>[(0,o.Wm)(T,{color:"red",rounded:"",floating:"",style:{"margin-top":"8px","margin-right":"8px"}})])),_:1}),(0,o.Wm)(Q,{round:"",dense:"",icon:"shopping_cart",flat:""},{default:(0,o.w5)((()=>[(0,o.Wm)(T,{class:"cb-bg-orange-8",rounded:"",floating:""},{default:(0,o.w5)((()=>[l])),_:1})])),_:1})])),_:1}),s])),_:1}),(0,o.Wm)(ee,null,{default:(0,o.w5)((()=>[(0,o.Wm)(X,{class:"q-px-md q-py-sm"},{default:(0,o.w5)((()=>[(0,o.Wm)(A,{class:"cb-round-borders-10 cb-shadow-2"},{default:(0,o.w5)((()=>[(0,o.Wm)(B,{class:"text-grey-8"},{default:(0,o.w5)((()=>[(0,o._)("div",n,[(0,o._)("div",d,[(0,o.Wm)(M,{name:"location_on",class:"cb-text-orange-8",size:"sm"}),p,(0,o.Wm)(M,{name:"edit",size:"xs",onClick:a[1]||(a[1]=a=>e.$router.push("Search_location?address=r1"))}),(0,o.Wm)(M,{name:"calendar_today",size:"xs",class:"cb-text-orange-8 q-px-sm"}),(0,o._)("span",i,(0,r.zw)(z.pick_date),1)]),(0,o._)("div",c,[(0,o.Uk)((0,r.zw)(z.pickuplocation_array.name),1),_,(0,o._)("span",u,(0,r.zw)(z.user_data.name)+"-"+(0,r.zw)(z.user_data.mobile),1)])])])),_:1})])),_:1}),m,g,(0,o._)("div",y,[(0,o.Wm)(P),(0,o.Wm)(P),(0,o.Wm)(Q,{icon:"remove",round:"",color:"orange",dense:"",onClick:a[2]||(a[2]=e=>V.hr_incr(1))}),(0,o._)("span",h,(0,r.zw)(z.rm_usage_hrs),1),(0,o.Wm)(Q,{icon:"add",round:"",color:"orange",dense:"",onClick:a[3]||(a[3]=e=>V.hr_incr(2))}),(0,o.Wm)(P),(0,o.Wm)(Q,{icon:"add",rounded:"",color:"orange",label:"task",dense:"",onClick:a[4]||(a[4]=a=>e.$router.push("rent_me2"))})]),k,(0,o.Wm)(A,{style:{border:"1px solid grey"},class:"cb-round-borders-10 cb-shadow-1"},{default:(0,o.w5)((()=>[(0,o.Wm)(B,{class:"cb-text-orange-8 q-pa-sm cb-font-16 text-center"},{default:(0,o.w5)((()=>[f])),_:1}),(0,o.Wm)(B,{class:"cb-font-16 text-grey-9"},{default:(0,o.w5)((()=>[(0,o._)("div",b,[v,(0,o.Wm)(P),(0,o.Uk)((0,r.zw)(z.rm_usage_hrs),1)]),(0,o._)("div",w,[x,(0,o.Wm)(P),(0,o.Uk)((0,r.zw)(z.rm_service_charges),1)]),(0,o._)("div",S,[W,(0,o.Wm)(P),(0,o.Uk)((0,r.zw)(z.rm_taxes),1)]),(0,o._)("div",q,[H,(0,o.Wm)(P),(0,o.Uk)((0,r.zw)(z.rm_grand_total),1)])])),_:1})])),_:1}),(0,o._)("div",O,[(0,o._)("div",$,[(0,o.Wm)(E,{dense:"",placeholder:"ENTER COUPON CODE",borderless:"",onClick:a[5]||(a[5]=e=>V.screenredirection())},{prepend:(0,o.w5)((()=>[(0,o.Wm)(j,null,{default:(0,o.w5)((()=>[C])),_:1})])),_:1})]),(0,o.Wm)(Q,{label:"apply",class:"cb-bg-orange-8 text-white q-ml-sm",style:{width:"22%"}})]),(0,o.Wm)(A,{class:"cb-round-borders-10 q-my-md cb-shadow-2"},{default:(0,o.w5)((()=>[(0,o.Wm)(B,{class:"cb-bg-grey-2 cb-text-blue-8 text-weight-bolder cb-font-16 q-pa-sm"},{default:(0,o.w5)((()=>[U])),_:1}),(0,o.Wm)(B,{class:"cb-font-16 q-pa-sm"},{default:(0,o.w5)((()=>[(0,o.Wm)(L,{options:z.options,modelValue:z.payment,"onUpdate:modelValue":a[6]||(a[6]=e=>z.payment=e),color:"orange",class:"full-width"},null,8,["options","modelValue"])])),_:1})])),_:1}),(0,o._)("div",N,[(0,o.Wm)(Q,{label:"Pay now",class:"cb-bg-orange-8 text-white q-px-xl",onClick:a[7]||(a[7]=e=>V.rm_pay_now())})]),(0,o.Wm)(K,{modelValue:z.calander_dailog,"onUpdate:modelValue":a[10]||(a[10]=e=>z.calander_dailog=e)},{default:(0,o.w5)((()=>[(0,o.Wm)(A,{class:"q-dialog-plugin"},{default:(0,o.w5)((()=>[(0,o.Wm)(G,{modelValue:z.model,"onUpdate:modelValue":a[8]||(a[8]=e=>z.model=e),mask:"YYYY-MM-DD HH:mm",color:"orange",class:"fit"},null,8,["modelValue"]),(0,o.Wm)(R,{align:"right"},{default:(0,o.w5)((()=>[(0,o.Wm)(Q,{flat:"",label:"cancel",onClick:a[9]||(a[9]=e=>z.calander_dailog=!1)}),(0,o.Wm)(Q,{flat:"",label:"Ok"})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o.Wm)(K,{modelValue:z.calander_dailog_picktime,"onUpdate:modelValue":a[13]||(a[13]=e=>z.calander_dailog_picktime=e)},{default:(0,o.w5)((()=>[(0,o.Wm)(A,{class:"q-dialog-plugin"},{default:(0,o.w5)((()=>[(0,o.Wm)(G,{modelValue:z.model,"onUpdate:modelValue":a[11]||(a[11]=e=>z.model=e),mask:"YYYY-MM-DD HH:mm",color:"orasnge",class:"fit"},null,8,["modelValue"]),(0,o.Wm)(R,{align:"right"},{default:(0,o.w5)((()=>[(0,o.Wm)(Q,{flat:"",label:"cancel",onClick:a[12]||(a[12]=e=>z.calander_dailog=!1)}),(0,o.Wm)(Q,{flat:"",label:"Ok"})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o.Wm)(K,{modelValue:z.order_success_dailog,"onUpdate:modelValue":a[16]||(a[16]=e=>z.order_success_dailog=e),persistent:""},{default:(0,o.w5)((()=>[(0,o.Wm)(A,{class:"cb-round-borders-10"},{default:(0,o.w5)((()=>[(0,o.Wm)(B,{class:"text-center q-pa-lg"},{default:(0,o.w5)((()=>[(0,o.Wm)(j,{size:"70px","font-size":"70px",icon:"check_circle",class:"text-white bg-orange"}),(0,o._)("div",D,[(0,o._)("b",null,(0,r.zw)(z.order.message),1)]),I,(0,o.Wm)(Q,{label:"continue shopping",color:"orange",onClick:a[14]||(a[14]=a=>e.$router.push("/home/dashboard")),class:"q-my-sm cb-round-borders-10"}),Z,(0,o.Wm)(Q,{label:"go to orders",onClick:a[15]||(a[15]=a=>e.$router.push("/home/orders")),flat:"",class:"text-grey-7"})])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1})}t(1768);var J=t(1959);const V={setup(){return{access_token:(0,J.iH)(null),toggle:(0,J.iH)(!1),calander_dailog:(0,J.iH)(!1),model:(0,J.iH)(null),pickuplocation_array:(0,J.iH)([]),delivery_address_array:(0,J.iH)([]),pickanddrop_fare_data:(0,J.iH)([]),pick_date:(0,J.iH)(null),pick_time:(0,J.iH)(null),calander_dailog_picktime:(0,J.iH)(!1),user_data:(0,J.iH)([]),options:[{label:"Pay Now Online",value:"PO",icon:"restaurant_menu"},{label:"Pay Now On Delivery",value:"POD"}],payment:(0,J.iH)("POD"),category:(0,J.iH)([]),service:(0,J.iH)([]),pick_territory_id:(0,J.iH)(null),order_success_dailog:(0,J.iH)(!1),order:(0,J.iH)([]),delivery_territory_id:(0,J.iH)(null),rm_grand_total:(0,J.iH)(null),rm_service_charges:(0,J.iH)(null),rm_taxes:(0,J.iH)(null),rm_usage_hrs:(0,J.iH)(1),order_success_dailog:(0,J.iH)(!1)}},mounted(){this.getToken(),this.location_address(),this.pickdate_selection(),this.rent_me_summery_data()},methods:{getToken(){var e=this;e.access_token=e.$store.state.token,null==e.access_token&&e.$router.push("")},Subscription_function(){var e=this;1==e.toggle&&(e.calander_dailog=!0)},location_address(){var e=this;let a={headers:{Authorization:`Bearer ${e.access_token}`}};e.pickuplocation_array=JSON.parse(localStorage.getItem("rentment_address")),e.category=JSON.parse(localStorage.getItem("category")),e.service=JSON.parse(localStorage.getItem("service"));var t=JSON.parse(e.$store.state.userdetails);console.log(t),e.user_data=t.deatils,console.log(e.pickuplocation_array,"pickuplocation_array");const o=new Date;let r=new FormData;r.append("coupon",null),r.append("pick_time",o.getUTCHours()+":"+o.getUTCMinutes()+":"+o.getUTCSeconds()),r.append("weight",null),r.append("pick_date",o.getFullYear()+"-"+e.addZero(o.getDay())+"-"+e.addZero(o.getUTCDate())),r.append("schedule_timestamp",null),r.append("wseek_end",null),r.append("plan",null),e.$api.post("/api/fare-pickdrop",r,a).then((function(a){e.pickanddrop_fare_data=a.data})).catch((function(e){console.log(e)}))},addZero(e){return e<10&&(e="0"+e),e},pickdate_selection(){var e=this,a=new Date;e.pick_date=a.getFullYear()+"-"+e.addZero(a.getDay())+"-"+e.addZero(a.getUTCDate()),e.pick_time=a.getUTCHours()+":"+a.getUTCMinutes()+":"+a.getUTCSeconds()},screenredirection(){var e=this;e.$router.push("Coupons?service_id="+e.service.id)},placeorder(){var e=this;if(!e.payment)return e.$q.notify({message:"Please Select Payment Method",type:"negative"}),!1;let a=new FormData;a.append("base_pincode",0),a.append("xid",e.$store.state.xid),a.append("category_id",e.category.id),a.append("service_id",e.category.main_service_id),a.append("plan",null),a.append("transaction_id",null),a.append("payment_mode",e.payment),a.append("coupon","none"),a.append("payment_status","pending"),a.append("schedule_timestamp",new Date),a.append("weight",null),a.append("item_name",e.category.name),a.append("instruction",null),a.append("week_end",null),a.append("pick_flat",e.pickuplocation_array.flat_no),a.append("from_lat_lng",e.pickuplocation_array.location),a.append("pick_date",e.pick_date),a.append("from_location",e.pickuplocation_array.name),a.append("pick_phone",e.user_data.mobile),a.append("pick_name",e.user_data.name),a.append("pick_time",e.pick_time),a.append("to_location",e.delivery_address_array.name),a.append("drop_flat",e.delivery_address_arrayflat_no),a.append("drop_phone",e.user_data.mobile),a.append("to_lat_lng",e.delivery_address_array.location),a.append("drop_name",e.user_data.name);let t={headers:{Authorization:`Bearer ${e.access_token}`}};e.$api.post("/api/pay-pickdrop",a,t).then((function(a){204==a.data.status_code?e.$q.notify({message:a.data.message}):200==a.data.status_code&&(localStorage.removeItem("pickup_address"),localStorage.removeItem("delivery_address"),localStorage.removeItem("category"),localStorage.removeItem("service"),e.order=a.data,e.order_success_dailog=!0)})).catch((function(e){console.log(e)}))},rent_me_summery_data(){var e=this;e.pickuplocation_array=JSON.parse(localStorage.getItem("pickup_address")),e.delivery_address_array=JSON.parse(localStorage.getItem("delivery_address")),e.category=JSON.parse(localStorage.getItem("category")),e.service=JSON.parse(localStorage.getItem("service"));var a=JSON.parse(e.$store.state.userdetails);console.log(a),e.user_data=a.deatils;let t=new FormData;t.append("hours",1),t.append("trip_type",0),t.append("to_location",e.pickuplocation_array.location),t.append("category_id",11),t.append("coupon",null),t.append("service_id",11),t.append("drop_territory_id",null),t.append("from_location",e.pickuplocation_array.location),t.append("pick_territory_id",229),t.append("vehicle",0);let o={headers:{Authorization:`Bearer ${e.access_token}`}};e.$api.post("/api/conf-terms-one",t,o).then((function(a){204==a.data.status_code?e.$q.notify({message:a.data.message}):200==a.data.status_code&&(e.rm_grand_total=a.data.grand_total,e.rm_service_charges=a.data.delivery_fee,e.rm_taxes=a.data.gst)})).catch((function(e){}))},hr_incr(e){var a=this;if(1==e){if(a.rm_usage_hrs>1){a.rm_usage_hrs=a.rm_usage_hrs-1,a.pickuplocation_array=JSON.parse(localStorage.getItem("pickup_address")),a.delivery_address_array=JSON.parse(localStorage.getItem("delivery_address")),a.category=JSON.parse(localStorage.getItem("category")),a.service=JSON.parse(localStorage.getItem("service"));var t=JSON.parse(a.$store.state.userdetails);console.log(t),a.user_data=t.deatils;let e=new FormData;e.append("hours",a.rm_usage_hrs),e.append("trip_type",0),e.append("to_location",a.pickuplocation_array.location),e.append("category_id",11),e.append("coupon",null),e.append("service_id",11),e.append("drop_territory_id",null),e.append("from_location",a.pickuplocation_array.location),e.append("pick_territory_id",229),e.append("vehicle",0);let o={headers:{Authorization:`Bearer ${a.access_token}`}};a.$api.post("/api/conf-terms-one",e,o).then((function(e){204==e.data.status_code?a.$q.notify({message:e.data.message}):200==e.data.status_code&&(a.rm_grand_total=e.data.grand_total,a.rm_service_charges=e.data.delivery_fee,a.rm_taxes=e.data.gst)})).catch((function(e){console.log(e)}))}}else if(2==e&&a.rm_usage_hrs<8){a.rm_usage_hrs=a.rm_usage_hrs+1,a.pickuplocation_array=JSON.parse(localStorage.getItem("pickup_address")),a.delivery_address_array=JSON.parse(localStorage.getItem("delivery_address")),a.category=JSON.parse(localStorage.getItem("category")),a.service=JSON.parse(localStorage.getItem("service"));t=JSON.parse(a.$store.state.userdetails);console.log(t),a.user_data=t.deatils;let e=new FormData;e.append("hours",a.rm_usage_hrs),e.append("trip_type",0),e.append("to_location",a.pickuplocation_array.location),e.append("category_id",11),e.append("coupon",null),e.append("service_id",11),e.append("drop_territory_id",null),e.append("from_location",a.pickuplocation_array.location),e.append("pick_territory_id",229),e.append("vehicle",0);let o={headers:{Authorization:`Bearer ${a.access_token}`}};a.$api.post("/api/conf-terms-one",e,o).then((function(e){204==e.data.status_code?a.$q.notify({message:e.data.message}):200==e.data.status_code&&(a.rm_grand_total=e.data.grand_total,a.rm_service_charges=e.data.delivery_fee,a.rm_taxes=e.data.gst)})).catch((function(e){console.log(e)}))}},rm_pay_now(){var e=this;if(!e.payment)return e.$q.notify({message:"Please Select Payment Method",type:"negative"}),!1;var a=Math.random().toString(36).substring(2,4).toUpperCase(),t=new Date,o=t.getFullYear()+""+(t.getMonth()+1)+t.getDate()+a+t.getHours()+t.getMinutes()+t.getSeconds(),r=JSON.parse(e.$store.state.userdetails);e.user_data=r.deatils,e.pickuplocation_array=JSON.parse(localStorage.getItem("pickup_address")),e.task_details=localStorage.getItem("tasks"),console.log(e.task_details);let l=new FormData;l.append("vehicle_type",""),l.append("drop_phone",e.user_data.mobile),l.append("to_location",e.pickuplocation_array.name),l.append("pick_time",""),l.append("car_type","Automatic"),l.append("tat_time","1"),l.append("schedule_time",""),l.append("drop_name",e.user_data.name),l.append("transaction_id",o),l.append("plan",""),l.append("pick_phone",e.user_data.mobile),l.append("car_model","Bike"),l.append("user_instructions",""),l.append("category_id","47"),l.append("pick_date",""),l.append("vehicle",""),l.append("to_lat_lng",e.pickuplocation_array.location),l.append("tasks",e.task_details),l.append("week_end",""),l.append("coupon",""),l.append("hours",e.rm_usage_hrs),l.append("trip_type","0"),l.append("payment_mode",e.payment),l.append("pick_territory_id",""),l.append("from_location",e.pickuplocation_array.name),l.append("payment_status","pending"),l.append("subscription_option",""),l.append("territory_id","1"),l.append("pick_name",e.user_data.name),l.append("service_id","11"),l.append("drop_territory_id",""),l.append("from_lat_lng",e.pickuplocation_array.location);let s={headers:{Authorization:`Bearer ${e.access_token}`}};e.$api.post("/api/confirm-drive-trip",l,s).then((function(a){200==a.data.status_code&&(e.order_success_dailog=!0,localStorage.removeItem("tasks_temp"),localStorage.removeItem("tasks"))})).catch((function(e){console.log(e)}))}}};var Q=t(4260),P=t(3066),T=t(3812),Y=t(9570),F=t(8240),M=t(2025),B=t(9721),A=t(2652),j=t(4379),E=t(151),L=t(5589),G=t(4554),R=t(4842),K=t(5096),X=t(5682),ee=t(6778),ae=t(5626),te=t(9367),oe=t(7518),re=t.n(oe);const le=(0,Q.Z)(V,[["render",z]]),se=le;re()(V,"components",{QLayout:P.Z,QHeader:T.Z,QToolbar:Y.Z,QBtn:F.Z,QSpace:M.Z,QBadge:B.Z,QPageContainer:A.Z,QPage:j.Z,QCard:E.Z,QCardSection:L.Z,QIcon:G.Z,QInput:R.Z,QAvatar:K.Z,QOptionGroup:X.Z,QDialog:ee.Z,QDate:ae.Z,QCardActions:te.Z})}}]);