"use strict";(self["webpackChunkpwa_wibsite"]=self["webpackChunkpwa_wibsite"]||[]).push([[2408],{2408:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ce});var s=a(3673),r=a(2323);const o=(0,s.Uk)("0"),d=(0,s._)("div",{id:"loader2",class:"pre-loader",style:{display:"none"}},null,-1),i={class:"row"},l={class:"col-12 row"},n={class:"col-1 text-center"},c=(0,s._)("div",{class:"col-11 q-px-md column justify-center cb-text-blue-8 text-bold"},"Pickup Address",-1),_={class:"col-12 row"},p={class:"col-1 column items-center justify-center text-bold"},u={key:0,style:{transform:"rotate(90deg)"},class:"cb-text-orange-8"},y={key:1,style:{transform:"rotate(90deg)"},class:"text-black"},m={class:"col-11 q-px-md q-my-sm"},g={style:{width:"93%","overflow-y":"scroll",height:"50px","word-wrap":"break-word"},class:"row items-center"},k={style:{width:"7%"}},f={class:"col-12 row"},h={class:"col-1 text-center"},b=(0,s._)("div",{class:"col-11 q-px-md column justify-center cb-text-blue-8 text-bold"},"Delivery Address",-1),v={class:"col-12 row"},w={class:"col-1 column items-center justify-center text-bold"},x={key:0,style:{transform:"rotate(90deg)"},class:"cb-text-orange-8"},q={key:1,style:{transform:"rotate(90deg)"},class:"text-black"},$={class:"col-11 q-px-md q-my-sm"},S={style:{width:"93%","overflow-y":"scroll",height:"50px","word-wrap":"break-word"},class:"row items-center"},I={style:{width:"7%"}},z={class:"col-12 row"},W={class:"col-1 text-center"},C=(0,s._)("div",{class:"col-11 q-px-md column justify-center cb-text-blue-8 text-bold"},"Any Instructions",-1),Z={class:"col-12 row"},H=(0,s._)("div",{class:"col-1"},null,-1),Q={class:"col-11 q-px-md"},j={class:"cb-shadow-1 cb-round-borders-10 q-px-sm"},B={class:"row justify-center q-mt-xl q-pt-xl"},D=(0,s._)("br",null,null,-1),N=(0,s._)("br",null,null,-1),J=(0,s._)("br",null,null,-1);function O(e,t,a,O,P,A){const E=(0,s.up)("q-btn"),U=(0,s.up)("q-space"),V=(0,s.up)("q-badge"),T=(0,s.up)("q-toolbar"),F=(0,s.up)("q-header"),M=(0,s.up)("q-img"),R=(0,s.up)("q-carousel-slide"),L=(0,s.up)("q-carousel"),Y=(0,s.up)("q-icon"),K=(0,s.up)("q-input"),G=(0,s.up)("q-form"),X=(0,s.up)("q-avatar"),ee=(0,s.up)("q-card-section"),te=(0,s.up)("q-card"),ae=(0,s.up)("q-dialog"),se=(0,s.up)("q-page"),re=(0,s.up)("q-page-container"),oe=(0,s.up)("q-layout");return(0,s.wg)(),(0,s.j4)(oe,{view:"lHh lpr lFf"},{default:(0,s.w5)((()=>[(0,s.Wm)(F,null,{default:(0,s.w5)((()=>[(0,s.Wm)(T,{class:"cb-bg-white-2 cb-text-blue-8"},{default:(0,s.w5)((()=>[(0,s.Wm)(E,{flat:"",dense:"",round:"",icon:"arrow_back",onClick:t[0]||(t[0]=e=>A.Screen_Back_Redirection())}),(0,s.Wm)(E,{icon:"place",class:"q-pa-none cb-font-12",borderless:"",flat:"",label:e.$store.state.showaddress},null,8,["label"]),(0,s.Wm)(U),(0,s.Wm)(E,{round:"",dense:"",icon:"notifications",flat:"",onClick:t[1]||(t[1]=t=>e.$router.push("/home/Notification"))},{default:(0,s.w5)((()=>[(0,s.Wm)(V,{color:"red",rounded:"",floating:"",style:{"margin-top":"8px","margin-right":"8px"}})])),_:1}),(0,s.Wm)(E,{round:"",dense:"",icon:"shopping_cart",flat:""},{default:(0,s.w5)((()=>[(0,s.Wm)(V,{class:"cb-bg-orange-8",rounded:"",floating:""},{default:(0,s.w5)((()=>[o])),_:1})])),_:1})])),_:1})])),_:1}),(0,s.Wm)(re,{class:"animate__animated animate__slideInRight"},{default:(0,s.w5)((()=>[(0,s.Wm)(se,{class:"q-pb-sm q-px-sm"},{default:(0,s.w5)((()=>[d,(0,s.Wm)(L,{modelValue:O.carousels,"onUpdate:modelValue":t[2]||(t[2]=e=>O.carousels=e),swipeable:"",style:{height:"164px"},class:"cb-shadow-1 q-my-md cb-round-borders-10",navigation:"",animated:"",infinite:"","control-color":"primary"},{"navigation-icon":(0,s.w5)((({active:e,btnProps:t,onClick:a})=>[e?((0,s.wg)(),(0,s.j4)(E,{key:0,size:"xs",icon:t.icon,color:"red-7",flat:"",round:"",dense:"",onClick:a},null,8,["icon","onClick"])):((0,s.wg)(),(0,s.j4)(E,{key:1,icon:t.icon,color:"grey-5",class:"q-px-none",size:"xs",flat:"",round:"",dense:"",onClick:a},null,8,["icon","onClick"]))])),default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(O.sliders,((e,t)=>((0,s.wg)(),(0,s.j4)(R,{name:t,class:"column no-wrap q-pa-none",key:e},{default:(0,s.w5)((()=>[(0,s.Wm)(M,{class:"rounded-borders",src:e.link},null,8,["src"])])),_:2},1032,["name"])))),128))])),_:1},8,["modelValue"]),(0,s.Wm)(G,{class:"full-height",onSubmit:A.onsubmit},{default:(0,s.w5)((()=>[(0,s._)("div",i,[(0,s._)("div",l,[(0,s._)("div",n,[O.picked_address?((0,s.wg)(),(0,s.j4)(Y,{key:0,name:"radio_button_checked",size:"sm",color:"orange"})):((0,s.wg)(),(0,s.j4)(Y,{key:1,name:"radio_button_unchecked",size:"sm",color:"grey"}))]),c]),(0,s._)("div",_,[(0,s._)("div",p,[O.picked_address?((0,s.wg)(),(0,s.iD)("span",u,".........")):((0,s.wg)(),(0,s.iD)("span",y,"........."))]),(0,s._)("div",m,[(0,s._)("div",{class:"cb-shadow-1 q-pa-sm row items-center cb-round-borders-10 cb-font-12",onClick:t[3]||(t[3]=t=>e.$router.push("Search_location?address=1"))},[(0,s._)("div",g,(0,r.zw)(O.picked_address),1),(0,s._)("div",k,[(0,s.Wm)(Y,{name:"search",class:"text-right text-bold cb-text-orange-8",size:"sm"})])])])]),(0,s._)("div",f,[(0,s._)("div",h,[O.delivery_address?((0,s.wg)(),(0,s.j4)(Y,{key:0,name:"radio_button_checked",size:"sm",color:"orange"})):((0,s.wg)(),(0,s.j4)(Y,{key:1,name:"radio_button_unchecked",size:"sm",color:"grey"}))]),b]),(0,s._)("div",v,[(0,s._)("div",w,[O.delivery_address?((0,s.wg)(),(0,s.iD)("span",x,".........")):((0,s.wg)(),(0,s.iD)("span",q,"........."))]),(0,s._)("div",$,[(0,s._)("div",{class:"cb-shadow-1 q-pa-sm row items-center cb-round-borders-10 cb-font-12",onClick:t[4]||(t[4]=t=>e.$router.push("Search_location?address=2"))},[(0,s._)("div",S,(0,r.zw)(O.delivery_address),1),(0,s._)("div",I,[(0,s.Wm)(Y,{name:"search",class:"text-right text-bold cb-text-orange-8",size:"sm"})])])])]),(0,s._)("div",z,[(0,s._)("div",W,[O.instructions?((0,s.wg)(),(0,s.j4)(Y,{key:0,name:"radio_button_checked",size:"sm",color:"orange"})):((0,s.wg)(),(0,s.j4)(Y,{key:1,name:"radio_button_unchecked",size:"sm",color:"grey"}))]),C]),(0,s._)("div",Z,[H,(0,s._)("div",Q,[(0,s._)("div",j,[(0,s.Wm)(K,{borderless:"",dense:"",placeholder:"E.g Please call before delivery",modelValue:O.instructions,"onUpdate:modelValue":t[5]||(t[5]=e=>O.instructions=e)},null,8,["modelValue"])])])])]),(0,s._)("div",B,[(0,s.Wm)(E,{type:"submit",class:"q-px-lg cb-bg-orange-8 text-white",label:"Confirm"})])])),_:1},8,["onSubmit"]),(0,s.Wm)(ae,{modelValue:O.territory_checkup_dialog,"onUpdate:modelValue":t[7]||(t[7]=e=>O.territory_checkup_dialog=e),persistent:""},{default:(0,s.w5)((()=>[(0,s.Wm)(te,{class:"cb-round-borders-20"},{default:(0,s.w5)((()=>[(0,s.Wm)(ee,{class:"text-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(X,{color:"red","text-color":"white",size:"60px",icon:"sentiment_dissatisfied","font-size":"60px"}),D,(0,s.Wm)(Y,{name:"location_on",size:"sm",class:"cb-text-grey-5 q-py-sm"}),(0,s.Uk)(" "+(0,r.zw)(O.territory_data.custom_text),1),N,(0,s.Uk)(" "+(0,r.zw)(O.territory_data.pick_and_drop_too_far_away),1),J,(0,s.Wm)(E,{label:"change the location",class:"text-red text-bold",flat:"",onClick:t[6]||(t[6]=e=>O.territory_checkup_dialog=!1)})])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1})}a(2100),a(1768);var P=a(1959);const A={setup(){return{access_token:(0,P.iH)(null),sliders:(0,P.iH)(null),carousels:(0,P.iH)(0),step:(0,P.iH)(1,2,3),picked_address:(0,P.iH)(null),delivery_address:(0,P.iH)(null),instructions:(0,P.iH)(null),delivery_address_array:(0,P.iH)([]),picked_address_array:(0,P.iH)([]),territory_checkup_dialog:(0,P.iH)(!1),territory_data:(0,P.iH)([]),vicinity_range:(0,P.iH)(null),category:(0,P.iH)(null),xid:(0,P.iH)(null)}},mounted(){var e=this;e.getToken(),e.mypath(),e.pickanddrop_sliders(),e.pickupaddress_select(),sessionStorage.removeItem("coupon1")},methods:{getToken(){var e=this;e.$store.state.token?e.access_token=e.$store.state.token:e.access_token=e.$store.state.token_cb,e.$store.state.xid?e.xid=e.$store.state.xid:e.xid=e.$store.state.xid_cb,null!=e.access_token&&e.access_token||e.$router.push("/")},pickanddrop_sliders(){var e=this,t=document.getElementById("loader2");t.style.display="block";let a={headers:{Authorization:`Bearer ${e.access_token}`}};e.$api.get("/api/pick-and-drop-sliders",a).then((function(a){t.style.display="none",e.sliders=a.data.sliders})).catch((function(e){console.log(e)}))},pickupaddress_select(){var e=this;let t={headers:{Authorization:`Bearer ${e.access_token}`}};if(null==e.$route.query.address){var a=document.getElementById("loader2");a.style.display="block",e.$api.get("/api/check-territory2?lat_lng="+e.$store.state.latlongs+"&pincode="+e.$store.state.pincode+"&xid="+e.xid,t).then((function(t){a.style.display="none",0==t.data.full_screen_error_status?(e.territory_data=t.data,e.picked_address_array={flat_no:null,location:e.$store.state.latlongs,location_type:null,name:e.$store.state.address,postal_code:e.$store.state.pincode,user_id:e.$store.state.xid,territory_id:t.data.zone_id},sessionStorage.setItem("pickup_address",JSON.stringify(e.picked_address_array)),e.picked_address=e.picked_address_array.name):e.territory_checkup_dialog=!0})).catch((function(e){console.log(e)}))}else if(1==e.$route.query.address){a=document.getElementById("loader2");a.style.display="block";var s=JSON.parse(sessionStorage.getItem("pickup_address"));e.$api.get("/api/check-territory2?lat_lng="+s.location+"&pincode="+s.postal_code+"&xid="+e.xid,t).then((function(t){a.style.display="none",0==t.data.full_screen_error_status?(e.territory_data=t.data,e.picked_address_array={drop_flat:s.drop_flat,flat_no:s.flat_no,id:s.id,location:s.location,location_type:s.location_type,name:s.name,nick_name:s.nick_name,pick_flat:s.pick_flat,postal_code:s.postal_code,updated_at:s.updated_at,user_id:s.user_id,territory_id:t.data.zone_id},e.picked_address=e.picked_address_array.name,sessionStorage.setItem("pickup_address",JSON.stringify(e.picked_address_array))):e.territory_checkup_dialog=!0})).catch((function(e){console.log(e)}))}else if(2==e.$route.query.address){a=document.getElementById("loader2");a.style.display="block",e.$api.get("/api/check-territory2?lat_lng="+e.$store.state.latlongs+"&pincode="+e.$store.state.pincode+"&xid="+e.xid,t).then((function(t){a.style.display="none",0==t.data.full_screen_error_status?(e.territory_data=t.data,e.picked_address_array={flat_no:null,location:e.$store.state.latlongs,location_type:null,name:e.$store.state.address,postal_code:e.$store.state.pincode,user_id:e.$store.state.xid,territory_id:t.data.zone_id},sessionStorage.setItem("pickup_address",JSON.stringify(e.picked_address_array)),e.picked_address=e.picked_address_array.name):e.territory_checkup_dialog=!0})).catch((function(e){console.log(e)}));a=document.getElementById("loader2");a.style.display="block";var r=JSON.parse(sessionStorage.getItem("delivery_address"));e.$api.get("/api/check-territory2?lat_lng="+r.location+"&pincode="+r.postal_code+"&xid="+e.xid,t).then((function(t){a.style.display="none",0==t.data.full_screen_error_status?(e.delivery_address_array={drop_flat:r.drop_flat,flat_no:r.flat_no,id:r.id,location:r.location,location_type:r.location_type,name:r.name,nick_name:r.nick_name,pick_flat:r.pick_flat,postal_code:r.postal_code,updated_at:r.updated_at,user_id:r.user_id,territory_id:t.data.zone_id},sessionStorage.setItem("delivery_address",JSON.stringify(e.delivery_address_array)),e.delivery_address=e.delivery_address_array.name):e.territory_checkup_dialog=!0})).catch((function(e){console.log(e)}))}else if(12==e.$route.query.address){a=document.getElementById("loader2");a.style.display="block";s=JSON.parse(sessionStorage.getItem("pickup_address"));e.$api.get("/api/check-territory2?lat_lng="+s.location+"&pincode="+s.postal_code+"&xid="+e.xid,t).then((function(t){a.style.display="none",0==t.data.full_screen_error_status?(e.territory_data=t.data,e.picked_address_array={drop_flat:s.drop_flat,flat_no:s.flat_no,id:s.id,location:s.location,location_type:s.location_type,name:s.name,nick_name:s.nick_name,pick_flat:s.pick_flat,postal_code:s.postal_code,updated_at:s.updated_at,user_id:s.user_id,territory_id:t.data.zone_id},sessionStorage.setItem("pickup_address",JSON.stringify(e.picked_address_array)),e.picked_address=e.picked_address_array.name):e.territory_checkup_dialog=!0})).catch((function(e){console.log(e)}));a=document.getElementById("loader2");a.style.display="block";r=JSON.parse(sessionStorage.getItem("delivery_address"));e.$api.get("/api/check-territory2?lat_lng="+r.location+"&pincode="+r.postal_code+"&xid="+e.xid,t).then((function(t){a.style.display="none",0==t.data.full_screen_error_status?(e.delivery_address_array={drop_flat:r.drop_flat,flat_no:r.flat_no,id:r.id,location:r.location,location_type:r.location_type,name:r.name,nick_name:r.nick_name,pick_flat:r.pick_flat,postal_code:r.postal_code,updated_at:r.updated_at,user_id:r.user_id,territory_id:t.data.zone_id},e.delivery_address=e.delivery_address_array.name,sessionStorage.setItem("delivery_address",JSON.stringify(e.delivery_address_array))):e.territory_checkup_dialog=!0})).catch((function(e){console.log(e)}))}},onsubmit(){var e=this;if(!e.picked_address)return e.$q.notify({message:"Please Select Pickup Address",type:"negative"}),!1;if(!e.delivery_address)return e.$q.notify({message:"Please Select Drop Address",type:"negative"}),!1;if(e.delivery_address_array.location==e.picked_address_array.location)return e.$q.notify({message:"Both Pick and Drop Location Are same...",type:"negative",icon:"close"}),!1;e.instructions&&sessionStorage.setItem("instructions",e.instructions);const t=new Date;let a=new FormData;a.append("to_location",e.picked_address_array.location),a.append("coupon",null),a.append("pick_time",t.getUTCHours()+":"+t.getUTCMinutes()+":"+t.getUTCSeconds()),a.append("drop_territory_id",e.delivery_address_array.territory_id),a.append("from_location",e.delivery_address_array.location),a.append("weight",null),a.append("pick_date",t.getFullYear()+"-"+e.addZero(t.getDay())+"-"+e.addZero(t.getUTCDate())),a.append("schedule_timestamp",null),a.append("week_end",null),a.append("plan",null),a.append("pick_territory_id",e.picked_address_array.territory_id);var s=document.getElementById("loader2");s.style.display="block";let r={headers:{Authorization:`Bearer ${e.access_token}`}};e.$api.post("/api/fare-pickdrop",a,r).then((function(t){s.style.display="none",e.category=JSON.parse(sessionStorage.getItem("category")),3==e.category.main_service_id?t.data.distance_in_km<=e.territory_data.vicinity_range/1e3?e.$router.push("/DriveMeMap"):e.territory_checkup_dialog=!0:t.data.distance_in_km<=e.territory_data.vicinity_range/1e3?e.$router.push("PickAndDrop_Checkout"):e.territory_checkup_dialog=!0})).catch((function(e){console.log(e)}))},addZero(e){return e<10&&(e="0"+e),e},mypath(){var e=this,t=[],a=0;if(sessionStorage.getItem("mypath")&&(t=JSON.parse(sessionStorage.getItem("mypath"))),t.forEach(((t,s)=>{e.$route.fullPath==t&&0==a&&(a=s)})),0==a)t.push(e.$route.fullPath);else for(var s=1;s<=t.length;++s)s<=a||t.splice(s,1);sessionStorage.setItem("mypath",JSON.stringify(t))},Screen_Back_Redirection(){var e=this,t=JSON.parse(sessionStorage.getItem("mypath")),a=t.length;e.$router.push(t[a-2])}}};var E=a(4260),U=a(3066),V=a(3812),T=a(9570),F=a(8240),M=a(2025),R=a(9721),L=a(2652),Y=a(4379),K=a(5845),G=a(4593),X=a(4027),ee=a(8689),te=a(4554),ae=a(4842),se=a(6778),re=a(151),oe=a(5589),de=a(5096),ie=a(7518),le=a.n(ie);const ne=(0,E.Z)(A,[["render",O]]),ce=ne;le()(A,"components",{QLayout:U.Z,QHeader:V.Z,QToolbar:T.Z,QBtn:F.Z,QSpace:M.Z,QBadge:R.Z,QPageContainer:L.Z,QPage:Y.Z,QCarousel:K.Z,QCarouselSlide:G.Z,QImg:X.Z,QForm:ee.Z,QIcon:te.Z,QInput:ae.Z,QDialog:se.Z,QCard:re.Z,QCardSection:oe.Z,QAvatar:de.Z})}}]);