"use strict";(self["webpackChunkpwa_wibsite"]=self["webpackChunkpwa_wibsite"]||[]).push([[967],{7967:(e,t,l)=>{l.r(t),l.d(t,{default:()=>J});var a=l(3673),s=l(2323);const o=(0,a._)("div",{id:"loader2",class:"pre-loader",style:{display:"none"}},null,-1),i={class:"flex cb-bg-white-2"},n=(0,a._)("span",{class:"cb-text-orange-8 text-subtitle2"},"Profile",-1),c=["src"],d={key:1,src:"https://chotabeta.com/icons/Group%202.png"},r={class:"flex q-px-sm"},m=(0,a.Uk)("Username"),u=(0,a._)("hr",null,null,-1),p={class:"flex q-px-sm"},g=(0,a.Uk)("Email"),h={key:0},f={key:1},b=(0,a._)("hr",null,null,-1),_={class:"flex q-px-sm"},w=(0,a.Uk)("Phone"),y=(0,a._)("hr",null,null,-1),k={class:"flex q-px-sm"},x=(0,a.Uk)("Address"),q=(0,a.Uk)(" SAVED ADDRESSES "),v={style:{width:"10%"}},W={class:"q-px-sm",style:{width:"90%"}},z={class:"text-subtitle2 cb-text-blue-8 text-weight-bolder"},U=(0,a.Uk)(" Home "),$=(0,a._)("div",{style:{"font-size":"11px"}}," Province or State as appropriate; mail code as appropriate; and country. Sample 1. Sample 2. Sample 3 ",-1),V=(0,a.Uk)(" Update Profile ");function D(e,t,l,D,S,Z){const C=(0,a.up)("q-space"),H=(0,a.up)("q-btn"),Q=(0,a.up)("q-avatar"),A=(0,a.up)("q-card-section"),E=(0,a.up)("q-icon"),B=(0,a.up)("q-card"),I=(0,a.up)("q-card-actions"),P=(0,a.up)("q-input"),j=(0,a.up)("q-select"),T=(0,a.up)("q-form"),F=(0,a.up)("q-dialog"),G=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(G,null,{default:(0,a.w5)((()=>[o,(0,a._)("div",i,[(0,a.Wm)(C),(0,a.Wm)(C),n,(0,a.Wm)(C),(0,a.Wm)(H,{label:"logout",class:"cb-text-orange-8",flat:"",size:"sm","icon-right":"logout",onClick:Z.logout},null,8,["onClick"])]),(0,a.Wm)(B,{class:"q-ma-md shadow-3"},{default:(0,a.w5)((()=>[(0,a.Wm)(A,{class:"flex flex-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(Q,{class:"shadow-3",size:"100px"},{default:(0,a.w5)((()=>[D.profile_pic?((0,a.wg)(),(0,a.iD)("img",{key:0,src:D.profile_pic},null,8,c)):((0,a.wg)(),(0,a.iD)("img",d)),(0,a.Wm)(H,{icon:"photo_camera",size:"sm",round:"",class:"absolute-bottom-right cb-bg-orange-8 text-white",style:{"margin-right":"-3px","margin-bottom":"-3px"}})])),_:1})])),_:1}),(0,a.Wm)(A,{class:"cb-text-grey-4"},{default:(0,a.w5)((()=>[(0,a._)("div",r,[m,(0,a.Wm)(C),(0,a.Uk)((0,s.zw)(D.name),1)]),u,(0,a._)("div",p,[g,(0,a.Wm)(C),D.email?((0,a.wg)(),(0,a.iD)("span",f,(0,s.zw)(D.email),1)):((0,a.wg)(),(0,a.iD)("span",h,[(0,a.Wm)(H,{onClick:Z.update_email,label:"Update Email",class:"cb-text-orange-8",flat:"",dense:"",size:"sm"},null,8,["onClick"])]))]),b,(0,a._)("div",_,[w,(0,a.Wm)(C),(0,a.Uk)((0,s.zw)(D.mobile),1)]),y,(0,a._)("div",k,[x,(0,a.Wm)(C),(0,a.Uk)((0,s.zw)(D.address),1)]),(0,a._)("div",null,[(0,a.Wm)(H,{label:"Edit Profile",flat:"",size:"md",class:"q-pa-none cb-text-orange-8",onClick:t[0]||(t[0]=e=>(Z.get_servicing_cities(),D.edit_profile=!0))},{default:(0,a.w5)((()=>[(0,a.Wm)(E,{name:"edit",style:{"font-size":"14px"},class:"q-px-sm"})])),_:1})])])),_:1})])),_:1}),(0,a.Wm)(B,{class:"q-mx-md shadow-3"},{default:(0,a.w5)((()=>[(0,a.Wm)(A,{class:"cb-bg-white-2 cb-text-blue-8 text-weight-bolder"},{default:(0,a.w5)((()=>[q])),_:1}),(0,a.Wm)(A,{class:"q-pa-sm"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(D.n,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"flex q-py-sm",style:{"border-bottom":"1px solid #D9D9D9"},key:e},[(0,a._)("div",v,[(0,a.Wm)(H,{icon:"house",round:"",class:"cb-bg-orange-8 text-white",size:"sm"})]),(0,a._)("div",W,[(0,a._)("div",z,[U,(0,a.Wm)(H,{"icon-right":"delete",label:"Delete",class:"cb-text-orange-8 float-right",dense:"",size:"sm",flat:""})]),$])])))),128))])),_:1}),(0,a.Wm)(I,null,{default:(0,a.w5)((()=>[3==D.n?((0,a.wg)(),(0,a.j4)(H,{key:0,label:"View More",flat:"",dense:"",size:"sm",class:"cb-text-orange-8",onClick:t[1]||(t[1]=e=>Z.address_count(D.n))})):((0,a.wg)(),(0,a.j4)(H,{key:1,label:"View less",flat:"",dense:"",size:"sm",class:"cb-text-orange-8",onClick:t[2]||(t[2]=e=>Z.address_count(D.n))}))])),_:1})])),_:1}),(0,a.Wm)(F,{modelValue:D.edit_profile,"onUpdate:modelValue":t[6]||(t[6]=e=>D.edit_profile=e)},{default:(0,a.w5)((()=>[(0,a.Wm)(B,{class:"full-width"},{default:(0,a.w5)((()=>[(0,a.Wm)(A,{class:"cb-text-blue-8 cb-bg-white-2"},{default:(0,a.w5)((()=>[V])),_:1}),(0,a.Wm)(A,{class:"q-pa-md"},{default:(0,a.w5)((()=>[(0,a.Wm)(T,{onSubmit:Z.update_email,class:"text-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(P,{dense:"",outlined:"",class:"q-mb-sm",placeholder:"name",modelValue:D.name,"onUpdate:modelValue":t[3]||(t[3]=e=>D.name=e)},null,8,["modelValue"]),(0,a.Wm)(P,{dense:"",outlined:"",class:"q-mb-sm",placeholder:"email",modelValue:D.email,"onUpdate:modelValue":t[4]||(t[4]=e=>D.email=e),type:"email"},null,8,["modelValue"]),(0,a.Wm)(j,{dense:"",outlined:"",class:"q-mb-sm",placeholder:"",modelValue:D.address,"onUpdate:modelValue":t[5]||(t[5]=e=>D.address=e),options:D.cities},null,8,["modelValue","options"]),(0,a.Wm)(H,{type:"submit",label:"Update",class:"cb-bg-orange-8 text-white q-px-lg"})])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}l(1768);var S=l(1959);const Z={setup(){return{data:(0,S.iH)(null),access_token:(0,S.iH)(null),profile_pic:(0,S.iH)(null),name:(0,S.iH)(null),email:(0,S.iH)(null),mobile:(0,S.iH)(null),address:(0,S.iH)(null),n:(0,S.iH)(3),edit_profile:(0,S.iH)(!1),cities:(0,S.iH)([])}},mounted(){this.getAccessToken(),this.userdetails()},methods:{getAccessToken(){var e=this;e.access_token=e.$store.state.token,null!=e.access_token&&e.access_token||e.$router.push("")},userdetails(){var e=this,t=document.getElementById("loader2");t.style.display="block";let l={headers:{Authorization:`Bearer ${e.access_token}`}};e.$api.get("/api/user",l).then((function(l){t.style.display="none",e.profile_pic=l.data.profile_pic,e.name=l.data.name,e.email=l.data.email,e.mobile=l.data.mobile,e.address=l.data.address})).catch((function(e){console.log(e)}))},address_count(e){var t=this;t.n=3==e?10:3},get_servicing_cities(){var e=this,t=document.getElementById("loader2");t.style.display="block";let l={headers:{Authorization:`Bearer ${e.access_token}`}};e.$api.get("/api/get-serving-locations",l).then((function(l){t.style.display="none",200==l.data.status_code?e.cities=l.data.locations:e.$q.notify({message:l.data.message,type:"negative",progress:!0})})).catch((function(e){console.log(e)}))},update_email(){var e=this,t=document.getElementById("loader2");t.style.display="block";let l={headers:{Authorization:`Bearer ${e.access_token}`}};e.$api.post("/api/edit-profile",{name:e.name,city:e.address,email:e.email},l).then((function(l){t.style.display="none",200==l.data.status_code?e.$q.notify({message:l.data.message,type:"positive",progress:!0}):e.$q.notify({message:l.data.message,type:"negative",progress:!0})})).catch((function(e){console.log(e)}))},logout(){var e=this,t=document.getElementById("loader2");t.style.display="block";let l={headers:{Authorization:`Bearer ${e.$store.state.token}`}};e.$api.get("/api/logout",l).then((function(l){console.log(l),t.style.display="none",200==l.data.status_code&&e.$store.dispatch("logout").then((t=>{e.$q.notify({message:t,type:"positive",progress:!0}),e.$router.push("/")})).catch((e=>{console.log(e)}))})).catch((function(e){console.log(e)})),e.$router.push("")}}};var C=l(4260),H=l(4379),Q=l(2025),A=l(8240),E=l(151),B=l(5589),I=l(5096),P=l(4554),j=l(9367),T=l(6778),F=l(8689),G=l(4842),K=l(9560),M=l(7518),R=l.n(M);const Y=(0,C.Z)(Z,[["render",D]]),J=Y;R()(Z,"components",{QPage:H.Z,QSpace:Q.Z,QBtn:A.Z,QCard:E.Z,QCardSection:B.Z,QAvatar:I.Z,QIcon:P.Z,QCardActions:j.Z,QDialog:T.Z,QForm:F.Z,QInput:G.Z,QSelect:K.Z})}}]);